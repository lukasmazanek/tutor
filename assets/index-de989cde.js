(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xc={exports:{}},wi={},bc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),cf=Symbol.for("react.portal"),df=Symbol.for("react.fragment"),hf=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),pf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),gf=Symbol.for("react.memo"),wf=Symbol.for("react.lazy"),zl=Symbol.iterator;function _f(t){return t===null||typeof t!="object"?null:(t=zl&&t[zl]||t["@@iterator"],typeof t=="function"?t:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sc=Object.assign,jc={};function nr(t,e,n){this.props=t,this.context=e,this.refs=jc,this.updater=n||kc}nr.prototype.isReactComponent={};nr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ec(){}Ec.prototype=nr.prototype;function Ia(t,e,n){this.props=t,this.context=e,this.refs=jc,this.updater=n||kc}var La=Ia.prototype=new Ec;La.constructor=Ia;Sc(La,nr.prototype);La.isPureReactComponent=!0;var Dl=Array.isArray,Cc=Object.prototype.hasOwnProperty,$a={current:null},Pc={key:!0,ref:!0,__self:!0,__source:!0};function Tc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Cc.call(e,r)&&!Pc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:es,type:t,key:i,ref:o,props:s,_owner:$a.current}}function xf(t,e){return{$$typeof:es,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function za(t){return typeof t=="object"&&t!==null&&t.$$typeof===es}function bf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ul=/\/+/g;function Vi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bf(""+t.key):e.toString(36)}function Os(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case es:case cf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vi(o,0):r,Dl(s)?(n="",t!=null&&(n=t.replace(Ul,"$&/")+"/"),Os(s,e,n,"",function(u){return u})):s!=null&&(za(s)&&(s=xf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ul,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Vi(i,a);o+=Os(i,e,n,l,s)}else if(l=_f(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Vi(i,a++),o+=Os(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ls(t,e,n){if(t==null)return t;var r=[],s=0;return Os(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Ns={transition:null},Sf={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:$a};function Oc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ls,forEach:function(t,e,n){ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!za(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=nr;U.Fragment=df;U.Profiler=ff;U.PureComponent=Ia;U.StrictMode=hf;U.Suspense=vf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sf;U.act=Oc;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$a.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cc.call(e,l)&&!Pc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:es,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:mf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pf,_context:t},t.Consumer=t};U.createElement=Tc;U.createFactory=function(t){var e=Tc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:yf,render:t}};U.isValidElement=za;U.lazy=function(t){return{$$typeof:wf,_payload:{_status:-1,_result:t},_init:kf}};U.memo=function(t,e){return{$$typeof:gf,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=e}};U.unstable_act=Oc;U.useCallback=function(t,e){return Pe.current.useCallback(t,e)};U.useContext=function(t){return Pe.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};U.useEffect=function(t,e){return Pe.current.useEffect(t,e)};U.useId=function(){return Pe.current.useId()};U.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Pe.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};U.useRef=function(t){return Pe.current.useRef(t)};U.useState=function(t){return Pe.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Pe.current.useTransition()};U.version="18.3.1";bc.exports=U;var x=bc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=x,Ef=Symbol.for("react.element"),Cf=Symbol.for("react.fragment"),Pf=Object.prototype.hasOwnProperty,Tf=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Of={key:!0,ref:!0,__self:!0,__source:!0};function Nc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Pf.call(e,r)&&!Of.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ef,type:t,key:i,ref:o,props:s,_owner:Tf.current}}wi.Fragment=Cf;wi.jsx=Nc;wi.jsxs=Nc;xc.exports=wi;var c=xc.exports,Rc={exports:{}},Be={},Ac={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,z){var L=C.length;C.push(z);e:for(;0<L;){var D=L-1>>>1,F=C[D];if(0<s(F,z))C[D]=z,C[L]=F,L=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var z=C[0],L=C.pop();if(L!==z){C[0]=L;e:for(var D=0,F=C.length,yn=F>>>1;D<yn;){var at=2*(D+1)-1,q=C[at],R=at+1,X=C[R];if(0>s(q,L))R<F&&0>s(X,q)?(C[D]=X,C[R]=L,D=R):(C[D]=q,C[at]=L,D=at);else if(R<F&&0>s(X,L))C[D]=X,C[R]=L,D=R;else break e}}return z}function s(C,z){var L=C.sortIndex-z.sortIndex;return L!==0?L:C.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,y=!1,g=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=C)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function _(C){if(w=!1,m(C),!g)if(n(l)!==null)g=!0,H(k);else{var z=n(u);z!==null&&ae(_,z.startTime-C)}}function k(C,z){g=!1,w&&(w=!1,v(P),P=-1),y=!0;var L=h;try{for(m(z),f=n(l);f!==null&&(!(f.expirationTime>z)||C&&!M());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var F=D(f.expirationTime<=z);z=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),m(z)}else r(l);f=n(l)}if(f!==null)var yn=!0;else{var at=n(u);at!==null&&ae(_,at.startTime-z),yn=!1}return yn}finally{f=null,h=L,y=!1}}var S=!1,E=null,P=-1,$=5,N=-1;function M(){return!(t.unstable_now()-N<$)}function V(){if(E!==null){var C=t.unstable_now();N=C;var z=!0;try{z=E(!0,C)}finally{z?ie():(S=!1,E=null)}}else S=!1}var ie;if(typeof p=="function")ie=function(){p(V)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Oe=me.port2;me.port1.onmessage=V,ie=function(){Oe.postMessage(null)}}else ie=function(){b(V,0)};function H(C){E=C,S||(S=!0,ie())}function ae(C,z){P=b(function(){C(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,H(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var L=h;h=z;try{return C()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,z){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=h;h=C;try{return z()}finally{h=L}},t.unstable_scheduleCallback=function(C,z,L){var D=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?D+L:D):L=D,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,C={id:d++,callback:z,priorityLevel:C,startTime:L,expirationTime:F,sortIndex:-1},L>D?(C.sortIndex=L,e(u,C),n(l)===null&&C===n(u)&&(w?(v(P),P=-1):w=!0,ae(_,L-D))):(C.sortIndex=F,e(l,C),g||y||(g=!0,H(k))),C},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(C){var z=h;return function(){var L=h;h=z;try{return C.apply(this,arguments)}finally{h=L}}}})(Ic);Ac.exports=Ic;var Nf=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=x,qe=Nf;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lc=new Set,Nr={};function pn(t,e){Kn(t,e),Kn(t+"Capture",e)}function Kn(t,e){for(Nr[t]=e,t=0;t<e.length;t++)Lc.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ml={},Vl={};function If(t){return Oo.call(Vl,t)?!0:Oo.call(Ml,t)?!1:Af.test(t)?Vl[t]=!0:(Ml[t]=!0,!1)}function Lf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $f(t,e,n,r){if(e===null||typeof e>"u"||Lf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Da=/[\-:]([a-z])/g;function Ua(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Da,Ua);xe[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Da,Ua);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Da,Ua);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ma(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($f(e,n,s,r)&&(n=null),r||s===null?If(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var St=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),No=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),zc=Symbol.for("react.context"),qa=Symbol.for("react.forward_ref"),Ro=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Dc=Symbol.for("react.offscreen"),ql=Symbol.iterator;function ar(t){return t===null||typeof t!="object"?null:(t=ql&&t[ql]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,qi;function mr(t){if(qi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qi=e&&e[1]||""}return`
`+qi+t}var Bi=!1;function Xi(t,e){if(!t||Bi)return"";Bi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mr(t):""}function zf(t){switch(t.tag){case 5:return mr(t.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return t=Xi(t.type,!1),t;case 11:return t=Xi(t.type.render,!1),t;case 1:return t=Xi(t.type,!0),t;default:return""}}function Io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tn:return"Fragment";case Pn:return"Portal";case No:return"Profiler";case Va:return"StrictMode";case Ro:return"Suspense";case Ao:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zc:return(t.displayName||"Context")+".Consumer";case $c:return(t._context.displayName||"Context")+".Provider";case qa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ba:return e=t.displayName||null,e!==null?e:Io(t.type)||"Memo";case Pt:e=t._payload,t=t._init;try{return Io(t(e))}catch{}}return null}function Df(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Io(e);case 8:return e===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uf(t){var e=Uc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=Uf(t))}function Mc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lo(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vc(t,e){e=e.checked,e!=null&&Ma(t,"checked",e,!1)}function $o(t,e){Vc(t,e);var n=Xt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zo(t,e.type,n):e.hasOwnProperty("defaultValue")&&zo(t,e.type,Xt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zo(t,e,n){(e!=="number"||qs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yr=Array.isArray;function Vn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Do(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(yr(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xt(n)}}function qc(t,e){var n=Xt(e.value),r=Xt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ds,Xc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ds.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){Mf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]})});function Wc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_r.hasOwnProperty(t)&&_r[t]?(""+e).trim():e+"px"}function Fc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Vf=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mo(t,e){if(e){if(Vf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Vo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function Xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bo=null,qn=null,Bn=null;function Hl(t){if(t=rs(t)){if(typeof Bo!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Si(e),Bo(t.stateNode,t.type,e))}}function Hc(t){qn?Bn?Bn.push(t):Bn=[t]:qn=t}function Kc(){if(qn){var t=qn,e=Bn;if(Bn=qn=null,Hl(t),e)for(t=0;t<e.length;t++)Hl(e[t])}}function Jc(t,e){return t(e)}function Gc(){}var Wi=!1;function Yc(t,e,n){if(Wi)return t(e,n);Wi=!0;try{return Jc(t,e,n)}finally{Wi=!1,(qn!==null||Bn!==null)&&(Gc(),Kc())}}function Ar(t,e){var n=t.stateNode;if(n===null)return null;var r=Si(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Xo=!1;if(_t)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Xo=!1}function qf(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var xr=!1,Bs=null,Xs=!1,Wo=null,Bf={onError:function(t){xr=!0,Bs=t}};function Xf(t,e,n,r,s,i,o,a,l){xr=!1,Bs=null,qf.apply(Bf,arguments)}function Wf(t,e,n,r,s,i,o,a,l){if(Xf.apply(this,arguments),xr){if(xr){var u=Bs;xr=!1,Bs=null}else throw Error(j(198));Xs||(Xs=!0,Wo=u)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kl(t){if(mn(t)!==t)throw Error(j(188))}function Ff(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kl(s),t;if(i===r)return Kl(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Zc(t){return t=Ff(t),t!==null?ed(t):null}function ed(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ed(t);if(e!==null)return e;t=t.sibling}return null}var td=qe.unstable_scheduleCallback,Jl=qe.unstable_cancelCallback,Hf=qe.unstable_shouldYield,Kf=qe.unstable_requestPaint,oe=qe.unstable_now,Jf=qe.unstable_getCurrentPriorityLevel,Wa=qe.unstable_ImmediatePriority,nd=qe.unstable_UserBlockingPriority,Ws=qe.unstable_NormalPriority,Gf=qe.unstable_LowPriority,rd=qe.unstable_IdlePriority,_i=null,dt=null;function Yf(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:ep,Qf=Math.log,Zf=Math.LN2;function ep(t){return t>>>=0,t===0?32:31-(Qf(t)/Zf|0)|0}var hs=64,fs=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vr(a):(i&=o,i!==0&&(r=vr(i)))}else o=n&~s,o!==0?r=vr(o):i!==0&&(r=vr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-st(e),s=1<<n,r|=t[n],e&=~s;return r}function tp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function np(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-st(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Fo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sd(){var t=hs;return hs<<=1,!(hs&4194240)&&(hs=64),t}function Fi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-st(e),t[e]=n}function rp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-st(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-st(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function id(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var od,Ha,ad,ld,ud,Ho=!1,ps=[],$t=null,zt=null,Dt=null,Ir=new Map,Lr=new Map,Nt=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(e.pointerId)}}function ur(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=rs(e),e!==null&&Ha(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ip(t,e,n,r,s){switch(e){case"focusin":return $t=ur($t,t,e,n,r,s),!0;case"dragenter":return zt=ur(zt,t,e,n,r,s),!0;case"mouseover":return Dt=ur(Dt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ir.set(i,ur(Ir.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lr.set(i,ur(Lr.get(i)||null,t,e,n,r,s)),!0}return!1}function cd(t){var e=nn(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=Qc(n),e!==null){t.blockedOn=e,ud(t.priority,function(){ad(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ko(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qo=r,n.target.dispatchEvent(r),qo=null}else return e=rs(n),e!==null&&Ha(e),t.blockedOn=n,!1;e.shift()}return!0}function Yl(t,e,n){Rs(t)&&n.delete(e)}function op(){Ho=!1,$t!==null&&Rs($t)&&($t=null),zt!==null&&Rs(zt)&&(zt=null),Dt!==null&&Rs(Dt)&&(Dt=null),Ir.forEach(Yl),Lr.forEach(Yl)}function cr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ho||(Ho=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,op)))}function $r(t){function e(s){return cr(s,t)}if(0<ps.length){cr(ps[0],t);for(var n=1;n<ps.length;n++){var r=ps[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&cr($t,t),zt!==null&&cr(zt,t),Dt!==null&&cr(Dt,t),Ir.forEach(e),Lr.forEach(e),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)cd(n),n.blockedOn===null&&Nt.shift()}var Xn=St.ReactCurrentBatchConfig,Hs=!0;function ap(t,e,n,r){var s=W,i=Xn.transition;Xn.transition=null;try{W=1,Ka(t,e,n,r)}finally{W=s,Xn.transition=i}}function lp(t,e,n,r){var s=W,i=Xn.transition;Xn.transition=null;try{W=4,Ka(t,e,n,r)}finally{W=s,Xn.transition=i}}function Ka(t,e,n,r){if(Hs){var s=Ko(t,e,n,r);if(s===null)no(t,e,r,Ks,n),Gl(t,r);else if(ip(s,t,e,n,r))r.stopPropagation();else if(Gl(t,r),e&4&&-1<sp.indexOf(t)){for(;s!==null;){var i=rs(s);if(i!==null&&od(i),i=Ko(t,e,n,r),i===null&&no(t,e,r,Ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else no(t,e,r,null,n)}}var Ks=null;function Ko(t,e,n,r){if(Ks=null,t=Xa(r),t=nn(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ks=t,null}function dd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jf()){case Wa:return 1;case nd:return 4;case Ws:case Gf:return 16;case rd:return 536870912;default:return 16}default:return 16}}var It=null,Ja=null,As=null;function hd(){if(As)return As;var t,e=Ja,n=e.length,r,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return As=s.slice(t,1<r?1-r:void 0)}function Is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Ql(){return!1}function Xe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:Ql,this.isPropagationStopped=Ql,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),e}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Xe(rr),ns=ne({},rr,{view:0,detail:0}),up=Xe(ns),Hi,Ki,dr,xi=ne({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(Hi=t.screenX-dr.screenX,Ki=t.screenY-dr.screenY):Ki=Hi=0,dr=t),Hi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),Zl=Xe(xi),cp=ne({},xi,{dataTransfer:0}),dp=Xe(cp),hp=ne({},ns,{relatedTarget:0}),Ji=Xe(hp),fp=ne({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=Xe(fp),mp=ne({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yp=Xe(mp),vp=ne({},rr,{data:0}),eu=Xe(vp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_p[t])?!!e[t]:!1}function Ya(){return xp}var bp=ne({},ns,{key:function(t){if(t.key){var e=gp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kp=Xe(bp),Sp=ne({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=Xe(Sp),jp=ne({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Ep=Xe(jp),Cp=ne({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=Xe(Cp),Tp=ne({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=Xe(Tp),Np=[9,13,27,32],Qa=_t&&"CompositionEvent"in window,br=null;_t&&"documentMode"in document&&(br=document.documentMode);var Rp=_t&&"TextEvent"in window&&!br,fd=_t&&(!Qa||br&&8<br&&11>=br),nu=String.fromCharCode(32),ru=!1;function pd(t,e){switch(t){case"keyup":return Np.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function Ap(t,e){switch(t){case"compositionend":return md(e);case"keypress":return e.which!==32?null:(ru=!0,nu);case"textInput":return t=e.data,t===nu&&ru?null:t;default:return null}}function Ip(t,e){if(On)return t==="compositionend"||!Qa&&pd(t,e)?(t=hd(),As=Ja=It=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fd&&e.locale!=="ko"?null:e.data;default:return null}}var Lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function su(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lp[t.type]:e==="textarea"}function yd(t,e,n,r){Hc(r),e=Js(e,"onChange"),0<e.length&&(n=new Ga("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kr=null,zr=null;function $p(t){Cd(t,0)}function bi(t){var e=An(t);if(Mc(e))return t}function zp(t,e){if(t==="change")return e}var vd=!1;if(_t){var Gi;if(_t){var Yi="oninput"in document;if(!Yi){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),Yi=typeof iu.oninput=="function"}Gi=Yi}else Gi=!1;vd=Gi&&(!document.documentMode||9<document.documentMode)}function ou(){kr&&(kr.detachEvent("onpropertychange",gd),zr=kr=null)}function gd(t){if(t.propertyName==="value"&&bi(zr)){var e=[];yd(e,zr,t,Xa(t)),Yc($p,e)}}function Dp(t,e,n){t==="focusin"?(ou(),kr=e,zr=n,kr.attachEvent("onpropertychange",gd)):t==="focusout"&&ou()}function Up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bi(zr)}function Mp(t,e){if(t==="click")return bi(e)}function Vp(t,e){if(t==="input"||t==="change")return bi(e)}function qp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:qp;function Dr(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function au(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lu(t,e){var n=au(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function wd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _d(){for(var t=window,e=qs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qs(t.document)}return e}function Za(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bp(t){var e=_d(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(r!==null&&Za(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=lu(n,i);var o=lu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xp=_t&&"documentMode"in document&&11>=document.documentMode,Nn=null,Jo=null,Sr=null,Go=!1;function uu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Go||Nn==null||Nn!==qs(r)||(r=Nn,"selectionStart"in r&&Za(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Dr(Sr,r)||(Sr=r,r=Js(Jo,"onSelect"),0<r.length&&(e=new Ga("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nn)))}function ys(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rn={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},Qi={},xd={};_t&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function ki(t){if(Qi[t])return Qi[t];if(!Rn[t])return t;var e=Rn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xd)return Qi[t]=e[n];return t}var bd=ki("animationend"),kd=ki("animationiteration"),Sd=ki("animationstart"),jd=ki("transitionend"),Ed=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(t,e){Ed.set(t,e),pn(e,[t])}for(var Zi=0;Zi<cu.length;Zi++){var eo=cu[Zi],Wp=eo.toLowerCase(),Fp=eo[0].toUpperCase()+eo.slice(1);Ft(Wp,"on"+Fp)}Ft(bd,"onAnimationEnd");Ft(kd,"onAnimationIteration");Ft(Sd,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(jd,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function du(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wf(r,e,void 0,t),t.currentTarget=null}function Cd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;du(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;du(s,a,u),i=l}}}if(Xs)throw t=Wo,Xs=!1,Wo=null,t}function G(t,e){var n=e[ta];n===void 0&&(n=e[ta]=new Set);var r=t+"__bubble";n.has(r)||(Pd(e,t,2,!1),n.add(r))}function to(t,e,n){var r=0;e&&(r|=4),Pd(n,t,r,e)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[vs]){t[vs]=!0,Lc.forEach(function(n){n!=="selectionchange"&&(Hp.has(n)||to(n,!1,t),to(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vs]||(e[vs]=!0,to("selectionchange",!1,e))}}function Pd(t,e,n,r){switch(dd(e)){case 1:var s=ap;break;case 4:s=lp;break;default:s=Ka}n=s.bind(null,e,n,t),s=void 0,!Xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function no(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Yc(function(){var u=i,d=Xa(n),f=[];e:{var h=Ed.get(t);if(h!==void 0){var y=Ga,g=t;switch(t){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":y=kp;break;case"focusin":g="focus",y=Ji;break;case"focusout":g="blur",y=Ji;break;case"beforeblur":case"afterblur":y=Ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ep;break;case bd:case kd:case Sd:y=pp;break;case jd:y=Pp;break;case"scroll":y=up;break;case"wheel":y=Op;break;case"copy":case"cut":case"paste":y=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=tu}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,v!==null&&(_=Ar(p,v),_!=null&&w.push(Mr(p,_,m)))),b)break;p=p.return}0<w.length&&(h=new y(h,g,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==qo&&(g=n.relatedTarget||n.fromElement)&&(nn(g)||g[xt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?nn(g):null,g!==null&&(b=mn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(w=Zl,_="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=tu,_="onPointerLeave",v="onPointerEnter",p="pointer"),b=y==null?h:An(y),m=g==null?h:An(g),h=new w(_,p+"leave",y,n,d),h.target=b,h.relatedTarget=m,_=null,nn(d)===u&&(w=new w(v,p+"enter",g,n,d),w.target=m,w.relatedTarget=b,_=w),b=_,y&&g)t:{for(w=y,v=g,p=0,m=w;m;m=vn(m))p++;for(m=0,_=v;_;_=vn(_))m++;for(;0<p-m;)w=vn(w),p--;for(;0<m-p;)v=vn(v),m--;for(;p--;){if(w===v||v!==null&&w===v.alternate)break t;w=vn(w),v=vn(v)}w=null}else w=null;y!==null&&hu(f,h,y,w,!1),g!==null&&b!==null&&hu(f,b,g,w,!0)}}e:{if(h=u?An(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=zp;else if(su(h))if(vd)k=Vp;else{k=Up;var S=Dp}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Mp);if(k&&(k=k(t,u))){yd(f,k,n,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&zo(h,"number",h.value)}switch(S=u?An(u):window,t){case"focusin":(su(S)||S.contentEditable==="true")&&(Nn=S,Jo=u,Sr=null);break;case"focusout":Sr=Jo=Nn=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,uu(f,n,d);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":uu(f,n,d)}var E;if(Qa)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else On?pd(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(fd&&n.locale!=="ko"&&(On||P!=="onCompositionStart"?P==="onCompositionEnd"&&On&&(E=hd()):(It=d,Ja="value"in It?It.value:It.textContent,On=!0)),S=Js(u,P),0<S.length&&(P=new eu(P,t,null,n,d),f.push({event:P,listeners:S}),E?P.data=E:(E=md(n),E!==null&&(P.data=E)))),(E=Rp?Ap(t,n):Ip(t,n))&&(u=Js(u,"onBeforeInput"),0<u.length&&(d=new eu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Cd(f,e)})}function Mr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Js(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ar(t,n),i!=null&&r.unshift(Mr(t,i,s)),i=Ar(t,e),i!=null&&r.push(Mr(t,i,s))),t=t.return}return r}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ar(n,i),l!=null&&o.unshift(Mr(n,l,a))):s||(l=Ar(n,i),l!=null&&o.push(Mr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kp=/\r\n?/g,Jp=/\u0000|\uFFFD/g;function fu(t){return(typeof t=="string"?t:""+t).replace(Kp,`
`).replace(Jp,"")}function gs(t,e,n){if(e=fu(e),fu(t)!==e&&n)throw Error(j(425))}function Gs(){}var Yo=null,Qo=null;function Zo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,Gp=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(t){return pu.resolve(null).then(t).catch(Qp)}:ea;function Qp(t){setTimeout(function(){throw t})}function ro(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$r(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(e)}function Ut(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sr=Math.random().toString(36).slice(2),ct="__reactFiber$"+sr,Vr="__reactProps$"+sr,xt="__reactContainer$"+sr,ta="__reactEvents$"+sr,Zp="__reactListeners$"+sr,em="__reactHandles$"+sr;function nn(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mu(t);t!==null;){if(n=t[ct])return n;t=mu(t)}return e}t=n,n=t.parentNode}return null}function rs(t){return t=t[ct]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Si(t){return t[Vr]||null}var na=[],In=-1;function Ht(t){return{current:t}}function Y(t){0>In||(t.current=na[In],na[In]=null,In--)}function J(t,e){In++,na[In]=t.current,t.current=e}var Wt={},je=Ht(Wt),Ae=Ht(!1),un=Wt;function Jn(t,e){var n=t.type.contextTypes;if(!n)return Wt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Ys(){Y(Ae),Y(je)}function yu(t,e,n){if(je.current!==Wt)throw Error(j(168));J(je,e),J(Ae,n)}function Td(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,Df(t)||"Unknown",s));return ne({},n,r)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,un=je.current,J(je,t),J(Ae,Ae.current),!0}function vu(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Td(t,e,un),r.__reactInternalMemoizedMergedChildContext=t,Y(Ae),Y(je),J(je,t)):Y(Ae),J(Ae,n)}var yt=null,ji=!1,so=!1;function Od(t){yt===null?yt=[t]:yt.push(t)}function tm(t){ji=!0,Od(t)}function Kt(){if(!so&&yt!==null){so=!0;var t=0,e=W;try{var n=yt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yt=null,ji=!1}catch(s){throw yt!==null&&(yt=yt.slice(t+1)),td(Wa,Kt),s}finally{W=e,so=!1}}return null}var Ln=[],$n=0,Zs=null,ei=0,We=[],Fe=0,cn=null,vt=1,gt="";function Yt(t,e){Ln[$n++]=ei,Ln[$n++]=Zs,Zs=t,ei=e}function Nd(t,e,n){We[Fe++]=vt,We[Fe++]=gt,We[Fe++]=cn,cn=t;var r=vt;t=gt;var s=32-st(r)-1;r&=~(1<<s),n+=1;var i=32-st(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vt=1<<32-st(e)+s|n<<s|r,gt=i+t}else vt=1<<i|n<<s|r,gt=t}function el(t){t.return!==null&&(Yt(t,1),Nd(t,1,0))}function tl(t){for(;t===Zs;)Zs=Ln[--$n],Ln[$n]=null,ei=Ln[--$n],Ln[$n]=null;for(;t===cn;)cn=We[--Fe],We[Fe]=null,gt=We[--Fe],We[Fe]=null,vt=We[--Fe],We[Fe]=null}var Ve=null,Me=null,Q=!1,rt=null;function Rd(t,e){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,Me=Ut(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:vt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ve=t,Me=null,!0):!1;default:return!1}}function ra(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sa(t){if(Q){var e=Me;if(e){var n=e;if(!gu(t,e)){if(ra(t))throw Error(j(418));e=Ut(n.nextSibling);var r=Ve;e&&gu(t,e)?Rd(r,n):(t.flags=t.flags&-4097|2,Q=!1,Ve=t)}}else{if(ra(t))throw Error(j(418));t.flags=t.flags&-4097|2,Q=!1,Ve=t}}}function wu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function ws(t){if(t!==Ve)return!1;if(!Q)return wu(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zo(t.type,t.memoizedProps)),e&&(e=Me)){if(ra(t))throw Ad(),Error(j(418));for(;e;)Rd(t,e),e=Ut(e.nextSibling)}if(wu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=Ut(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=Ve?Ut(t.stateNode.nextSibling):null;return!0}function Ad(){for(var t=Me;t;)t=Ut(t.nextSibling)}function Gn(){Me=Ve=null,Q=!1}function nl(t){rt===null?rt=[t]:rt.push(t)}var nm=St.ReactCurrentBatchConfig;function hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function _s(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _u(t){var e=t._init;return e(t._payload)}function Id(t){function e(v,p){if(t){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function n(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Bt(v,p),v.index=0,v.sibling=null,v}function i(v,p,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,p,m,_){return p===null||p.tag!==6?(p=ho(m,v.mode,_),p.return=v,p):(p=s(p,m),p.return=v,p)}function l(v,p,m,_){var k=m.type;return k===Tn?d(v,p,m.props.children,_,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pt&&_u(k)===p.type)?(_=s(p,m.props),_.ref=hr(v,p,m),_.return=v,_):(_=Vs(m.type,m.key,m.props,null,v.mode,_),_.ref=hr(v,p,m),_.return=v,_)}function u(v,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=fo(m,v.mode,_),p.return=v,p):(p=s(p,m.children||[]),p.return=v,p)}function d(v,p,m,_,k){return p===null||p.tag!==7?(p=ln(m,v.mode,_,k),p.return=v,p):(p=s(p,m),p.return=v,p)}function f(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ho(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case us:return m=Vs(p.type,p.key,p.props,null,v.mode,m),m.ref=hr(v,null,p),m.return=v,m;case Pn:return p=fo(p,v.mode,m),p.return=v,p;case Pt:var _=p._init;return f(v,_(p._payload),m)}if(yr(p)||ar(p))return p=ln(p,v.mode,m,null),p.return=v,p;_s(v,p)}return null}function h(v,p,m,_){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(v,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case us:return m.key===k?l(v,p,m,_):null;case Pn:return m.key===k?u(v,p,m,_):null;case Pt:return k=m._init,h(v,p,k(m._payload),_)}if(yr(m)||ar(m))return k!==null?null:d(v,p,m,_,null);_s(v,m)}return null}function y(v,p,m,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(m)||null,a(p,v,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case us:return v=v.get(_.key===null?m:_.key)||null,l(p,v,_,k);case Pn:return v=v.get(_.key===null?m:_.key)||null,u(p,v,_,k);case Pt:var S=_._init;return y(v,p,m,S(_._payload),k)}if(yr(_)||ar(_))return v=v.get(m)||null,d(p,v,_,k,null);_s(p,_)}return null}function g(v,p,m,_){for(var k=null,S=null,E=p,P=p=0,$=null;E!==null&&P<m.length;P++){E.index>P?($=E,E=null):$=E.sibling;var N=h(v,E,m[P],_);if(N===null){E===null&&(E=$);break}t&&E&&N.alternate===null&&e(v,E),p=i(N,p,P),S===null?k=N:S.sibling=N,S=N,E=$}if(P===m.length)return n(v,E),Q&&Yt(v,P),k;if(E===null){for(;P<m.length;P++)E=f(v,m[P],_),E!==null&&(p=i(E,p,P),S===null?k=E:S.sibling=E,S=E);return Q&&Yt(v,P),k}for(E=r(v,E);P<m.length;P++)$=y(E,v,P,m[P],_),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?P:$.key),p=i($,p,P),S===null?k=$:S.sibling=$,S=$);return t&&E.forEach(function(M){return e(v,M)}),Q&&Yt(v,P),k}function w(v,p,m,_){var k=ar(m);if(typeof k!="function")throw Error(j(150));if(m=k.call(m),m==null)throw Error(j(151));for(var S=k=null,E=p,P=p=0,$=null,N=m.next();E!==null&&!N.done;P++,N=m.next()){E.index>P?($=E,E=null):$=E.sibling;var M=h(v,E,N.value,_);if(M===null){E===null&&(E=$);break}t&&E&&M.alternate===null&&e(v,E),p=i(M,p,P),S===null?k=M:S.sibling=M,S=M,E=$}if(N.done)return n(v,E),Q&&Yt(v,P),k;if(E===null){for(;!N.done;P++,N=m.next())N=f(v,N.value,_),N!==null&&(p=i(N,p,P),S===null?k=N:S.sibling=N,S=N);return Q&&Yt(v,P),k}for(E=r(v,E);!N.done;P++,N=m.next())N=y(E,v,P,N.value,_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?P:N.key),p=i(N,p,P),S===null?k=N:S.sibling=N,S=N);return t&&E.forEach(function(V){return e(v,V)}),Q&&Yt(v,P),k}function b(v,p,m,_){if(typeof m=="object"&&m!==null&&m.type===Tn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case us:e:{for(var k=m.key,S=p;S!==null;){if(S.key===k){if(k=m.type,k===Tn){if(S.tag===7){n(v,S.sibling),p=s(S,m.props.children),p.return=v,v=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pt&&_u(k)===S.type){n(v,S.sibling),p=s(S,m.props),p.ref=hr(v,S,m),p.return=v,v=p;break e}n(v,S);break}else e(v,S);S=S.sibling}m.type===Tn?(p=ln(m.props.children,v.mode,_,m.key),p.return=v,v=p):(_=Vs(m.type,m.key,m.props,null,v.mode,_),_.ref=hr(v,p,m),_.return=v,v=_)}return o(v);case Pn:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(v,p.sibling),p=s(p,m.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else e(v,p);p=p.sibling}p=fo(m,v.mode,_),p.return=v,v=p}return o(v);case Pt:return S=m._init,b(v,p,S(m._payload),_)}if(yr(m))return g(v,p,m,_);if(ar(m))return w(v,p,m,_);_s(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,m),p.return=v,v=p):(n(v,p),p=ho(m,v.mode,_),p.return=v,v=p),o(v)):n(v,p)}return b}var Yn=Id(!0),Ld=Id(!1),ti=Ht(null),ni=null,zn=null,rl=null;function sl(){rl=zn=ni=null}function il(t){var e=ti.current;Y(ti),t._currentValue=e}function ia(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wn(t,e){ni=t,rl=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(rl!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(ni===null)throw Error(j(308));zn=t,ni.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var rn=null;function ol(t){rn===null?rn=[t]:rn.push(t)}function $d(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ol(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tt=!1;function al(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,ol(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fa(t,n)}}function xu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ri(t,e,n,r){var s=t.updateQueue;Tt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,w=a;switch(h=e,y=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=ne({},f,h);break e;case 2:Tt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hn|=o,t.lanes=o,t.memoizedState=f}}function bu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var ss={},ht=Ht(ss),qr=Ht(ss),Br=Ht(ss);function sn(t){if(t===ss)throw Error(j(174));return t}function ll(t,e){switch(J(Br,e),J(qr,t),J(ht,ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uo(e,t)}Y(ht),J(ht,e)}function Qn(){Y(ht),Y(qr),Y(Br)}function Dd(t){sn(Br.current);var e=sn(ht.current),n=Uo(e,t.type);e!==n&&(J(qr,t),J(ht,n))}function ul(t){qr.current===t&&(Y(ht),Y(qr))}var ee=Ht(0);function si(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var io=[];function cl(){for(var t=0;t<io.length;t++)io[t]._workInProgressVersionPrimary=null;io.length=0}var $s=St.ReactCurrentDispatcher,oo=St.ReactCurrentBatchConfig,dn=0,te=null,de=null,fe=null,ii=!1,jr=!1,Xr=0,rm=0;function be(){throw Error(j(321))}function dl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ot(t[n],e[n]))return!1;return!0}function hl(t,e,n,r,s,i){if(dn=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$s.current=t===null||t.memoizedState===null?am:lm,t=n(r,s),jr){i=0;do{if(jr=!1,Xr=0,25<=i)throw Error(j(301));i+=1,fe=de=null,e.updateQueue=null,$s.current=um,t=n(r,s)}while(jr)}if($s.current=oi,e=de!==null&&de.next!==null,dn=0,fe=de=te=null,ii=!1,e)throw Error(j(300));return t}function fl(){var t=Xr!==0;return Xr=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?te.memoizedState=fe=t:fe=fe.next=t,fe}function Ge(){if(de===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=fe===null?te.memoizedState:fe.next;if(e!==null)fe=e,de=t;else{if(t===null)throw Error(j(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?te.memoizedState=fe=t:fe=fe.next=t}return fe}function Wr(t,e){return typeof e=="function"?e(t):e}function ao(t){var e=Ge(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((dn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,te.lanes|=d,hn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ot(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,hn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ot(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ud(){}function Md(t,e){var n=te,r=Ge(),s=e(),i=!ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Re=!0),r=r.queue,pl(Bd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Fr(9,qd.bind(null,n,r,s,e),void 0,null),pe===null)throw Error(j(349));dn&30||Vd(n,e,s)}return s}function Vd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qd(t,e,n,r){e.value=n,e.getSnapshot=r,Xd(e)&&Wd(t)}function Bd(t,e,n){return n(function(){Xd(e)&&Wd(t)})}function Xd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ot(t,n)}catch{return!0}}function Wd(t){var e=bt(t,1);e!==null&&it(e,t,1,-1)}function ku(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},e.queue=t,t=t.dispatch=om.bind(null,te,t),[e.memoizedState,t]}function Fr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fd(){return Ge().memoizedState}function zs(t,e,n,r){var s=ut();te.flags|=t,s.memoizedState=Fr(1|e,n,void 0,r===void 0?null:r)}function Ei(t,e,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&dl(r,o.deps)){s.memoizedState=Fr(e,n,i,r);return}}te.flags|=t,s.memoizedState=Fr(1|e,n,i,r)}function Su(t,e){return zs(8390656,8,t,e)}function pl(t,e){return Ei(2048,8,t,e)}function Hd(t,e){return Ei(4,2,t,e)}function Kd(t,e){return Ei(4,4,t,e)}function Jd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gd(t,e,n){return n=n!=null?n.concat([t]):null,Ei(4,4,Jd.bind(null,e,t),n)}function ml(){}function Yd(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qd(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zd(t,e,n){return dn&21?(ot(n,e)||(n=sd(),te.lanes|=n,hn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function sm(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=oo.transition;oo.transition={};try{t(!1),e()}finally{W=n,oo.transition=r}}function eh(){return Ge().memoizedState}function im(t,e,n){var r=qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},th(t))nh(e,n);else if(n=$d(t,e,n,r),n!==null){var s=Ce();it(n,t,r,s),rh(n,e,r)}}function om(t,e,n){var r=qt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(th(t))nh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ot(a,o)){var l=e.interleaved;l===null?(s.next=s,ol(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$d(t,e,s,r),n!==null&&(s=Ce(),it(n,t,r,s),rh(n,e,r))}}function th(t){var e=t.alternate;return t===te||e!==null&&e===te}function nh(t,e){jr=ii=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fa(t,n)}}var oi={readContext:Je,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},am={readContext:Je,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:Su,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zs(4194308,4,Jd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=im.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:ku,useDebugValue:ml,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=ku(!1),e=t[0];return t=sm.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,s=ut();if(Q){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),pe===null)throw Error(j(349));dn&30||Vd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Su(Bd.bind(null,r,i,t),[t]),r.flags|=2048,Fr(9,qd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ut(),e=pe.identifierPrefix;if(Q){var n=gt,r=vt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lm={readContext:Je,useCallback:Yd,useContext:Je,useEffect:pl,useImperativeHandle:Gd,useInsertionEffect:Hd,useLayoutEffect:Kd,useMemo:Qd,useReducer:ao,useRef:Fd,useState:function(){return ao(Wr)},useDebugValue:ml,useDeferredValue:function(t){var e=Ge();return Zd(e,de.memoizedState,t)},useTransition:function(){var t=ao(Wr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ud,useSyncExternalStore:Md,useId:eh,unstable_isNewReconciler:!1},um={readContext:Je,useCallback:Yd,useContext:Je,useEffect:pl,useImperativeHandle:Gd,useInsertionEffect:Hd,useLayoutEffect:Kd,useMemo:Qd,useReducer:lo,useRef:Fd,useState:function(){return lo(Wr)},useDebugValue:ml,useDeferredValue:function(t){var e=Ge();return de===null?e.memoizedState=t:Zd(e,de.memoizedState,t)},useTransition:function(){var t=lo(Wr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ud,useSyncExternalStore:Md,useId:eh,unstable_isNewReconciler:!1};function Ze(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ci={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=qt(t),i=wt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(it(e,t,s,r),Ls(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=qt(t),i=wt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(it(e,t,s,r),Ls(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),r=qt(t),s=wt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,r),e!==null&&(it(e,t,r,n),Ls(e,t,r))}};function ju(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dr(n,r)||!Dr(s,i):!0}function sh(t,e,n){var r=!1,s=Wt,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ie(e)?un:je.current,r=e.contextTypes,i=(r=r!=null)?Jn(t,s):Wt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ci,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Eu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ci.enqueueReplaceState(e,e.state,null)}function aa(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},al(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ie(e)?un:je.current,s.context=Jn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(oa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ci.enqueueReplaceState(s,s.state,null),ri(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zn(t,e){try{var n="",r=e;do n+=zf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function la(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cm=typeof WeakMap=="function"?WeakMap:Map;function ih(t,e,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){li||(li=!0,ga=r),la(t,e)},n}function oh(t,e,n){n=wt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){la(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){la(t,e),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Sm.bind(null,t,e,n),e.then(t,t))}function Pu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wt(-1,1),e.tag=2,Mt(n,e,1))),n.lanes|=1),t)}var dm=St.ReactCurrentOwner,Re=!1;function Ee(t,e,n,r){e.child=t===null?Ld(e,null,n,r):Yn(e,t.child,n,r)}function Ou(t,e,n,r,s){n=n.render;var i=e.ref;return Wn(e,s),r=hl(t,e,n,r,i,s),n=fl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&n&&el(e),e.flags|=1,Ee(t,e,r,s),e.child)}function Nu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ah(t,e,i,r,s)):(t=Vs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dr,n(o,r)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Bt(i,r),t.ref=e.ref,t.return=e,e.child=t}function ah(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dr(i,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,kt(t,e,s)}return ua(t,e,n,r,s)}function lh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Un,ze),ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Un,ze),ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,J(Un,ze),ze|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,J(Un,ze),ze|=r;return Ee(t,e,s,n),e.child}function uh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ua(t,e,n,r,s){var i=Ie(n)?un:je.current;return i=Jn(e,i),Wn(e,s),n=hl(t,e,n,r,i,s),r=fl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&r&&el(e),e.flags|=1,Ee(t,e,n,s),e.child)}function Ru(t,e,n,r,s){if(Ie(n)){var i=!0;Qs(e)}else i=!1;if(Wn(e,s),e.stateNode===null)Ds(t,e),sh(e,n,r),aa(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ie(n)?un:je.current,u=Jn(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Eu(e,o,r,u),Tt=!1;var h=e.memoizedState;o.state=h,ri(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ae.current||Tt?(typeof d=="function"&&(oa(e,n,d,r),l=e.memoizedState),(a=Tt||ju(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ze(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Ie(n)?un:je.current,l=Jn(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Eu(e,o,r,l),Tt=!1,h=e.memoizedState,o.state=h,ri(e,r,o,s);var g=e.memoizedState;a!==f||h!==g||Ae.current||Tt?(typeof y=="function"&&(oa(e,n,y,r),g=e.memoizedState),(u=Tt||ju(e,n,u,r,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ca(t,e,n,r,i,s)}function ca(t,e,n,r,s,i){uh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&vu(e,n,!1),kt(t,e,i);r=e.stateNode,dm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yn(e,t.child,null,i),e.child=Yn(e,null,a,i)):Ee(t,e,a,i),e.memoizedState=r.state,s&&vu(e,n,!0),e.child}function ch(t){var e=t.stateNode;e.pendingContext?yu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yu(t,e.context,!1),ll(t,e.containerInfo)}function Au(t,e,n,r,s){return Gn(),nl(s),e.flags|=256,Ee(t,e,n,r),e.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(t){return{baseLanes:t,cachePool:null,transitions:null}}function dh(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(ee,s&1),t===null)return sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oi(o,r,0,null),t=ln(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ha(n),e.memoizedState=da,t):yl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hm(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bt(a,i):(i=ln(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=da,r}return i=t.child,t=i.sibling,r=Bt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yl(t,e){return e=Oi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xs(t,e,n,r){return r!==null&&nl(r),Yn(e,t.child,null,n),t=yl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=uo(Error(j(422))),xs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oi({mode:"visible",children:r.children},s,0,null),i=ln(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yn(e,t.child,null,o),e.child.memoizedState=ha(o),e.memoizedState=da,i);if(!(e.mode&1))return xs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=uo(i,r,void 0),xs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Re||a){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),it(r,t,s,-1))}return bl(),r=uo(Error(j(421))),xs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Me=Ut(s.nextSibling),Ve=e,Q=!0,rt=null,t!==null&&(We[Fe++]=vt,We[Fe++]=gt,We[Fe++]=cn,vt=t.id,gt=t.overflow,cn=e),e=yl(e,r.children),e.flags|=4096,e)}function Iu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ia(t.return,e,n)}function co(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iu(t,n,e);else if(t.tag===19)Iu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(J(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&si(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),co(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&si(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}co(e,!0,n,null,i);break;case"together":co(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Bt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fm(t,e,n){switch(e.tag){case 3:ch(e),Gn();break;case 5:Dd(e);break;case 1:Ie(e.type)&&Qs(e);break;case 4:ll(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;J(ti,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(J(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?dh(t,e,n):(J(ee,ee.current&1),t=kt(t,e,n),t!==null?t.sibling:null);J(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,lh(t,e,n)}return kt(t,e,n)}var fh,fa,ph,mh;fh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fa=function(){};ph=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,sn(ht.current);var i=null;switch(n){case"input":s=Lo(t,s),r=Lo(t,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=Do(t,s),r=Do(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gs)}Mo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};mh=function(t,e,n,r){n!==r&&(e.flags|=4)};function fr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pm(t,e,n){var r=e.pendingProps;switch(tl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Ie(e.type)&&Ys(),ke(e),null;case 3:return r=e.stateNode,Qn(),Y(Ae),Y(je),cl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(xa(rt),rt=null))),fa(t,e),ke(e),null;case 5:ul(e);var s=sn(Br.current);if(n=e.type,t!==null&&e.stateNode!=null)ph(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return ke(e),null}if(t=sn(ht.current),ws(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ct]=e,r[Vr]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<gr.length;s++)G(gr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Bl(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Wl(r,i),G("invalid",r)}Mo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,a,t),s=["children",""+a]):Nr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":cs(r),Xl(r,i,!0);break;case"textarea":cs(r),Fl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ct]=e,t[Vr]=r,fh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vo(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<gr.length;s++)G(gr[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":Bl(t,r),s=Lo(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),G("invalid",t);break;case"textarea":Wl(t,r),s=Do(t,r),G("invalid",t);break;default:s=r}Mo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rr(t,l):typeof l=="number"&&Rr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",t):l!=null&&Ma(t,i,l,o))}switch(n){case"input":cs(t),Xl(t,r,!1);break;case"textarea":cs(t),Fl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)mh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=sn(Br.current),sn(ht.current),ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(i=r.nodeValue!==n)&&(t=Ve,t!==null))switch(t.tag){case 3:gs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return ke(e),null;case 13:if(Y(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Me!==null&&e.mode&1&&!(e.flags&128))Ad(),Gn(),e.flags|=98560,i=!1;else if(i=ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ct]=e}else Gn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else rt!==null&&(xa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?he===0&&(he=3):bl())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return Qn(),fa(t,e),t===null&&Ur(e.stateNode.containerInfo),ke(e),null;case 10:return il(e.type._context),ke(e),null;case 17:return Ie(e.type)&&Ys(),ke(e),null;case 19:if(Y(ee),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fr(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=si(t),o!==null){for(e.flags|=128,fr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return J(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>er&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304)}else{if(!r)if(t=si(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ke(e),null}else 2*oe()-i.renderingStartTime>er&&n!==1073741824&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=ee.current,J(ee,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return xl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ze&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function mm(t,e){switch(tl(e),e.tag){case 1:return Ie(e.type)&&Ys(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qn(),Y(Ae),Y(je),cl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ul(e),null;case 13:if(Y(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Gn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(ee),null;case 4:return Qn(),null;case 10:return il(e.type._context),null;case 22:case 23:return xl(),null;case 24:return null;default:return null}}var bs=!1,Se=!1,ym=typeof WeakSet=="function"?WeakSet:Set,T=null;function Dn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function pa(t,e,n){try{n()}catch(r){se(t,e,r)}}var Lu=!1;function vm(t,e){if(Yo=Hs,t=_d(),Za(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:t,selectionRange:n},Hs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,b=g.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ze(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){se(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return g=Lu,Lu=!1,g}function Er(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&pa(e,n,i)}s=s.next}while(s!==r)}}function Pi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ma(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yh(t){var e=t.alternate;e!==null&&(t.alternate=null,yh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Vr],delete e[ta],delete e[Zp],delete e[em])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vh(t){return t.tag===5||t.tag===3||t.tag===4}function $u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ya(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gs));else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}function va(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(va(t,e,n),t=t.sibling;t!==null;)va(t,e,n),t=t.sibling}var we=null,tt=!1;function Et(t,e,n){for(n=n.child;n!==null;)gh(t,e,n),n=n.sibling}function gh(t,e,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(_i,n)}catch{}switch(n.tag){case 5:Se||Dn(n,e);case 6:var r=we,s=tt;we=null,Et(t,e,n),we=r,tt=s,we!==null&&(tt?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(tt?(t=we,n=n.stateNode,t.nodeType===8?ro(t.parentNode,n):t.nodeType===1&&ro(t,n),$r(t)):ro(we,n.stateNode));break;case 4:r=we,s=tt,we=n.stateNode.containerInfo,tt=!0,Et(t,e,n),we=r,tt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pa(n,e,o),s=s.next}while(s!==r)}Et(t,e,n);break;case 1:if(!Se&&(Dn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){se(n,e,a)}Et(t,e,n);break;case 21:Et(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Et(t,e,n),Se=r):Et(t,e,n);break;default:Et(t,e,n)}}function zu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ym),e.forEach(function(r){var s=Em.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,tt=!1;break e;case 3:we=a.stateNode.containerInfo,tt=!0;break e;case 4:we=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(we===null)throw Error(j(160));gh(i,o,s),we=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wh(e,t),e=e.sibling}function wh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),lt(t),r&4){try{Er(3,t,t.return),Pi(3,t)}catch(w){se(t,t.return,w)}try{Er(5,t,t.return)}catch(w){se(t,t.return,w)}}break;case 1:Ye(e,t),lt(t),r&512&&n!==null&&Dn(n,n.return);break;case 5:if(Ye(e,t),lt(t),r&512&&n!==null&&Dn(n,n.return),t.flags&32){var s=t.stateNode;try{Rr(s,"")}catch(w){se(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vc(s,i),Vo(a,o);var u=Vo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Fc(s,f):d==="dangerouslySetInnerHTML"?Xc(s,f):d==="children"?Rr(s,f):Ma(s,d,f,u)}switch(a){case"input":$o(s,i);break;case"textarea":qc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vn(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vr]=i}catch(w){se(t,t.return,w)}}break;case 6:if(Ye(e,t),lt(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){se(t,t.return,w)}}break;case 3:if(Ye(e,t),lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(e.containerInfo)}catch(w){se(t,t.return,w)}break;case 4:Ye(e,t),lt(t);break;case 13:Ye(e,t),lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wl=oe())),r&4&&zu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(u=Se)||d,Ye(e,t),Se=u):Ye(e,t),lt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(f=T=d;T!==null;){switch(h=T,y=h.child,h.tag){case 0:case 11:case 14:case 15:Er(4,h,h.return);break;case 1:Dn(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){se(r,n,w)}}break;case 5:Dn(h,h.return);break;case 22:if(h.memoizedState!==null){Uu(f);continue}}y!==null?(y.return=h,T=y):Uu(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wc("display",o))}catch(w){se(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){se(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(e,t),lt(t),r&4&&zu(t);break;case 21:break;default:Ye(e,t),lt(t)}}function lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vh(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rr(s,""),r.flags&=-33);var i=$u(t);va(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$u(t);ya(t,a,o);break;default:throw Error(j(161))}}catch(l){se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gm(t,e,n){T=t,_h(t)}function _h(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Se;a=bs;var u=Se;if(bs=o,(Se=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?Mu(s):l!==null?(l.return=o,T=l):Mu(s);for(;i!==null;)T=i,_h(i),i=i.sibling;T=s,bs=a,Se=u}Du(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Du(t)}}function Du(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Pi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ze(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$r(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Se||e.flags&512&&ma(e)}catch(h){se(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Uu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Mu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pi(4,e)}catch(l){se(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){se(e,s,l)}}var i=e.return;try{ma(e)}catch(l){se(e,i,l)}break;case 5:var o=e.return;try{ma(e)}catch(l){se(e,o,l)}}}catch(l){se(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var wm=Math.ceil,ai=St.ReactCurrentDispatcher,vl=St.ReactCurrentOwner,Ke=St.ReactCurrentBatchConfig,B=0,pe=null,ue=null,_e=0,ze=0,Un=Ht(0),he=0,Hr=null,hn=0,Ti=0,gl=0,Cr=null,Ne=null,wl=0,er=1/0,pt=null,li=!1,ga=null,Vt=null,ks=!1,Lt=null,ui=0,Pr=0,wa=null,Us=-1,Ms=0;function Ce(){return B&6?oe():Us!==-1?Us:Us=oe()}function qt(t){return t.mode&1?B&2&&_e!==0?_e&-_e:nm.transition!==null?(Ms===0&&(Ms=sd()),Ms):(t=W,t!==0||(t=window.event,t=t===void 0?16:dd(t.type)),t):1}function it(t,e,n,r){if(50<Pr)throw Pr=0,wa=null,Error(j(185));ts(t,n,r),(!(B&2)||t!==pe)&&(t===pe&&(!(B&2)&&(Ti|=n),he===4&&Rt(t,_e)),Le(t,r),n===1&&B===0&&!(e.mode&1)&&(er=oe()+500,ji&&Kt()))}function Le(t,e){var n=t.callbackNode;np(t,e);var r=Fs(t,t===pe?_e:0);if(r===0)n!==null&&Jl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jl(n),e===1)t.tag===0?tm(Vu.bind(null,t)):Od(Vu.bind(null,t)),Yp(function(){!(B&6)&&Kt()}),n=null;else{switch(id(r)){case 1:n=Wa;break;case 4:n=nd;break;case 16:n=Ws;break;case 536870912:n=rd;break;default:n=Ws}n=Ph(n,xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xh(t,e){if(Us=-1,Ms=0,B&6)throw Error(j(327));var n=t.callbackNode;if(Fn()&&t.callbackNode!==n)return null;var r=Fs(t,t===pe?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ci(t,r);else{e=r;var s=B;B|=2;var i=kh();(pe!==t||_e!==e)&&(pt=null,er=oe()+500,an(t,e));do try{bm();break}catch(a){bh(t,a)}while(1);sl(),ai.current=i,B=s,ue!==null?e=0:(pe=null,_e=0,e=he)}if(e!==0){if(e===2&&(s=Fo(t),s!==0&&(r=s,e=_a(t,s))),e===1)throw n=Hr,an(t,0),Rt(t,r),Le(t,oe()),n;if(e===6)Rt(t,r);else{if(s=t.current.alternate,!(r&30)&&!_m(s)&&(e=ci(t,r),e===2&&(i=Fo(t),i!==0&&(r=i,e=_a(t,i))),e===1))throw n=Hr,an(t,0),Rt(t,r),Le(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Qt(t,Ne,pt);break;case 3:if(Rt(t,r),(r&130023424)===r&&(e=wl+500-oe(),10<e)){if(Fs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ea(Qt.bind(null,t,Ne,pt),e);break}Qt(t,Ne,pt);break;case 4:if(Rt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-st(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wm(r/1960))-r,10<r){t.timeoutHandle=ea(Qt.bind(null,t,Ne,pt),r);break}Qt(t,Ne,pt);break;case 5:Qt(t,Ne,pt);break;default:throw Error(j(329))}}}return Le(t,oe()),t.callbackNode===n?xh.bind(null,t):null}function _a(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=ci(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&xa(e)),t}function xa(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function _m(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rt(t,e){for(e&=~gl,e&=~Ti,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-st(e),r=1<<n;t[n]=-1,e&=~r}}function Vu(t){if(B&6)throw Error(j(327));Fn();var e=Fs(t,0);if(!(e&1))return Le(t,oe()),null;var n=ci(t,e);if(t.tag!==0&&n===2){var r=Fo(t);r!==0&&(e=r,n=_a(t,r))}if(n===1)throw n=Hr,an(t,0),Rt(t,e),Le(t,oe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qt(t,Ne,pt),Le(t,oe()),null}function _l(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(er=oe()+500,ji&&Kt())}}function fn(t){Lt!==null&&Lt.tag===0&&!(B&6)&&Fn();var e=B;B|=1;var n=Ke.transition,r=W;try{if(Ke.transition=null,W=1,t)return t()}finally{W=r,Ke.transition=n,B=e,!(B&6)&&Kt()}}function xl(){ze=Un.current,Y(Un)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gp(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(tl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ys();break;case 3:Qn(),Y(Ae),Y(je),cl();break;case 5:ul(r);break;case 4:Qn();break;case 13:Y(ee);break;case 19:Y(ee);break;case 10:il(r.type._context);break;case 22:case 23:xl()}n=n.return}if(pe=t,ue=t=Bt(t.current,null),_e=ze=e,he=0,Hr=null,gl=Ti=hn=0,Ne=Cr=null,rn!==null){for(e=0;e<rn.length;e++)if(n=rn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}rn=null}return t}function bh(t,e){do{var n=ue;try{if(sl(),$s.current=oi,ii){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ii=!1}if(dn=0,fe=de=te=null,jr=!1,Xr=0,vl.current=null,n===null||n.return===null){he=1,Hr=e,ue=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Pu(o);if(y!==null){y.flags&=-257,Tu(y,o,a,i,e),y.mode&1&&Cu(i,u,e),e=y,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){Cu(i,u,e),bl();break e}l=Error(j(426))}}else if(Q&&a.mode&1){var b=Pu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Tu(b,o,a,i,e),nl(Zn(l,a));break e}}i=l=Zn(l,a),he!==4&&(he=2),Cr===null?Cr=[i]:Cr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=ih(i,l,e);xu(i,v);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vt===null||!Vt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=oh(i,a,e);xu(i,_);break e}}i=i.return}while(i!==null)}jh(n)}catch(k){e=k,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(1)}function kh(){var t=ai.current;return ai.current=oi,t===null?oi:t}function bl(){(he===0||he===3||he===2)&&(he=4),pe===null||!(hn&268435455)&&!(Ti&268435455)||Rt(pe,_e)}function ci(t,e){var n=B;B|=2;var r=kh();(pe!==t||_e!==e)&&(pt=null,an(t,e));do try{xm();break}catch(s){bh(t,s)}while(1);if(sl(),B=n,ai.current=r,ue!==null)throw Error(j(261));return pe=null,_e=0,he}function xm(){for(;ue!==null;)Sh(ue)}function bm(){for(;ue!==null&&!Hf();)Sh(ue)}function Sh(t){var e=Ch(t.alternate,t,ze);t.memoizedProps=t.pendingProps,e===null?jh(t):ue=e,vl.current=null}function jh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mm(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ue=null;return}}else if(n=pm(n,e,ze),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);he===0&&(he=5)}function Qt(t,e,n){var r=W,s=Ke.transition;try{Ke.transition=null,W=1,km(t,e,n,r)}finally{Ke.transition=s,W=r}return null}function km(t,e,n,r){do Fn();while(Lt!==null);if(B&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rp(t,i),t===pe&&(ue=pe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,Ph(Ws,function(){return Fn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=W;W=1;var a=B;B|=4,vl.current=null,vm(t,n),wh(n,t),Bp(Qo),Hs=!!Yo,Qo=Yo=null,t.current=n,gm(n),Kf(),B=a,W=o,Ke.transition=i}else t.current=n;if(ks&&(ks=!1,Lt=t,ui=s),i=t.pendingLanes,i===0&&(Vt=null),Yf(n.stateNode),Le(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(li)throw li=!1,t=ga,ga=null,t;return ui&1&&t.tag!==0&&Fn(),i=t.pendingLanes,i&1?t===wa?Pr++:(Pr=0,wa=t):Pr=0,Kt(),null}function Fn(){if(Lt!==null){var t=id(ui),e=Ke.transition,n=W;try{if(Ke.transition=null,W=16>t?16:t,Lt===null)var r=!1;else{if(t=Lt,Lt=null,ui=0,B&6)throw Error(j(331));var s=B;for(B|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Er(8,d,i)}var f=d.child;if(f!==null)f.return=d,T=f;else for(;T!==null;){d=T;var h=d.sibling,y=d.return;if(yh(d),d===u){T=null;break}if(h!==null){h.return=y,T=h;break}T=y}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Er(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,T=v;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pi(9,a)}}catch(k){se(a,a.return,k)}if(a===o){T=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,T=_;break e}T=a.return}}if(B=s,Kt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(_i,t)}catch{}r=!0}return r}finally{W=n,Ke.transition=e}}return!1}function qu(t,e,n){e=Zn(n,e),e=ih(t,e,1),t=Mt(t,e,1),e=Ce(),t!==null&&(ts(t,1,e),Le(t,e))}function se(t,e,n){if(t.tag===3)qu(t,t,n);else for(;e!==null;){if(e.tag===3){qu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){t=Zn(n,t),t=oh(e,t,1),e=Mt(e,t,1),t=Ce(),e!==null&&(ts(e,1,t),Le(e,t));break}}e=e.return}}function Sm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>oe()-wl?an(t,0):gl|=n),Le(t,e)}function Eh(t,e){e===0&&(t.mode&1?(e=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):e=1);var n=Ce();t=bt(t,e),t!==null&&(ts(t,e,n),Le(t,n))}function jm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Eh(t,n)}function Em(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Eh(t,n)}var Ch;Ch=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,fm(t,e,n);Re=!!(t.flags&131072)}else Re=!1,Q&&e.flags&1048576&&Nd(e,ei,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ds(t,e),t=e.pendingProps;var s=Jn(e,je.current);Wn(e,n),s=hl(null,e,r,t,s,n);var i=fl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,Qs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,al(e),s.updater=Ci,e.stateNode=s,s._reactInternals=e,aa(e,r,t,n),e=ca(null,e,r,!0,i,n)):(e.tag=0,Q&&i&&el(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ds(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Pm(r),t=Ze(r,t),s){case 0:e=ua(null,e,r,t,n);break e;case 1:e=Ru(null,e,r,t,n);break e;case 11:e=Ou(null,e,r,t,n);break e;case 14:e=Nu(null,e,r,Ze(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),ua(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Ru(t,e,r,s,n);case 3:e:{if(ch(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zd(t,e),ri(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zn(Error(j(423)),e),e=Au(t,e,r,n,s);break e}else if(r!==s){s=Zn(Error(j(424)),e),e=Au(t,e,r,n,s);break e}else for(Me=Ut(e.stateNode.containerInfo.firstChild),Ve=e,Q=!0,rt=null,n=Ld(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===s){e=kt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return Dd(e),t===null&&sa(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zo(r,s)?o=null:i!==null&&Zo(r,i)&&(e.flags|=32),uh(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&sa(e),null;case 13:return dh(t,e,n);case 4:return ll(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yn(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Ou(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(ti,r._currentValue),r._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Ae.current){e=kt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ia(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ia(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wn(e,n),s=Je(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=Ze(r,e.pendingProps),s=Ze(r.type,s),Nu(t,e,r,s,n);case 15:return ah(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Ds(t,e),e.tag=1,Ie(r)?(t=!0,Qs(e)):t=!1,Wn(e,n),sh(e,r,s),aa(e,r,s,n),ca(null,e,r,!0,t,n);case 19:return hh(t,e,n);case 22:return lh(t,e,n)}throw Error(j(156,e.tag))};function Ph(t,e){return td(t,e)}function Cm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,n,r){return new Cm(t,e,n,r)}function kl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pm(t){if(typeof t=="function")return kl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qa)return 11;if(t===Ba)return 14}return 2}function Bt(t,e){var n=t.alternate;return n===null?(n=He(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")kl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Tn:return ln(n.children,s,i,e);case Va:o=8,s|=8;break;case No:return t=He(12,n,e,s|2),t.elementType=No,t.lanes=i,t;case Ro:return t=He(13,n,e,s),t.elementType=Ro,t.lanes=i,t;case Ao:return t=He(19,n,e,s),t.elementType=Ao,t.lanes=i,t;case Dc:return Oi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $c:o=10;break e;case zc:o=9;break e;case qa:o=11;break e;case Ba:o=14;break e;case Pt:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=He(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ln(t,e,n,r){return t=He(7,t,r,e),t.lanes=n,t}function Oi(t,e,n,r){return t=He(22,t,r,e),t.elementType=Dc,t.lanes=n,t.stateNode={isHidden:!1},t}function ho(t,e,n){return t=He(6,t,null,e),t.lanes=n,t}function fo(t,e,n){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sl(t,e,n,r,s,i,o,a,l){return t=new Tm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=He(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},al(i),t}function Om(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Th(t){if(!t)return Wt;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ie(n))return Td(t,n,e)}return e}function Oh(t,e,n,r,s,i,o,a,l){return t=Sl(n,r,!0,t,s,i,o,a,l),t.context=Th(null),n=t.current,r=Ce(),s=qt(n),i=wt(r,s),i.callback=e??null,Mt(n,i,s),t.current.lanes=s,ts(t,s,r),Le(t,r),t}function Ni(t,e,n,r){var s=e.current,i=Ce(),o=qt(s);return n=Th(n),e.context===null?e.context=n:e.pendingContext=n,e=wt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mt(s,e,o),t!==null&&(it(t,s,o,i),Ls(t,s,o)),o}function di(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jl(t,e){Bu(t,e),(t=t.alternate)&&Bu(t,e)}function Nm(){return null}var Nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function El(t){this._internalRoot=t}Ri.prototype.render=El.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ni(t,e,null,null)};Ri.prototype.unmount=El.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fn(function(){Ni(null,t,null,null)}),e[xt]=null}};function Ri(t){this._internalRoot=t}Ri.prototype.unstable_scheduleHydration=function(t){if(t){var e=ld();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&cd(t)}};function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ai(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Rm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=di(o);i.call(u)}}var o=Oh(e,r,t,0,null,!1,!1,"",Xu);return t._reactRootContainer=o,t[xt]=o.current,Ur(t.nodeType===8?t.parentNode:t),fn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=di(l);a.call(u)}}var l=Sl(t,0,!1,null,null,!1,!1,"",Xu);return t._reactRootContainer=l,t[xt]=l.current,Ur(t.nodeType===8?t.parentNode:t),fn(function(){Ni(e,l,n,r)}),l}function Ii(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=di(o);a.call(l)}}Ni(e,o,t,s)}else o=Rm(n,e,t,s,r);return di(o)}od=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vr(e.pendingLanes);n!==0&&(Fa(e,n|1),Le(e,oe()),!(B&6)&&(er=oe()+500,Kt()))}break;case 13:fn(function(){var r=bt(t,1);if(r!==null){var s=Ce();it(r,t,1,s)}}),jl(t,1)}};Ha=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=Ce();it(e,t,134217728,n)}jl(t,134217728)}};ad=function(t){if(t.tag===13){var e=qt(t),n=bt(t,e);if(n!==null){var r=Ce();it(n,t,e,r)}jl(t,e)}};ld=function(){return W};ud=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Bo=function(t,e,n){switch(e){case"input":if($o(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Si(r);if(!s)throw Error(j(90));Mc(r),$o(r,s)}}}break;case"textarea":qc(t,n);break;case"select":e=n.value,e!=null&&Vn(t,!!n.multiple,e,!1)}};Jc=_l;Gc=fn;var Am={usingClientEntryPoint:!1,Events:[rs,An,Si,Hc,Kc,_l]},pr={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Im={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zc(t),t===null?null:t.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{_i=Ss.inject(Im),dt=Ss}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cl(e))throw Error(j(200));return Om(t,e,null,n)};Be.createRoot=function(t,e){if(!Cl(t))throw Error(j(299));var n=!1,r="",s=Nh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Sl(t,1,!1,null,null,n,!1,r,s),t[xt]=e.current,Ur(t.nodeType===8?t.parentNode:t),new El(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Zc(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return fn(t)};Be.hydrate=function(t,e,n){if(!Ai(e))throw Error(j(200));return Ii(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!Cl(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Nh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Oh(e,null,t,1,n??null,s,!1,i,o),t[xt]=e.current,Ur(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ri(e)};Be.render=function(t,e,n){if(!Ai(e))throw Error(j(200));return Ii(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!Ai(t))throw Error(j(40));return t._reactRootContainer?(fn(function(){Ii(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};Be.unstable_batchedUpdates=_l;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ai(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ii(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function Rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rh)}catch(t){console.error(t)}}Rh(),Rc.exports=Be;var Lm=Rc.exports,Ah,Wu=Lm;Ah=Wu.createRoot,Wu.hydrateRoot;function $m({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const zm=x.forwardRef($m),Pl=zm;function Dm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Um=x.forwardRef(Dm),Mm=Um;function Vm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const qm=x.forwardRef(Vm),Bm=qm;function Xm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Wm=x.forwardRef(Xm),Fm=Wm;function Hm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Km=x.forwardRef(Hm),Ih=Km;function Jm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const Gm=x.forwardRef(Jm),Ym=Gm;function Qm({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Zm=x.forwardRef(Qm),Tl=Zm;function e0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const t0=x.forwardRef(e0),Lh=t0;function n0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const r0=x.forwardRef(n0),s0=r0;function i0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const o0=x.forwardRef(i0),a0=o0;function l0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061A1.125 1.125 0 0 1 3 16.811V8.69ZM12.75 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061a1.125 1.125 0 0 1-1.683-.977V8.69Z"}))}const u0=x.forwardRef(l0),c0=u0;function d0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const h0=x.forwardRef(d0),f0=h0;function p0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const m0=x.forwardRef(p0),is=m0;function y0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const v0=x.forwardRef(y0),g0=v0;function w0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const _0=x.forwardRef(w0),x0=_0;function b0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const k0=x.forwardRef(b0),hi=k0;function S0({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const j0=x.forwardRef(S0),$h=j0,E0="4.0",C0="2025-12-29T11:54:18.492Z",P0="ADR-022: Multi-mode questions with keyboard config",T0={averages:{id:"averages",name_cs:"Prmry",is_strength:!1,is_critical:!1},binomial_squares:{id:"binomial_squares",name_cs:"Umocovn (ab)",is_strength:!1,is_critical:!0},equations:{id:"equations",name_cs:"Linern rovnice",is_strength:!0,is_critical:!1},fractions:{id:"fractions",name_cs:"Zlomky",is_strength:!0,is_critical:!1},o_x_vice:{id:"o_x_vice",name_cs:"o X vce/mn",is_strength:!1,is_critical:!0},pythagorean:{id:"pythagorean",name_cs:"Pythagorova vta",is_strength:!0,is_critical:!1},sequences:{id:"sequences",name_cs:"Posloupnosti",is_strength:!1,is_critical:!0},unit_conversions:{id:"unit_conversions",name_cs:"Pevody jednotek",is_strength:!1,is_critical:!0},work_problems:{id:"work_problems",name_cs:"lohy o prci",is_strength:!1,is_critical:!1}},O0=[{id:"avg-001",topic:"averages",difficulty:1,question:{stem:"Jak je prmr sel 4, 8, 12?",context:"Jak je prmr sel 4, 8, 12?"},modes:{numeric:{answer:"8",unit:null,variants:[],distractors:["12","6"]}},keyboard:{variable:null},hints:["Prmr = souet vech hodnot  poet hodnot.","(4 + 8 + 12)  3 = 24  3 = 8."],solution:{steps:["Souet: 4 + 8 + 12 = 24","Poet hodnot: 3","Prmr: 24  3 = 8"],strategy:"Prmr = souet  poet"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-002",topic:"averages",difficulty:1,question:{stem:"Petr dostal z test znmky 2, 1, 3, 2. Jak je jeho prmr?",context:"Petr dostal z test znmky 2, 1, 3, 2. Jak je jeho prmr?"},modes:{numeric:{answer:"2",unit:null,variants:[],distractors:["1,5","2,5"]}},keyboard:{variable:null},hints:["Seti vechny znmky a vydl potem test.","(2 + 1 + 3 + 2)  4 = 8  4 = 2."],solution:{steps:["Souet znmek: 2 + 1 + 3 + 2 = 8","Poet test: 4","Prmr: 8  4 = 2"],strategy:"Prmr = souet  poet"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-003",topic:"averages",difficulty:2,question:{stem:"Prmr t sel je 10. Dv z nich jsou 8 a 12. Jak je tet slo?",context:"Prmr t sel je 10. Dv z nich jsou 8 a 12. Jak je tet slo?"},modes:{numeric:{answer:"10",unit:null,variants:[],distractors:["8","12"]}},keyboard:{variable:null},hints:["Pokud prmr = 10 a mme 3 sla, pak souet = 10  3 = 30.","Tet slo = 30 - 8 - 12 = 10."],solution:{steps:["Souet vech t sel = prmr  poet = 10  3 = 30","Souet dvou znmch: 8 + 12 = 20","Tet slo: 30 - 20 = 10"],strategy:"Souet = prmr  poet, pak dopotej chybjc"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-004",topic:"averages",difficulty:2,question:{stem:"Eva m z pti test prmr 3. tyi znmky jsou 2, 3, 4, 3. Jak je pt znmka?",context:"Eva m z pti test prmr 3. tyi znmky jsou 2, 3, 4, 3. Jak je pt znmka?"},modes:{numeric:{answer:"3",unit:null,variants:[],distractors:["2","4"]}},keyboard:{variable:null},hints:["Celkov souet = 3  5 = 15.","Souet ty znmek = 2 + 3 + 4 + 3 = 12. Pt = 15 - 12 = 3."],solution:{steps:["Souet vech pti = prmr  poet = 3  5 = 15","Souet ty znmek: 2 + 3 + 4 + 3 = 12","Pt znmka: 15 - 12 = 3"],strategy:"Souet = prmr  poet"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-005",topic:"averages",difficulty:2,question:{stem:"Prmr 4 sel je 15. Pidme pt slo 25. Jak je nov prmr?",context:"Prmr 4 sel je 15. Pidme pt slo 25. Jak je nov prmr?"},modes:{numeric:{answer:"17",unit:null,variants:[],distractors:["20","16"]}},keyboard:{variable:null},hints:["Pvodn souet = 15  4 = 60.","Nov souet = 60 + 25 = 85. Nov prmr = 85  5 = 17."],solution:{steps:["Pvodn souet = 15  4 = 60","Nov souet = 60 + 25 = 85","Nov prmr = 85  5 = 17"],strategy:"Vypoti pvodn souet, pidej nov slo, vydl novm potem"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-006",topic:"averages",difficulty:3,question:{stem:"Prmrn vka 5 k je 160 cm. Pijde est k vysok 172 cm. Jak je nov prmrn vka?",context:"Prmrn vka 5 k je 160 cm. Pijde est k vysok 172 cm. Jak je nov prmrn vka?"},modes:{numeric:{answer:"162",unit:"cm",variants:[],distractors:["166","164"]}},keyboard:{variable:null},hints:["Celkov vka 5 k = 160  5 = 800 cm.","S novm kem: (800 + 172)  6 = 972  6 = 162 cm."],solution:{steps:["Souet vek 5 k = 160  5 = 800 cm","Souet se estm = 800 + 172 = 972 cm","Nov prmr = 972  6 = 162 cm"],strategy:"Souet = prmr  poet, pak pepotej"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-007",topic:"averages",difficulty:3,question:{stem:"Honza chce mt z matematiky prmr 2. M znmky 1, 3, 2, 3. Jakou znmku mus dostat z poslednho testu?",context:"Honza chce mt z matematiky prmr 2. M znmky 1, 3, 2, 3. Jakou znmku mus dostat z poslednho testu?"},modes:{numeric:{answer:"1",unit:null,variants:[],distractors:["2","0"]}},keyboard:{variable:null},hints:["Pro prmr 2 z 5 test potebuje souet 10.","M souet 1 + 3 + 2 + 3 = 9. Potebuje 10 - 9 = 1."],solution:{steps:["Potebn souet = 2  5 = 10","Souasn souet: 1 + 3 + 2 + 3 = 9","Potebn znmka: 10 - 9 = 1"],strategy:"Clov souet - souasn souet = potebn hodnota"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-008",topic:"averages",difficulty:1,question:{stem:"Teploty bhem tdne byly: 15, 18, 20, 17, 15 C. Jak byla prmrn teplota?",context:"Teploty bhem tdne byly: 15, 18, 20, 17, 15 C. Jak byla prmrn teplota?"},modes:{numeric:{answer:"17",unit:null,variants:[],distractors:["18","16"]}},keyboard:{variable:null},hints:["Seti vechny teploty a vydl potem dn.","(15 + 18 + 20 + 17 + 15)  5 = 85  5 = 17."],solution:{steps:["Souet teplot: 15 + 18 + 20 + 17 + 15 = 85","Poet dn: 5","Prmr: 85  5 = 17 C"],strategy:"Prmr = souet  poet"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-009",topic:"averages",difficulty:2,question:{stem:"koln prmr se pot: psemky (vha 2) a stn zkouen (vha 1). Petr m z psemek 2 a z stnho 4. Jak je jeho ven prmr?",context:"koln prmr se pot: psemky (vha 2) a stn zkouen (vha 1). Petr m z psemek 2 a z stnho 4. Jak je jeho ven prmr?"},modes:{numeric:{answer:"2,67",unit:null,variants:["8/3","2.67","2,7"],distractors:["3","2,5"]}},keyboard:{variable:null},hints:["Ven prmr = (hodnota  vha + hodnota  vha)  souet vah.","(2  2 + 4  1)  (2 + 1) = (4 + 4)  3 = 8/3  2,67."],solution:{steps:["Psemky: 2  vha 2 = 4","stn: 4  vha 1 = 4","Souet vah: 2 + 1 = 3","Ven prmr: (4 + 4)  3 = 8/3  2,67"],strategy:"Ven prmr = suma(hodnota  vha)  suma(vhy)"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-010",topic:"averages",difficulty:3,question:{stem:"Ve td A je 20 k s prmrem 75 bod. Ve td B je 30 k s prmrem 85 bod. Jak je prmr obou td dohromady?",context:"Ve td A je 20 k s prmrem 75 bod. Ve td B je 30 k s prmrem 85 bod. Jak je prmr obou td dohromady?"},modes:{numeric:{answer:"81",unit:null,variants:[],distractors:["80","82"]}},keyboard:{variable:null},hints:["Pozor! Nelze jen zprmrovat 75 a 85. Tdy maj rzn poet k.","Celkem bod = 2075 + 3085 = 1500 + 2550 = 4050. Prmr = 4050  50 = 81."],solution:{steps:["Tda A: 20  75 = 1500 bod celkem","Tda B: 30  85 = 2550 bod celkem","Celkem: 1500 + 2550 = 4050 bod","Celkem k: 20 + 30 = 50","Prmr: 4050  50 = 81 bod"],strategy:"Ven prmr: vt skupina m vt vliv"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"avg-011",topic:"averages",difficulty:3,question:{stem:"Znmka z testu m vhu 3, domc kol vhu 1. Jana m z testu 2 a z kolu 1. Jak je jej ven prmr?",context:"Znmka z testu m vhu 3, domc kol vhu 1. Jana m z testu 2 a z kolu 1. Jak je jej ven prmr?"},modes:{numeric:{answer:"1,75",unit:null,variants:["7/4","1.75"],distractors:["1,5","2"]}},keyboard:{variable:null},hints:["Test m vt vhu, take prmr bude bl k 2 ne k 1.","(2  3 + 1  1)  (3 + 1) = (6 + 1)  4 = 7/4 = 1,75."],solution:{steps:["Test: 2  vha 3 = 6","kol: 1  vha 1 = 1","Souet vah: 3 + 1 = 4","Ven prmr: (6 + 1)  4 = 1,75"],strategy:"Ven prmr = suma(hodnota  vha)  suma(vhy)"},meta:{type_id:"CALC-AVG",type_label:"Prmry",original_type:null}},{id:"bin-001",topic:"binomial_squares",difficulty:1,question:{stem:"(x + 3) = ?",context:"Rozvi: (x + 3)"},modes:{numeric:{answer:"x + 6x + 9",unit:null,variants:["x^2 + 6x + 9"],distractors:["x + 9","x + 3x + 9"]}},keyboard:{variable:null},hints:["Vzorec: (a+b) = a + 2ab + b","a=x, b=3: x + 2x3 + 3 = x + 6x + 9"],solution:{steps:["(x + 3) = x + 2x3 + 3","= x + 6x + 9"],strategy:"(a+b) = a + 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-002",topic:"binomial_squares",difficulty:1,question:{stem:"(x - 5) = ?",context:"Rozvi: (x - 5)"},modes:{numeric:{answer:"x - 10x + 25",unit:null,variants:["x^2 - 10x + 25"],distractors:["x + 25","x - 5x + 25"]}},keyboard:{variable:null},hints:["Vzorec: (a-b) = a - 2ab + b","a=x, b=5: x - 2x5 + 5 = x - 10x + 25"],solution:{steps:["(x - 5) = x - 2x5 + 5","= x - 10x + 25"],strategy:"(a-b) = a - 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-003",topic:"binomial_squares",difficulty:2,question:{stem:"(2x + 1) = ?",context:"Rozvi: (2x + 1)"},modes:{numeric:{answer:"4x + 4x + 1",unit:null,variants:["4x^2 + 4x + 1"],distractors:["4x + 1","2x + 2x + 1"]}},keyboard:{variable:"x"},hints:["a = 2x, b = 1","(2x) + 2(2x)1 + 1 = 4x + 4x + 1"],solution:{steps:["(2x + 1) = (2x) + 2(2x)1 + 1","= 4x + 4x + 1"],strategy:"(a+b) = a + 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-004",topic:"binomial_squares",difficulty:2,question:{stem:"(3a - 2) = ?",context:"Rozvi: (3a - 2)"},modes:{numeric:{answer:"9a - 12a + 4",unit:null,variants:["9a^2 - 12a + 4"],distractors:["9a + 4","9a - 6a + 4"]}},keyboard:{variable:"a"},hints:["a = 3a, b = 2, vzorec (a-b)","(3a) - 2(3a)2 + 2 = 9a - 12a + 4"],solution:{steps:["(3a - 2) = (3a) - 2(3a)2 + 2","= 9a - 12a + 4"],strategy:"(a-b) = a - 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-005",topic:"binomial_squares",difficulty:3,question:{stem:"(1/3 - 4b) = ?",context:"Rozvi: (1/3 - 4b)"},modes:{numeric:{answer:"1/9 - 8b/3 + 16b",unit:null,variants:[],distractors:["1/9 + 16b","1/9 - 4b/3 + 16b"]}},keyboard:{variable:"b"},hints:["a = 1/3, b = 4b. Nezapome na prostedn len!","(1/3) - 2(1/3)(4b) + (4b) = 1/9 - 8b/3 + 16b"],solution:{steps:["(1/3 - 4b) = (1/3) - 2(1/3)(4b) + (4b)","= 1/9 - 8b/3 + 16b"],strategy:"(a-b) = a - 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-006",topic:"binomial_squares",difficulty:2,question:{stem:"(4n - 3) = ?",context:"Rozvi: (4n - 3)"},modes:{numeric:{answer:"16n - 24n + 9",unit:null,variants:["16n^2 - 24n + 9"],distractors:["16n + 9","16n - 12n + 9"]}},keyboard:{variable:"n"},hints:["a = 4n, b = 3","(4n) - 2(4n)3 + 3 = 16n - 24n + 9"],solution:{steps:["(4n - 3) = (4n) - 2(4n)3 + 3","= 16n - 24n + 9"],strategy:"(a-b) = a - 2ab + b"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-007",topic:"binomial_squares",difficulty:2,question:{stem:"Jak je prostedn len v (x + 7)?",context:"Rozvi (x + 7) a uri prostedn len."},modes:{numeric:{answer:"14x",unit:null,variants:[],distractors:["7x","49x"]}},keyboard:{variable:null},hints:["Prostedn len = 2ab","2x7 = 14x"],solution:{steps:["(x + 7) = x + 2x7 + 49","prostedn len = 14x"],strategy:"2ab"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"bin-008",topic:"binomial_squares",difficulty:3,question:{stem:"(x + 2) - (x - 2) = ?",context:"Zjednodute: (x + 2) - (x - 2)"},modes:{numeric:{answer:"8x",unit:null,variants:[],distractors:["0","4x"]}},keyboard:{variable:null},hints:["Rozvi oba leny zvl.","(x+4x+4) - (x-4x+4) = 8x"],solution:{steps:["(x + 2) = x + 4x + 4","(x - 2) = x - 4x + 4","rozdl = x + 4x + 4 - x + 4x - 4 = 8x"],strategy:"Rozvi a odeti"},meta:{type_id:"ALG-BINOM",type_label:"Umocovn",original_type:null}},{id:"eq-001",topic:"equations",difficulty:1,question:{stem:"2x + 5 = 13",context:"Vye rovnici: 2x + 5 = 13"},modes:{numeric:{answer:"4",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Nejdv odeti 5 od obou stran.","Dostane 2x = 8. Te vydl ob strany 2."],solution:{steps:["2x + 5 = 13","2x = 13 - 5","2x = 8","x = 4"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-002",topic:"equations",difficulty:1,question:{stem:"3x - 7 = 11",context:"Vye rovnici: 3x - 7 = 11"},modes:{numeric:{answer:"6",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Piti 7 k obma stranm.","Dostane 3x = 18. Vydl ob strany 3."],solution:{steps:["3x - 7 = 11","3x = 11 + 7","3x = 18","x = 6"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-003",topic:"equations",difficulty:1,question:{stem:"x/4 = 5",context:"Vye rovnici: x/4 = 5"},modes:{numeric:{answer:"20",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["x je dleno 4. Co je opak dlen?","Vynsob ob strany 4."],solution:{steps:["x/4 = 5","x = 5  4","x = 20"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-004",topic:"equations",difficulty:2,question:{stem:"5x + 3 = 2x + 15",context:"Vye rovnici: 5x + 3 = 2x + 15"},modes:{numeric:{answer:"4",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Pesu vechna x na jednu stranu. Odeti 2x od obou stran.","Dostane 3x + 3 = 15. Te odeti 3 a vydl."],solution:{steps:["5x + 3 = 2x + 15","5x - 2x = 15 - 3","3x = 12","x = 4"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-005",topic:"equations",difficulty:2,question:{stem:"4(x - 2) = 20",context:"Vye rovnici: 4(x - 2) = 20"},modes:{numeric:{answer:"7",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Jsou dv cesty - ob funguj! Roznsobit zvorku, nebo nejdv vydlit ob strany. Kter je krat?","Zkus vydlit ob strany 4. Co ti zbyde?"],solution:{steps:["4(x - 2) = 20","x - 2 = 5","x = 7"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-006",topic:"equations",difficulty:2,question:{stem:"2(3x + 1) = 14",context:"Vye rovnici: 2(3x + 1) = 14"},modes:{numeric:{answer:"2",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Jsou dv cesty - ob funguj! Roznsobit zvorku, nebo nejdv vydlit ob strany 2. Co bude jednodu?","Zkus vydlit ob strany 2. Dostane 3x + 1 = 7. Co dl?"],solution:{steps:["2(3x + 1) = 14","3x + 1 = 7","3x = 6","x = 2"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-007",topic:"equations",difficulty:2,question:{stem:"x/3 + 2 = 5",context:"Vye rovnici: x/3 + 2 = 5"},modes:{numeric:{answer:"9",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Odeti 2 od obou stran.","Dostane x/3 = 3. Vynsob ob strany 3."],solution:{steps:["x/3 + 2 = 5","x/3 = 3","x = 9"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-008",topic:"equations",difficulty:3,question:{stem:"(x + 3)/2 = (x - 1)/4 + 3",context:"Vye rovnici: (x + 3)/2 = (x - 1)/4 + 3"},modes:{numeric:{answer:"5",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Zlomky v rovnici me odstranit vynsobenm. m vynsob, aby zmizely oba jmenovatele (2 a 4)?","Vynsob celou rovnici 4. Dostane 2(x + 3) = (x - 1) + 12. Te roznsob zvorky."],solution:{steps:["(x + 3)/2 = (x - 1)/4 + 3","2(x + 3) = (x - 1) + 12","2x + 6 = x + 11","x = 5"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-009",topic:"equations",difficulty:3,question:{stem:"3(2x - 1) - 2(x + 3) = 7",context:"Vye rovnici: 3(2x - 1) - 2(x + 3) = 7"},modes:{numeric:{answer:"4",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Roznsob ob zvorky: 6x - 3 a -2x - 6","Spoj: 6x - 3 - 2x - 6 = 4x - 9 = 7"],solution:{steps:["3(2x - 1) - 2(x + 3) = 7","6x - 3 - 2x - 6 = 7","4x - 9 = 7","4x = 16","x = 4"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"eq-010",topic:"equations",difficulty:3,question:{stem:"0,5x + 1,5 = 2x - 3",context:"Vye rovnici: 0,5x + 1,5 = 2x - 3"},modes:{numeric:{answer:"3",unit:null,variants:[],distractors:[]}},keyboard:{variable:"x"},hints:["Me vynsobit 2, abys odstranil/a desetinn sla: x + 3 = 4x - 6","Pesu x na jednu stranu: 3 + 6 = 4x - x"],solution:{steps:["0,5x + 1,5 = 2x - 3","x + 3 = 4x - 6","9 = 3x","x = 3"],strategy:"Izoluj x"},meta:{type_id:"ALG-EQ",type_label:"Linern rovnice",original_type:null}},{id:"fr-001",topic:"fractions",difficulty:1,question:{stem:"1/2 + 1/4",context:"Vypotej: 1/2 + 1/4"},modes:{numeric:{answer:"3/4",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Potebuje spolenho jmenovatele. Jak je nejmen spolen nsobek 2 a 4?","Peve 1/2 na ?/4. Kolik tvrtin je polovina?"],solution:{steps:["1/2 + 1/4","2/4 + 1/4","3/4"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-002",topic:"fractions",difficulty:1,question:{stem:"2/3 - 1/6",context:"Vypotej: 2/3 - 1/6"},modes:{numeric:{answer:"1/2",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Spolen jmenovatel pro 3 a 6 je 6.","2/3 = 4/6. Te odeti 1/6."],solution:{steps:["2/3 - 1/6","4/6 - 1/6","3/6","1/2"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-003",topic:"fractions",difficulty:1,question:{stem:"3/4  2/5",context:"Vypotej: 3/4  2/5"},modes:{numeric:{answer:"3/10",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Jsou dv cesty! Me rovnou nsobit a pak zkrtit, nebo nejdv zkrtit kem. Co je jednodu?","Zkus zkrtit: 4 a 2 jsou dliteln 2. Dostane 3/2  1/5. Te nsob."],solution:{steps:["3/4  2/5","3/2  1/5 (zkrceno)","3/10"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-004",topic:"fractions",difficulty:1,question:{stem:"2/3",context:"Vypotej: 2/3 : 4"},modes:{numeric:{answer:"1/6",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Dlen slem = nsoben pevrcenou hodnotou. 4 = 4/1, pevrcen je 1/4.","2/3  1/4 = ?"],solution:{steps:["2/3 : 4","2/3  1/4","2/12","1/6"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-005",topic:"fractions",difficulty:2,question:{stem:"5/6 - 1/4 + 1/3",context:"Vypotej: 5/6 - 1/4 + 1/3"},modes:{numeric:{answer:"11/12",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Nejdv najdi spolenho jmenovatele pro 6, 4 a 3. Je to 12.","5/6 = 10/12, 1/4 = 3/12, 1/3 = 4/12"],solution:{steps:["5/6 - 1/4 + 1/3","10/12 - 3/12 + 4/12","11/12"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-006",topic:"fractions",difficulty:2,question:{stem:"(2/5)",context:"Vypotej: (2/5) : (4/15)"},modes:{numeric:{answer:"3/2",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Dlen zlomkem = nsoben pevrcenm zlomkem.","2/5  15/4 = ? Zkus ped nsobenm zkrtit."],solution:{steps:["(2/5) : (4/15)","2/5  15/4","30/20","3/2"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-007",topic:"fractions",difficulty:2,question:{stem:"Kolik je 3/4 z 80?",context:"Kolik je 3/4 z 80?"},modes:{numeric:{answer:"60",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["'Z' znamen nsoben. 3/4  80 = ?","Me nejdv vydlit 80 : 4 = 20, pak nsobit 20  3."],solution:{steps:["3/4  80","80 : 4 = 20","20  3 = 60"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-008",topic:"fractions",difficulty:2,question:{stem:"24/36",context:"Zjednodute: 24/36"},modes:{numeric:{answer:"2/3",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Najdi nejvtho spolenho dlitele 24 a 36.","Oba jsou dliteln 12. 24:12 = 2, 36:12 = 3."],solution:{steps:["24/36","NSD(24,36) = 12","24:12 / 36:12","2/3"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-009",topic:"fractions",difficulty:3,question:{stem:"1 - 2/3  3/4",context:"Vypotej: 1 - 2/3  3/4"},modes:{numeric:{answer:"1/2",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Pozor na poad operac! Nejdv nsoben, pak odtn.","2/3  3/4 = 6/12 = 1/2. Pak 1 - 1/2 = ?"],solution:{steps:["1 - 2/3  3/4","1 - 6/12","1 - 1/2","1/2"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"fr-010",topic:"fractions",difficulty:3,question:{stem:"Tetina sla je 15. Jak je to slo?",context:"Tetina sla je 15. Jak je to slo?"},modes:{numeric:{answer:"45",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Kdy tetina je 15, kolik jsou ti tetiny (cel slo)?","x/3 = 15, take x = 15  3"],solution:{steps:["x/3 = 15","x = 15  3","x = 45"],strategy:"Spolen jmenovatel"},meta:{type_id:"NUM-ZLOM",type_label:"Zlomky",original_type:null}},{id:"ox-001",topic:"o_x_vice",difficulty:1,question:{stem:"Ml jsem 100 K. Te mm o polovinu vce. Kolik m...",context:"Ml jsem 100 K. Te mm o polovinu vce. Kolik mm?"},modes:{numeric:{answer:"150",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:['"O polovinu vce" znamen: pvodn + polovina z pvodnho.',"Polovina ze 100 je 50. Piti to k pvodnm 100."],solution:{steps:["Pvodn: 100","Polovina: 100  1/2 = 50","O polovinu vce: 100 + 50 = 150"],strategy:" (1 + zlomek)"},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-002",topic:"o_x_vice",difficulty:1,question:{stem:"Cena byla 80 K. Zlevnila o tvrtinu. Jak je nov...",context:"Cena byla 80 K. Zlevnila o tvrtinu. Jak je nov cena?"},modes:{numeric:{answer:"60",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:['"O tvrtinu mn" znamen: pvodn - tvrtina z pvodnho.',"tvrtina z 80 je 20. Odeti od pvodnch 80."],solution:{steps:["Pvodn: 80","tvrtina: 80  1/4 = 20","O tvrtinu mn: 80 - 20 = 60"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-003",topic:"o_x_vice",difficulty:2,question:{stem:"Tta vydlv 30 000 K msn. Dostal pidno o ...",context:"Tta vydlv 30 000 K msn. Dostal pidno o tetinu. Kolik vydlv te?"},modes:{numeric:{answer:"40000",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:['"O tetinu vce" = pvodn + tetina z pvodnho.',"Tetina z 30 000 je 10 000. Piti k pvodnmu platu."],solution:{steps:["Pvodn: 30 000","Tetina: 30 000 : 3 = 10 000","Nov plat: 30 000 + 10 000 = 40 000"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-004",topic:"o_x_vice",difficulty:2,question:{stem:"cena je o ptinu ni. Pvodn cena byla 500 K. Kolik zaplat?",context:"Obchod m slevu: cena je o ptinu ni. Pvodn cena byla 500 K. Kolik zaplat?"},modes:{numeric:{answer:"400",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:['"O ptinu mn" = pvodn - ptina z pvodnho.',"Ptina z 500 je 100. Nov cena = 500 - 100."],solution:{steps:["Pvodn: 500","Ptina: 500 : 5 = 100","Nov cena: 500 - 100 = 400"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-005",topic:"o_x_vice",difficulty:2,question:{stem:"Dlka tye je 120 cm. Prodlouili ji o tvrtinu. J...",context:"Dlka tye je 120 cm. Prodlouili ji o tvrtinu. Jak je nov dlka?"},modes:{numeric:{answer:"150",unit:"cm",variants:[],distractors:[]}},keyboard:{variable:null},hints:['"O tvrtinu vce" = pvodn + tvrtina.',"tvrtina ze 120 je 30. Nov dlka = 120 + 30."],solution:{steps:["Pvodn: 120","tvrtina: 120 : 4 = 30","Nov dlka: 120 + 30 = 150"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-006",topic:"o_x_vice",difficulty:2,question:{stem:'Co znamen "o tetinu vce"?',context:'Co znamen "o tetinu vce"?'},modes:{numeric:{answer:"4/3x",unit:null,variants:[],distractors:[" 1/3","+ 1/3"," 3"]}},keyboard:{variable:null},hints:['"O tetinu vce" = dostane pvodn + jet tetinu navc.',"Matematicky: pvodn  (1 + 1/3) = pvodn  4/3"],solution:{steps:["'O tetinu vce' = pvodn + tetina z pvodnho","= pvodn  1 + pvodn  1/3","= pvodn  (1 + 1/3)","= pvodn  4/3"],strategy:" (1 + zlomek)"},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-007",topic:"o_x_vice",difficulty:3,question:{stem:"Po zven o tvrtinu m Jan 750 K. Kolik ml pv...",context:"Po zven o tvrtinu m Jan 750 K. Kolik ml pvodn?"},modes:{numeric:{answer:"600",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:["Po zven o tvrtinu m 5/4 pvodn stky.","750 = pvodn  5/4. Pvodn = 750 : 5  4 = 750  4/5"],solution:{steps:["Nov = Pvodn  5/4","750 = Pvodn  5/4","Pvodn = 750  4/5","Pvodn = 600"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-008",topic:"o_x_vice",difficulty:3,question:{stem:"Cena po slev o tetinu je 240 K. Jak byla pvod...",context:"Cena po slev o tetinu je 240 K. Jak byla pvodn cena?"},modes:{numeric:{answer:"360",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:["Po slev o tetinu zbv 2/3 pvodn ceny.","240 = pvodn  2/3. Pvodn = 240 : 2  3 = 240  3/2"],solution:{steps:["Nov = Pvodn  2/3","240 = Pvodn  2/3","Pvodn = 240  3/2","Pvodn = 360"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-009",topic:"o_x_vice",difficulty:3,question:{stem:"Kniha stla 280 K. Nejdv zdraila o tvrtinu, p...",context:"Kniha stla 280 K. Nejdv zdraila o tvrtinu, pak zlevnila o ptinu. Kolik stoj te?"},modes:{numeric:{answer:"280",unit:"K",variants:[],distractors:[]}},keyboard:{variable:null},hints:["Dv zmny za sebou - jak na to? Tip: rozdl na dva kroky. Nejdv spotej cenu po zdraen.","Po zdraen o tvrtinu: 280 + 70 = 350 K. Te z tto nov ceny spotej zlevnn o ptinu."],solution:{steps:["Po zdraen: 280  5/4 = 350","Po zlevnn: 350  4/5 = 280","Zajmav: vrtila se na pvodn cenu!"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"ox-010",topic:"o_x_vice",difficulty:2,question:{stem:"Objem ndre se zvtil o polovinu. Pvodn mla 2...",context:"Objem ndre se zvtil o polovinu. Pvodn mla 200 litr. Jak je nov objem?"},modes:{numeric:{answer:"300",unit:"l",variants:[],distractors:["100","250","400"]}},keyboard:{variable:null},hints:['"O polovinu vce" = pvodn + polovina z pvodnho.',"Polovina z 200 je 100. Nov objem = 200 + 100."],solution:{steps:["Pvodn: 200 l","Polovina: 100 l","Nov objem: 200 + 100 = 300 l"],strategy:null},meta:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",original_type:null}},{id:"TYPE-01",topic:"o_x_vice",difficulty:1,question:{stem:"o tetinu vce ne x =",context:null},modes:{numeric:{answer:"x  4/3",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o tetinu vce = nsobit (1 + 1/3) = 4/3"],solution:{steps:["Pidvme tetinu Z x, proto nsobme"],strategy:"o tetinu vce = nsobit (1 + 1/3) = 4/3"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-03",topic:"o_x_vice",difficulty:1,question:{stem:"o tetinu mn ne x =",context:null},modes:{numeric:{answer:"x  2/3",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o tetinu mn = nsobit (1 - 1/3) = 2/3"],solution:{steps:["Odebrme tetinu, zstvaj dv tetiny"],strategy:"o tetinu mn = nsobit (1 - 1/3) = 2/3"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-05",topic:"o_x_vice",difficulty:1,question:{stem:"o tvrtinu vce ne x =",context:null},modes:{numeric:{answer:"x  5/4",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o tvrtinu vce = nsobit (1 + 1/4) = 5/4"],solution:{steps:["Pidvme tvrtinu Z x, proto nsobme"],strategy:"o tvrtinu vce = nsobit (1 + 1/4) = 5/4"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-07",topic:"o_x_vice",difficulty:1,question:{stem:"o tvrtinu mn ne x =",context:null},modes:{numeric:{answer:"x  3/4",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o tvrtinu mn = nsobit (1 - 1/4) = 3/4"],solution:{steps:["Odebrme tvrtinu, zstvaj ti tvrtiny"],strategy:"o tvrtinu mn = nsobit (1 - 1/4) = 3/4"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-09",topic:"o_x_vice",difficulty:1,question:{stem:"o polovinu vce ne x =",context:null},modes:{numeric:{answer:"x  3/2",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o polovinu vce = nsobit (1 + 1/2) = 3/2"],solution:{steps:["Pidvme polovinu Z x, proto nsobme"],strategy:"o polovinu vce = nsobit (1 + 1/2) = 3/2"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-11",topic:"o_x_vice",difficulty:1,question:{stem:"o polovinu mn ne x =",context:null},modes:{numeric:{answer:"x  1/2",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o polovinu mn = nsobit (1 - 1/2) = 1/2"],solution:{steps:["Odebrme polovinu, zstv polovina"],strategy:"o polovinu mn = nsobit (1 - 1/2) = 1/2"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-13",topic:"o_x_vice",difficulty:1,question:{stem:"o ptinu vce ne x =",context:null},modes:{numeric:{answer:"x  6/5",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o ptinu vce = nsobit (1 + 1/5) = 6/5"],solution:{steps:["Pidvme ptinu Z x, proto nsobme"],strategy:"o ptinu vce = nsobit (1 + 1/5) = 6/5"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"TYPE-15",topic:"o_x_vice",difficulty:1,question:{stem:"o ptinu mn ne x =",context:null},modes:{numeric:{answer:"x  4/5",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["o ptinu mn = nsobit (1 - 1/5) = 4/5"],solution:{steps:["Odebrme ptinu, zstvaj tyi ptiny"],strategy:"o ptinu mn = nsobit (1 - 1/5) = 4/5"},meta:{type_id:"OXV-TYPE",type_label:"o X vce/mn",original_type:"type_recognition"}},{id:"OXV-01",topic:"o_x_vice",difficulty:1,question:{stem:"o polovinu vce = ?",context:null},modes:{numeric:{answer:"1,5x",unit:null,variants:[],distractors:["0,5","2"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o polovinu = o 1/2  (1 + 0,5) = 1,5"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-02",topic:"o_x_vice",difficulty:1,question:{stem:"o polovinu mn = ?",context:null},modes:{numeric:{answer:"0,5x",unit:null,variants:[],distractors:["1,5","2"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o polovinu mn = (1  0,5) = 0,5"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-03",topic:"o_x_vice",difficulty:1,question:{stem:"o tetinu vce = ?",context:null},modes:{numeric:{answer:"4/3x",unit:null,variants:[],distractors:["1/3","3"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o tetinu = o 1/3  (1 + 1/3) = 4/3"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-04",topic:"o_x_vice",difficulty:1,question:{stem:"o tetinu mn = ?",context:null},modes:{numeric:{answer:"2/3x",unit:null,variants:[],distractors:["1/3","4/3"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o tetinu mn = (1  1/3) = 2/3"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-05",topic:"o_x_vice",difficulty:1,question:{stem:"o tvrtinu vce = ?",context:null},modes:{numeric:{answer:"1,25x",unit:null,variants:[],distractors:["0,25","4"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o tvrtinu = o 0,25  (1 + 0,25) = 1,25"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-06",topic:"o_x_vice",difficulty:1,question:{stem:"o tvrtinu mn = ?",context:null},modes:{numeric:{answer:"0,75x",unit:null,variants:[],distractors:["0,25","1,25"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o tvrtinu mn = (1  0,25) = 0,75"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-07",topic:"o_x_vice",difficulty:1,question:{stem:"o ptinu vce = ?",context:null},modes:{numeric:{answer:"1,2x",unit:null,variants:[],distractors:["0,2","5"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o ptinu = o 0,2  (1 + 0,2) = 1,2"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-08",topic:"o_x_vice",difficulty:1,question:{stem:"o ptinu mn = ?",context:null},modes:{numeric:{answer:"0,8x",unit:null,variants:[],distractors:["0,2","1,2"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o ptinu mn = (1  0,2) = 0,8"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-09",topic:"o_x_vice",difficulty:1,question:{stem:"o desetinu vce = ?",context:null},modes:{numeric:{answer:"1,1x",unit:null,variants:[],distractors:["0,1","10"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o desetinu = o 0,1  (1 + 0,1) = 1,1"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-10",topic:"o_x_vice",difficulty:1,question:{stem:"o desetinu mn = ?",context:null},modes:{numeric:{answer:"0,9x",unit:null,variants:[],distractors:["0,1","1,1"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o desetinu mn = (1  0,1) = 0,9"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-11",topic:"o_x_vice",difficulty:1,question:{stem:"o dv tetiny vce = ?",context:null},modes:{numeric:{answer:"5/3x",unit:null,variants:[],distractors:["2/3","3/2"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 2/3 vce  (1 + 2/3) = 5/3"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-12",topic:"o_x_vice",difficulty:1,question:{stem:"o dv tetiny mn = ?",context:null},modes:{numeric:{answer:"1/3x",unit:null,variants:[],distractors:["2/3","5/3"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 2/3 mn  (1  2/3) = 1/3"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-13",topic:"o_x_vice",difficulty:1,question:{stem:"o ti tvrtiny vce = ?",context:null},modes:{numeric:{answer:"1,75x",unit:null,variants:[],distractors:["0,75","4/3"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 3/4 vce  (1 + 0,75) = 1,75"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-14",topic:"o_x_vice",difficulty:1,question:{stem:"o ti tvrtiny mn = ?",context:null},modes:{numeric:{answer:"0,25x",unit:null,variants:[],distractors:["0,75","1,75"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 3/4 mn  (1  0,75) = 0,25"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-15",topic:"o_x_vice",difficulty:1,question:{stem:"o 10 % vce = ?",context:null},modes:{numeric:{answer:"1,1x",unit:null,variants:[],distractors:["0,1","10"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 10 % vce  (1 + 0,1) = 1,1"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-16",topic:"o_x_vice",difficulty:1,question:{stem:"o 10 % mn = ?",context:null},modes:{numeric:{answer:"0,9x",unit:null,variants:[],distractors:["0,1","1,1"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 10 % mn  (1  0,1) = 0,9"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-17",topic:"o_x_vice",difficulty:1,question:{stem:"o 25 % vce = ?",context:null},modes:{numeric:{answer:"1,25x",unit:null,variants:[],distractors:["0,25","25"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 25 % vce  (1 + 0,25) = 1,25"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-18",topic:"o_x_vice",difficulty:1,question:{stem:"o 25 % mn = ?",context:null},modes:{numeric:{answer:"0,75x",unit:null,variants:[],distractors:["0,25","1,25"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 25 % mn  (1  0,25) = 0,75"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-19",topic:"o_x_vice",difficulty:1,question:{stem:"o 50 % vce = ?",context:null},modes:{numeric:{answer:"1,5x",unit:null,variants:[],distractors:["0,5","50"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 50 % vce  (1 + 0,5) = 1,5"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-20",topic:"o_x_vice",difficulty:1,question:{stem:"o 50 % mn = ?",context:null},modes:{numeric:{answer:"0,5x",unit:null,variants:[],distractors:["1,5","50"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 50 % mn  (1  0,5) = 0,5"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-21",topic:"o_x_vice",difficulty:1,question:{stem:"o 20 % vce = ?",context:null},modes:{numeric:{answer:"1,2x",unit:null,variants:[],distractors:["0,2","20"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 20 % vce  (1 + 0,2) = 1,2"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-22",topic:"o_x_vice",difficulty:1,question:{stem:"o 20 % mn = ?",context:null},modes:{numeric:{answer:"0,8x",unit:null,variants:[],distractors:["0,2","1,2"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 20 % mn  (1  0,2) = 0,8"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-23",topic:"o_x_vice",difficulty:1,question:{stem:"o 100 % vce = ?",context:null},modes:{numeric:{answer:"2x",unit:null,variants:[],distractors:["1","100"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 100 % vce  (1 + 1) = 2 (dvojnsobek)"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-24",topic:"o_x_vice",difficulty:1,question:{stem:"o 75 % vce = ?",context:null},modes:{numeric:{answer:"1,75x",unit:null,variants:[],distractors:["0,75","75"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 75 % vce  (1 + 0,75) = 1,75"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-25",topic:"o_x_vice",difficulty:1,question:{stem:"o 75 % mn = ?",context:null},modes:{numeric:{answer:"0,25x",unit:null,variants:[],distractors:["0,75","1,75"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 75 % mn  (1  0,75) = 0,25"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-26",topic:"o_x_vice",difficulty:1,question:{stem:"o estinu vce = ?",context:null},modes:{numeric:{answer:"7/6x",unit:null,variants:[],distractors:["1/6","6"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 1/6 vce  (1 + 1/6) = 7/6"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-27",topic:"o_x_vice",difficulty:1,question:{stem:"o estinu mn = ?",context:null},modes:{numeric:{answer:"5/6x",unit:null,variants:[],distractors:["1/6","7/6"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 1/6 mn  (1  1/6) = 5/6"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-28",topic:"o_x_vice",difficulty:1,question:{stem:"o dv ptiny vce = ?",context:null},modes:{numeric:{answer:"1,4x",unit:null,variants:[],distractors:["0,4","5/2"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 2/5 vce  (1 + 0,4) = 1,4"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-29",topic:"o_x_vice",difficulty:1,question:{stem:"o dv ptiny mn = ?",context:null},modes:{numeric:{answer:"0,6x",unit:null,variants:[],distractors:["0,4","1,4"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 2/5 mn  (1  0,4) = 0,6"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-30",topic:"o_x_vice",difficulty:1,question:{stem:"o ti ptiny vce = ?",context:null},modes:{numeric:{answer:"1,6x",unit:null,variants:[],distractors:["0,6","5/3"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 3/5 vce  (1 + 0,6) = 1,6"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-31",topic:"o_x_vice",difficulty:1,question:{stem:"o ti ptiny mn = ?",context:null},modes:{numeric:{answer:"0,4x",unit:null,variants:[],distractors:["0,6","1,6"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 3/5 mn  (1  0,6) = 0,4"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-32",topic:"o_x_vice",difficulty:1,question:{stem:"o 5 % vce = ?",context:null},modes:{numeric:{answer:"1,05x",unit:null,variants:[],distractors:["0,05","5"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 5 % vce  (1 + 0,05) = 1,05"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-33",topic:"o_x_vice",difficulty:1,question:{stem:"o 5 % mn = ?",context:null},modes:{numeric:{answer:"0,95x",unit:null,variants:[],distractors:["0,05","1,05"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 5 % mn  (1  0,05) = 0,95"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-34",topic:"o_x_vice",difficulty:1,question:{stem:"o 30 % vce = ?",context:null},modes:{numeric:{answer:"1,3x",unit:null,variants:[],distractors:["0,3","30"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 30 % vce  (1 + 0,3) = 1,3"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-35",topic:"o_x_vice",difficulty:1,question:{stem:"o 30 % mn = ?",context:null},modes:{numeric:{answer:"0,7x",unit:null,variants:[],distractors:["0,3","1,3"]}},keyboard:{variable:null},hints:["o X % mn = (1  X/100)"],solution:{steps:["o 30 % mn  (1  0,3) = 0,7"],strategy:"o X % mn = (1  X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-36",topic:"o_x_vice",difficulty:1,question:{stem:"o tyi ptiny vce = ?",context:null},modes:{numeric:{answer:"1,8x",unit:null,variants:[],distractors:["0,8","5/4"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 4/5 vce  (1 + 0,8) = 1,8"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-37",topic:"o_x_vice",difficulty:1,question:{stem:"o tyi ptiny mn = ?",context:null},modes:{numeric:{answer:"0,2x",unit:null,variants:[],distractors:["0,8","1,8"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 4/5 mn  (1  0,8) = 0,2"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-38",topic:"o_x_vice",difficulty:1,question:{stem:"o osminu vce = ?",context:null},modes:{numeric:{answer:"1,125x",unit:null,variants:[],distractors:["0,125","8"]}},keyboard:{variable:null},hints:["o X vce = (1 + X)"],solution:{steps:["o 1/8 vce  (1 + 0,125) = 1,125"],strategy:"o X vce = (1 + X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-39",topic:"o_x_vice",difficulty:1,question:{stem:"o osminu mn = ?",context:null},modes:{numeric:{answer:"0,875x",unit:null,variants:[],distractors:["0,125","1,125"]}},keyboard:{variable:null},hints:["o X mn = (1  X)"],solution:{steps:["o 1/8 mn  (1  0,125) = 0,875"],strategy:"o X mn = (1  X)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"OXV-40",topic:"o_x_vice",difficulty:1,question:{stem:"o 40 % vce = ?",context:null},modes:{numeric:{answer:"1,4x",unit:null,variants:[],distractors:["0,4","40"]}},keyboard:{variable:null},hints:["o X % vce = (1 + X/100)"],solution:{steps:["o 40 % vce  (1 + 0,4) = 1,4"],strategy:"o X % vce = (1 + X/100)"},meta:{type_id:"OXV-CALC",type_label:"o X vce/mn",original_type:"calculation"}},{id:"PYTH-C01",topic:"pythagorean",difficulty:1,question:{stem:"a = 3, b = 4, c = ?",context:null},modes:{numeric:{answer:"5",unit:null,variants:[],distractors:["7","12"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (9 + 16) = 25 = 5"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"3",b:"4",c:"?"}}},{id:"PYTH-C02",topic:"pythagorean",difficulty:1,question:{stem:"a = 5, b = 12, c = ?",context:null},modes:{numeric:{answer:"13",unit:null,variants:[],distractors:["17","60"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (25 + 144) = 169 = 13"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"5",b:"12",c:"?"}}},{id:"PYTH-C03",topic:"pythagorean",difficulty:1,question:{stem:"a = 6, b = 8, c = ?",context:null},modes:{numeric:{answer:"10",unit:null,variants:[],distractors:["14","48"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (36 + 64) = 100 = 10"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"6",b:"8",c:"?"}}},{id:"PYTH-C04",topic:"pythagorean",difficulty:1,question:{stem:"a = 8, b = 15, c = ?",context:null},modes:{numeric:{answer:"17",unit:null,variants:[],distractors:["23","120"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (64 + 225) = 289 = 17"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"8",b:"15",c:"?"}}},{id:"PYTH-C05",topic:"pythagorean",difficulty:1,question:{stem:"a = 7, b = 24, c = ?",context:null},modes:{numeric:{answer:"25",unit:null,variants:[],distractors:["31","168"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (49 + 576) = 625 = 25"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"7",b:"24",c:"?"}}},{id:"PYTH-C06",topic:"pythagorean",difficulty:1,question:{stem:"a = 9, b = 40, c = ?",context:null},modes:{numeric:{answer:"41",unit:null,variants:[],distractors:["49","360"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (81 + 1600) = 1681 = 41"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"9",b:"40",c:"?"}}},{id:"PYTH-C07",topic:"pythagorean",difficulty:1,question:{stem:"a = ?, b = 4, c = 5",context:null},modes:{numeric:{answer:"3",unit:null,variants:[],distractors:["1","9"]}},keyboard:{variable:null},hints:["a = c - b"],solution:{steps:["a = (25 - 16) = 9 = 3"],strategy:"a = c - b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"?",b:"4",c:"5"}}},{id:"PYTH-C08",topic:"pythagorean",difficulty:1,question:{stem:"a = 5, b = ?, c = 13",context:null},modes:{numeric:{answer:"12",unit:null,variants:[],distractors:["8","18"]}},keyboard:{variable:null},hints:["b = c - a"],solution:{steps:["b = (169 - 25) = 144 = 12"],strategy:"b = c - a"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"5",b:"?",c:"13"}}},{id:"PYTH-C09",topic:"pythagorean",difficulty:1,question:{stem:"a = ?, b = 8, c = 10",context:null},modes:{numeric:{answer:"6",unit:null,variants:[],distractors:["2","18"]}},keyboard:{variable:null},hints:["a = c - b"],solution:{steps:["a = (100 - 64) = 36 = 6"],strategy:"a = c - b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"?",b:"8",c:"10"}}},{id:"PYTH-C10",topic:"pythagorean",difficulty:1,question:{stem:"a = 8, b = ?, c = 17",context:null},modes:{numeric:{answer:"15",unit:null,variants:[],distractors:["9","25"]}},keyboard:{variable:null},hints:["b = c - a"],solution:{steps:["b = (289 - 64) = 225 = 15"],strategy:"b = c - a"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"8",b:"?",c:"17"}}},{id:"PYTH-C11",topic:"pythagorean",difficulty:1,question:{stem:"Odvsny 3 a 4. Pepona?",context:null},modes:{numeric:{answer:"5",unit:null,variants:[],distractors:["7","12"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (9 + 16) = 25 = 5"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"3",b:"4",c:"?"}}},{id:"PYTH-C12",topic:"pythagorean",difficulty:1,question:{stem:"Odvsny 5 a 12. Pepona?",context:null},modes:{numeric:{answer:"13",unit:null,variants:[],distractors:["17","60"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (25 + 144) = 169 = 13"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"5",b:"12",c:"?"}}},{id:"PYTH-C13",topic:"pythagorean",difficulty:1,question:{stem:"Odvsna 3, pepona 5. Druh odvsna?",context:null},modes:{numeric:{answer:"4",unit:null,variants:[],distractors:["2","8"]}},keyboard:{variable:null},hints:["b = c - a"],solution:{steps:["b = (25 - 9) = 16 = 4"],strategy:"b = c - a"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"3",b:"?",c:"5"}}},{id:"PYTH-C14",topic:"pythagorean",difficulty:1,question:{stem:"Odvsna 5, pepona 13. Druh odvsna?",context:null},modes:{numeric:{answer:"12",unit:null,variants:[],distractors:["8","18"]}},keyboard:{variable:null},hints:["b = c - a"],solution:{steps:["b = (169 - 25) = 144 = 12"],strategy:"b = c - a"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"5",b:"?",c:"13"}}},{id:"PYTH-C15",topic:"pythagorean",difficulty:1,question:{stem:"a = 1, b = 1, c = ?",context:null},modes:{numeric:{answer:"2",unit:null,variants:[],distractors:["2","1"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (1 + 1) = 2  1,41"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"1",b:"1",c:"?"}}},{id:"PYTH-C16",topic:"pythagorean",difficulty:1,question:{stem:"a = 2, b = 3, c = ?",context:null},modes:{numeric:{answer:"13",unit:null,variants:[],distractors:["5","5"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (4 + 9) = 13  3,61"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"2",b:"3",c:"?"}}},{id:"PYTH-C17",topic:"pythagorean",difficulty:1,question:{stem:"a = 2, b = 5, c = ?",context:null},modes:{numeric:{answer:"29",unit:null,variants:[],distractors:["7","7"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (4 + 25) = 29  5,39"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"2",b:"5",c:"?"}}},{id:"PYTH-C18",topic:"pythagorean",difficulty:1,question:{stem:"a = 4, b = 5, c = ?",context:null},modes:{numeric:{answer:"41",unit:null,variants:[],distractors:["9","9"]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["c = (16 + 25) = 41  6,40"],strategy:"c = a + b"},meta:{type_id:"PYTH-CALC",type_label:"Pythagorova vta",original_type:"calculation"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"4",b:"5",c:"?"}}},{id:"PYTH-T01",topic:"pythagorean",difficulty:1,question:{stem:"Hledm peponu c =",context:null},modes:{numeric:{answer:"(a + b)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Pythagorova vta: c = a + b"],solution:{steps:["Pepona = odmocnina ze soutu tverc odvsen"],strategy:"Pythagorova vta: c = a + b"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-T02",topic:"pythagorean",difficulty:1,question:{stem:"Hledm odvsnu a =",context:null},modes:{numeric:{answer:"(c - b)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Pythagorova vta: a = c - b"],solution:{steps:["Odvsna = odmocnina z rozdlu tverc"],strategy:"Pythagorova vta: a = c - b"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"a",labels:null}},{id:"PYTH-T03",topic:"pythagorean",difficulty:1,question:{stem:"Hledm odvsnu b =",context:null},modes:{numeric:{answer:"(c - a)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Pythagorova vta: b = c - a"],solution:{steps:["Odvsna = odmocnina z rozdlu tverc"],strategy:"Pythagorova vta: b = c - a"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"b",labels:null}},{id:"PYTH-T04",topic:"pythagorean",difficulty:1,question:{stem:"c = a + b  c =",context:null},modes:{numeric:{answer:"(a + b)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Odmocnina obou stran"],solution:{steps:["c = ...  c = (...)"],strategy:"Odmocnina obou stran"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-T05",topic:"pythagorean",difficulty:1,question:{stem:"a = c - b  a =",context:null},modes:{numeric:{answer:"(c - b)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["Odmocnina obou stran"],solution:{steps:["a = ...  a = (...)"],strategy:"Odmocnina obou stran"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"a",labels:null}},{id:"PYTH-T06",topic:"pythagorean",difficulty:1,question:{stem:"Pepona z odvsen 3 a 4:",context:null},modes:{numeric:{answer:"(3 + 4)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["c = (a + b)"],solution:{steps:["Dosa do vzorce: (9 + 16) = 25 = 5"],strategy:"c = (a + b)"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-T07",topic:"pythagorean",difficulty:1,question:{stem:"Odvsna, je-li b=4, c=5:",context:null},modes:{numeric:{answer:"(5 - 4)",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["a = (c - b)"],solution:{steps:["Dosa do vzorce: (25 - 16) = 9 = 3"],strategy:"a = (c - b)"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"c",labels:{b:"4",c:"5",a:"a"}}},{id:"PYTH-T08",topic:"pythagorean",difficulty:1,question:{stem:"V Pythagorov vt se pot s:",context:null},modes:{numeric:{answer:"tverci stran",unit:null,variants:[],distractors:[]}},keyboard:{variable:null},hints:["c = a + b"],solution:{steps:["Vechny strany jsou na druhou!"],strategy:"c = a + b"},meta:{type_id:"PYTH-TYPE",type_label:"Pythagorova vta",original_type:"type_recognition"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P01",topic:"pythagorean",difficulty:1,question:{stem:"Odvsny jsou 3 a 4. Jak je pepona?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Obvod trojhelnku","Obsah trojhelnku"]}},keyboard:{variable:null},hints:["Hledme stranu pravohlho trojhelnku"],solution:{steps:["Znme dv strany, hledme tet  Pythagoras"],strategy:"Hledme stranu pravohlho trojhelnku"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P02",topic:"pythagorean",difficulty:1,question:{stem:"Je trojhelnk se stranami 5, 12, 13 pravohl?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Obvod/obsah","Konstrukce"]}},keyboard:{variable:null},hints:["Ovujeme: a + b = c?"],solution:{steps:["25 + 144 = 169 = 13  Ano, je pravohl"],strategy:"Ovujeme: a + b = c?"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P03",topic:"pythagorean",difficulty:1,question:{stem:"ebk dlky 5 m open o ze dosahuje do vky 4 m. Jak daleko je od zdi?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Pm mrnost","Rovnice"]}},keyboard:{variable:null},hints:["ebk = pepona, ze = odvsna"],solution:{steps:["a = (5 - 4) = 9 = 3 m"],strategy:"ebk = pepona, ze = odvsna"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"b",labels:{a:"4 m",b:"?",c:"5 m"}}},{id:"PYTH-P04",topic:"pythagorean",difficulty:1,question:{stem:"hlopka obdlnku 34 cm m dlku:",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Obvod obdlnku","Obsah obdlnku"]}},keyboard:{variable:null},hints:["hlopka = pepona pravohlho trojhelnku"],solution:{steps:["d = (3 + 4) = 5 cm"],strategy:"hlopka = pepona pravohlho trojhelnku"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P05",topic:"pythagorean",difficulty:1,question:{stem:"Jak je dlka prostorov hlopky kvdru 3412?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Objem kvdru","Povrch kvdru"]}},keyboard:{variable:null},hints:["Dvakrt Pythagoras"],solution:{steps:["Nejdv hlopka podstavy, pak prostorov"],strategy:"Dvakrt Pythagoras"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P06",topic:"pythagorean",difficulty:1,question:{stem:"Vypotej vku rovnostrannho trojhelnku se stranou 6 cm.",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Obsah trojhelnku","Obvod trojhelnku"]}},keyboard:{variable:null},hints:["Vka pl zkladnu"],solution:{steps:["v = (6 - 3) = 27 = 33 cm"],strategy:"Vka pl zkladnu"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:null}},{id:"PYTH-P07",topic:"pythagorean",difficulty:1,question:{stem:"Lo pluje 6 km na vchod, pak 8 km na sever. Jak daleko je od startu?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Souet vzdlenost","Rychlost/as/drha"]}},keyboard:{variable:null},hints:["Pravohl trojhelnk na map"],solution:{steps:["d = (6 + 8) = 10 km"],strategy:"Pravohl trojhelnk na map"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"8 km",b:"6 km",c:"?"}}},{id:"PYTH-P08",topic:"pythagorean",difficulty:1,question:{stem:"Stecha m sklon - vka 3 m, ka 4 m. Dlka sten plochy?",context:null},modes:{type_recognition:{answer:"Pythagorova vta",distractors:["Obsah stechy","Objem podkrov"]}},keyboard:{variable:null},hints:["Dlka ikm strany"],solution:{steps:["s = (3 + 4) = 5 m"],strategy:"Dlka ikm strany"},meta:{type_id:"PYTH-PTYPE",type_label:"Pythagorova vta",original_type:"problem_type"},diagram:{type:"right_triangle",highlight:"c",labels:{a:"3 m",b:"4 m",c:"?"}}},{id:"seq-004",topic:"sequences",difficulty:1,question:{stem:"Posloupnost: 2, 5, 8, 11, ... Jak je 10. len?",context:"V posloupnosti 2, 5, 8, 11, ... najdi 10. len."},modes:{numeric:{answer:"29",unit:null,variants:[],distractors:["26","32"]}},keyboard:{variable:null},hints:["O kolik roste kad dal len? (+3)","Vzorec: a = a + (n-1)d = 2 + (n-1)3"],solution:{steps:["Aritmetick: d = 3 (rozdl mezi leny)","Vzorec: a = 2 + (n-1)3","a = 2 + 93 = 2 + 27 = 29"],strategy:"a = a + (n-1)d"},meta:{type_id:"SEQ-NTH",type_label:"Posloupnosti",original_type:null}},{id:"seq-005",topic:"sequences",difficulty:1,question:{stem:"Posloupnost: 1, 4, 9, 16, ... Jak je 7. len?",context:"V posloupnosti 1, 4, 9, 16, ... najdi 7. len."},modes:{numeric:{answer:"49",unit:null,variants:[],distractors:["36","64"]}},keyboard:{variable:null},hints:["Co jsou tato sla? (druh mocniny)","Vzorec: a = n"],solution:{steps:["Druh mocniny: 1=1, 4=2, 9=3, 16=4","Vzorec: a = n","a = 7 = 49"],strategy:"a = n"},meta:{type_id:"SEQ-NTH",type_label:"Posloupnosti",original_type:null}},{id:"seq-006",topic:"sequences",difficulty:2,question:{stem:"Posloupnost: 3, 6, 12, 24, ... Jak je 6. len?",context:"V posloupnosti 3, 6, 12, 24, ... najdi 6. len."},modes:{numeric:{answer:"96",unit:null,variants:[],distractors:["48","192"]}},keyboard:{variable:null},hints:["Jak roste? (kad len je 2 pedchoz)","Vzorec: a = 3  2^(n-1)"],solution:{steps:["Geometrick: q = 2 (kad len je 2 pedchoz)","Vzorec: a = 3  2^(n-1)","a = 3  2 = 3  32 = 96"],strategy:"a = a  q"},meta:{type_id:"SEQ-NTH",type_label:"Posloupnosti",original_type:null}},{id:"seq-007",topic:"sequences",difficulty:2,question:{stem:"tvereky: 1. obrazec m 4, 2. m 7, 3. m 10. Kolik m 10. obrazec?",context:"Obrazce z tverek: 1. obrazec m 4 tvereky, 2. m 7, 3. m 10. Kolik tverek m 10. obrazec?"},modes:{numeric:{answer:"31",unit:null,variants:[],distractors:["28","34"]}},keyboard:{variable:null},hints:["O kolik tverek pibv? (+3)","Vzorec: a = 4 + (n-1)3 = 3n + 1"],solution:{steps:["Aritmetick: d = 3 (pibvaj 3 tvereky)","Vzorec: a = 4 + (n-1)3 = 3n + 1","a = 310 + 1 = 31"],strategy:"a = a + (n-1)d"},meta:{type_id:"SEQ-PATTERN",type_label:"Posloupnosti",original_type:null}},{id:"seq-008",topic:"sequences",difficulty:2,question:{stem:"Kter len posloupnosti 5, 9, 13, 17, ... je roven 101?",context:"Posloupnost 5, 9, 13, 17, ... Kter len je roven 101?"},modes:{numeric:{answer:"25",unit:null,variants:[],distractors:["24","26"]}},keyboard:{variable:null},hints:["Vzorec: a = 5 + (n-1)4. Dosa a = 101.","101 = 5 + (n-1)4, e rovnici."],solution:{steps:["a = 5 + (n-1)4 = 101","(n-1)4 = 96","n-1 = 24","n = 25"],strategy:"Dosa do vzorce"},meta:{type_id:"SEQ-NTH",type_label:"Posloupnosti",original_type:null}},{id:"unit-001",topic:"unit_conversions",difficulty:1,question:{stem:"1 m = ? cm",context:"Peve: 1 m = ? cm"},modes:{numeric:{answer:"10000",unit:"cm",variants:["10 000"],distractors:["100","1000"]}},keyboard:{variable:null},hints:["1 m = 100 cm. Ale pozor - jde o plochu!","1 m = (100 cm) = 10 000 cm"],solution:{steps:["1 m = 100 cm","1 m = (1 m) = (100 cm) = 10 000 cm"],strategy:"Umocni pevodn koeficient"},meta:{type_id:"UNIT-AREA",type_label:"Pevody jednotek",original_type:null}},{id:"unit-002",topic:"unit_conversions",difficulty:2,question:{stem:"0,75 m = 25 cm + ? cm",context:"Dopl: 0,75 m = 25 cm + ? cm"},modes:{numeric:{answer:"7475",unit:"cm",variants:["7 475"],distractors:["70","750"]}},keyboard:{variable:null},hints:["Nejdv peve 0,75 m na cm.","0,75 m = 7500 cm. Pak 7500 - 25 = 7475 cm"],solution:{steps:["0,75 m = 0,75  10000 cm = 7500 cm","7500 - 25 = 7475 cm"],strategy:"Peve a odeti"},meta:{type_id:"UNIT-AREA",type_label:"Pevody jednotek",original_type:null}},{id:"unit-003",topic:"unit_conversions",difficulty:1,question:{stem:"1 dm = ? cm",context:"Peve: 1 dm = ? cm"},modes:{numeric:{answer:"1000",unit:"cm",variants:["1 000"],distractors:["100","10"]}},keyboard:{variable:null},hints:["1 dm = 10 cm. Ale jde o objem!","1 dm = (10 cm) = 1000 cm"],solution:{steps:["1 dm = 10 cm","1 dm = (10 cm) = 1000 cm"],strategy:"Umocni na tet"},meta:{type_id:"UNIT-VOL",type_label:"Pevody jednotek",original_type:null}},{id:"unit-004",topic:"unit_conversions",difficulty:2,question:{stem:"0,2 dm + ? cm = 1 litr",context:"Dopl: 0,2 dm + ? cm = 1 litr"},modes:{numeric:{answer:"800",unit:"cm",variants:[],distractors:["80","200"]}},keyboard:{variable:null},hints:["1 litr = 1 dm = 1000 cm","0,2 dm = 200 cm. Pak 1000 - 200 = 800 cm"],solution:{steps:["1 litr = 1000 cm","0,2 dm = 200 cm","1000 - 200 = 800 cm"],strategy:"Peve na stejn jednotky"},meta:{type_id:"UNIT-VOL",type_label:"Pevody jednotek",original_type:null}},{id:"unit-005",topic:"unit_conversions",difficulty:1,question:{stem:"?  20 minut = 8  0,75 hodiny",context:"Dopl: ?  20 minut = 8  0,75 hodiny"},modes:{numeric:{answer:"18",unit:null,variants:[],distractors:["6","24"]}},keyboard:{variable:null},hints:["Peve pravou stranu na minuty.","8  0,75 h = 6 h = 360 min. Pak 360 : 20 = 18"],solution:{steps:["8  0,75 h = 6 h = 360 min","?  20 = 360","? = 18"],strategy:"Peve na minuty"},meta:{type_id:"UNIT-TIME",type_label:"Pevody jednotek",original_type:null}},{id:"unit-006",topic:"unit_conversions",difficulty:2,question:{stem:"2,5 m = ? dm",context:"Peve: 2,5 m = ? dm"},modes:{numeric:{answer:"250",unit:"dm",variants:[],distractors:["25","2500"]}},keyboard:{variable:null},hints:["1 m = 10 dm","1 m = 100 dm. Pak 2,5  100 = 250 dm"],solution:{steps:["1 m = (10 dm) = 100 dm","2,5 m = 2,5  100 = 250 dm"],strategy:"Umocni pevodn koeficient"},meta:{type_id:"UNIT-AREA",type_label:"Pevody jednotek",original_type:null}},{id:"unit-007",topic:"unit_conversions",difficulty:2,question:{stem:"0,5 m = ? litr",context:"Peve: 0,5 m = ? litr"},modes:{numeric:{answer:"500",unit:"l",variants:[],distractors:["50","5000"]}},keyboard:{variable:null},hints:["1 m = 1000 dm = 1000 litr","0,5 m = 0,5  1000 = 500 litr"],solution:{steps:["1 m = 1000 litr","0,5 m = 500 litr"],strategy:"1 m = 1000 l"},meta:{type_id:"UNIT-VOL",type_label:"Pevody jednotek",original_type:null}},{id:"unit-008",topic:"unit_conversions",difficulty:3,question:{stem:"450 cm = ? m",context:"Peve: 450 cm = ? m"},modes:{numeric:{answer:"0,045",unit:"m",variants:["0.045"],distractors:["0,45","4,5"]}},keyboard:{variable:null},hints:["1 m = 10 000 cm, take dlme 10 000","450 : 10000 = 0,045 m"],solution:{steps:["1 m = 10 000 cm","450 cm = 450 : 10000 = 0,045 m"],strategy:"Dl pevodnm koeficientem"},meta:{type_id:"UNIT-AREA",type_label:"Pevody jednotek",original_type:null}},{id:"work-001",topic:"work_problems",difficulty:1,question:{stem:"3 dlnci udlaj prci za 6 hodin. Za kolik hodin ji udl 9 dlnk?",context:"3 dlnci udlaj prci za 6 hodin. Za kolik hodin ji udl 9 dlnk?"},modes:{numeric:{answer:"2",unit:"h",variants:[],distractors:["18","3"]}},keyboard:{variable:null},hints:["Vce dlnk = mn asu. Jde o nepmou mrnost.","Celkov prce = 3  6 = 18 lovkohodin. Pak 18  9 = 2 h."],solution:{steps:["Celkov prce = 3 dlnci  6 h = 18 lovkohodin","as pro 9 dlnk = 18  9 = 2 h"],strategy:"Nepm mrnost: vce lid = mn asu"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-002",topic:"work_problems",difficulty:1,question:{stem:"5 pracovnk vykon prci za 12 dn. Za kolik dn ji vykon 10 pracovnk?",context:"5 pracovnk vykon prci za 12 dn. Za kolik dn ji vykon 10 pracovnk?"},modes:{numeric:{answer:"6",unit:"d",variants:[],distractors:["24","3"]}},keyboard:{variable:null},hints:["Dvakrt vce pracovnk = polovin as.","Prce = 5  12 = 60 lovkodn. Pak 60  10 = 6 d."],solution:{steps:["Celkov prce = 5  12 = 60 lovkodn","as pro 10 pracovnk = 60  10 = 6 d"],strategy:"Nepm mrnost: 2 vce lid = 2 mn asu"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-003",topic:"work_problems",difficulty:2,question:{stem:"4 mali vymaluj byt za 15 hodin. Kolik mal je poteba, aby prci zvldli za 5 hodin?",context:"4 mali vymaluj byt za 15 hodin. Kolik mal je poteba, aby prci zvldli za 5 hodin?"},modes:{numeric:{answer:"12",unit:null,variants:[],distractors:["20","8"]}},keyboard:{variable:null},hints:["Tikrt mn asu = tikrt vce lid.","Prce = 4  15 = 60 lovkohodin. Pak 60  5 = 12 mal."],solution:{steps:["Celkov prce = 4  15 = 60 lovkohodin","Poet mal = 60  5 = 12"],strategy:"Nepm mrnost: 3 mn asu = 3 vce lid"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-004",topic:"work_problems",difficulty:2,question:{stem:"Bagr vykope jmu za 8 hodin. Dva stejn bagry by jmu vykopaly za kolik hodin?",context:"Bagr vykope jmu za 8 hodin. Dva stejn bagry by jmu vykopaly za kolik hodin?"},modes:{numeric:{answer:"4",unit:"h",variants:[],distractors:["16","2"]}},keyboard:{variable:null},hints:["Dva bagry = dvojnsobn rychlost = polovin as.","8  2 = 4 h."],solution:{steps:["2 vce bagr = 2 rychlej prce","as = 8  2 = 4 h"],strategy:"Nepm mrnost: 2 vce = polovin as"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-005",topic:"work_problems",difficulty:2,question:{stem:"6 stroj vyrob dly za 10 hodin. Za kolik hodin vyrob dly 15 stroj?",context:"6 stroj vyrob dly za 10 hodin. Za kolik hodin vyrob dly 15 stroj?"},modes:{numeric:{answer:"4",unit:"h",variants:[],distractors:["25","6"]}},keyboard:{variable:null},hints:["15 stroj je 2,5 vce ne 6 stroj.","Prce = 6  10 = 60 strojhodin. Pak 60  15 = 4 h."],solution:{steps:["Celkov prce = 6  10 = 60 strojhodin","as = 60  15 = 4 h"],strategy:"Nepm mrnost"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-006",topic:"work_problems",difficulty:3,question:{stem:"2 pumpy vyerpaj bazn za 6 hodin. Jedna pumpa se pokazila. Za kolik hodin vyerp bazn zbvajc pumpa?",context:"2 pumpy vyerpaj bazn za 6 hodin. Jedna pumpa se pokazila. Za kolik hodin vyerp bazn zbvajc pumpa?"},modes:{numeric:{answer:"12",unit:"h",variants:[],distractors:["3","8"]}},keyboard:{variable:null},hints:["Polovin poet pump = dvojnsobn as.","Prce = 2  6 = 12 pumphodin. Jedna pumpa: 12  1 = 12 h."],solution:{steps:["Celkov prce = 2  6 = 12 pumphodin","Jedna pumpa: 12  1 = 12 h"],strategy:"Nepm mrnost: polovin vkon = dvojnsobn as"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-007",topic:"work_problems",difficulty:3,question:{stem:"8 pracovnk postav ze za 3 dny. Po 1 dni odeli 2 pracovnci. Za kolik dalch dn ze dokon?",context:"8 pracovnk postav ze za 3 dny. Po 1 dni odeli 2 pracovnci. Za kolik dalch dn ze dokon?"},modes:{numeric:{answer:"2,67",unit:"d",variants:["8/3","2.67","2,7"],distractors:["2","3"]}},keyboard:{variable:null},hints:["Za prvn den udlali 8 pracovnk 1/3 prce. Zbv 2/3.","Zbyl prce = 16 lovkodn. 6 pracovnk: 16  6 = 8/3  2,67 d."],solution:{steps:["Celkov prce = 8  3 = 24 lovkodn","Za 1 den: 8 pracovnk = 8 lovkodn hotovo","Zbv: 24 - 8 = 16 lovkodn","6 pracovnk: 16  6 = 8/3  2,67 d"],strategy:"Rozdl prci na sti"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}},{id:"work-008",topic:"work_problems",difficulty:1,question:{stem:"Jeden kucha uva obd pro 20 lid za 4 hodiny. Kolik kucha potebujeme, aby obd byl hotov za 1 hodinu?",context:"Jeden kucha uva obd pro 20 lid za 4 hodiny. Kolik kucha potebujeme, aby obd byl hotov za 1 hodinu?"},modes:{numeric:{answer:"4",unit:null,variants:[],distractors:["5","20"]}},keyboard:{variable:null},hints:["4 mn asu = 4 vce kucha.","Prce = 1  4 = 4 kuchaohodiny. Za 1 hodinu: 4 kuchai."],solution:{steps:["Prce = 1 kucha  4 hodiny = 4 kuchaohodiny","Za 1 hodinu potebujeme: 4  1 = 4"],strategy:"Nepm mrnost: 4 rychlej = 4 vce lid"},meta:{type_id:"WORD-WORK",type_label:"lohy o prci",original_type:null}}],ir={version:E0,generated:C0,description:P0,topics:T0,questions:O0};function N0({labels:t,highlight:e}){const n=t??{},r=n.a||"a",s=n.b||"b",i=n.c||"c",o="#475569",a="#7c3aed",l="#334155",u="#94a3b8",d=h=>e===h?a:o,f=h=>e===h?a:l;return c.jsxs("svg",{viewBox:"0 0 200 160",className:"w-auto h-full max-w-[200px]",children:[c.jsx("line",{x1:"30",y1:"130",x2:"170",y2:"130",stroke:d("b"),strokeWidth:e==="b"?3:2}),c.jsx("line",{x1:"170",y1:"130",x2:"170",y2:"30",stroke:d("a"),strokeWidth:e==="a"?3:2}),c.jsx("line",{x1:"30",y1:"130",x2:"170",y2:"30",stroke:d("c"),strokeWidth:e==="c"?3:2}),c.jsx("path",{d:"M 155 130 L 155 115 L 170 115",fill:"none",stroke:u,strokeWidth:"1.5"}),c.jsx("text",{x:"100",y:"150",textAnchor:"middle",fill:f("b"),fontSize:"14",fontWeight:e==="b"?"bold":"normal",children:s}),c.jsx("text",{x:"185",y:"85",textAnchor:"start",fill:f("a"),fontSize:"14",fontWeight:e==="a"?"bold":"normal",children:r}),c.jsx("text",{x:"85",y:"70",textAnchor:"middle",fill:f("c"),fontSize:"14",fontWeight:e==="c"?"bold":"normal",transform:"rotate(-35, 85, 70)",children:i})]})}function R0({labels:t,highlight:e}){const n=t??{},r=n.wall_height||"?",s=n.ground_distance||"?",i=n.ladder_length||"?",o="#475569",a="#7c3aed",l="#334155",u="#64748b",d=h=>e===h?a:o,f=h=>e===h?a:l;return c.jsxs("svg",{viewBox:"0 0 200 180",className:"w-auto h-full max-w-[200px]",children:[c.jsx("line",{x1:"40",y1:"20",x2:"40",y2:"150",stroke:u,strokeWidth:"6"}),c.jsx("line",{x1:"30",y1:"150",x2:"180",y2:"150",stroke:u,strokeWidth:"3"}),c.jsx("line",{x1:"40",y1:"40",x2:"150",y2:"150",stroke:d("ladder_length"),strokeWidth:e==="ladder_length"?3:2}),c.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"150",stroke:d("wall_height"),strokeWidth:e==="wall_height"?2:1,strokeDasharray:"4 2"}),c.jsx("line",{x1:"40",y1:"160",x2:"150",y2:"160",stroke:d("ground_distance"),strokeWidth:e==="ground_distance"?2:1,strokeDasharray:"4 2"}),c.jsx("path",{d:"M 40 135 L 55 135 L 55 150",fill:"none",stroke:"#94a3b8",strokeWidth:"1.5"}),c.jsx("text",{x:"25",y:"95",textAnchor:"end",fill:f("wall_height"),fontSize:"13",fontWeight:e==="wall_height"?"bold":"normal",children:r}),c.jsx("text",{x:"95",y:"175",textAnchor:"middle",fill:f("ground_distance"),fontSize:"13",fontWeight:e==="ground_distance"?"bold":"normal",children:s}),c.jsx("text",{x:"110",y:"85",textAnchor:"middle",fill:f("ladder_length"),fontSize:"13",fontWeight:e==="ladder_length"?"bold":"normal",transform:"rotate(45, 110, 85)",children:i})]})}function A0({labels:t,highlight:e}){const n=t??{},r=n.width||"a",s=n.height||"b",i=n.diagonal||"d",o="#475569",a="#7c3aed",l="#334155",u=f=>e===f?a:o,d=f=>e===f?a:l;return c.jsxs("svg",{viewBox:"0 0 200 140",className:"w-auto h-full max-w-[200px]",children:[c.jsx("rect",{x:"30",y:"30",width:"140",height:"80",fill:"none",stroke:o,strokeWidth:"2"}),c.jsx("line",{x1:"30",y1:"110",x2:"170",y2:"30",stroke:u("diagonal"),strokeWidth:e==="diagonal"?3:2,strokeDasharray:e==="diagonal"?"none":"5 3"}),c.jsx("path",{d:"M 45 110 L 45 95 L 30 95",fill:"none",stroke:"#94a3b8",strokeWidth:"1.5"}),c.jsx("text",{x:"100",y:"128",textAnchor:"middle",fill:d("width"),fontSize:"14",fontWeight:e==="width"?"bold":"normal",children:r}),c.jsx("text",{x:"185",y:"75",textAnchor:"start",fill:d("height"),fontSize:"14",fontWeight:e==="height"?"bold":"normal",children:s}),c.jsx("text",{x:"90",y:"60",textAnchor:"middle",fill:d("diagonal"),fontSize:"14",fontWeight:e==="diagonal"?"bold":"normal",transform:"rotate(-30, 90, 60)",children:i})]})}function I0({labels:t,highlight:e}){const n=t??{},r=n.edge||"a",s=n.diagonal||"d",i="#475569",o="#7c3aed",a="#334155",l="#94a3b8",u=y=>e===y?o:i,d=y=>e===y?o:a,f={bl:[40,130],br:[140,130],tl:[40,50],tr:[140,50]},h={bl:[80,100],br:[180,100],tl:[80,20],tr:[180,20]};return c.jsxs("svg",{viewBox:"0 0 220 160",className:"w-auto h-full max-w-[220px]",children:[c.jsx("line",{x1:h.bl[0],y1:h.bl[1],x2:h.br[0],y2:h.br[1],stroke:l,strokeWidth:"1",strokeDasharray:"4 2"}),c.jsx("line",{x1:h.bl[0],y1:h.bl[1],x2:h.tl[0],y2:h.tl[1],stroke:l,strokeWidth:"1",strokeDasharray:"4 2"}),c.jsx("line",{x1:h.bl[0],y1:h.bl[1],x2:f.bl[0],y2:f.bl[1],stroke:l,strokeWidth:"1",strokeDasharray:"4 2"}),c.jsx("line",{x1:f.bl[0],y1:f.bl[1],x2:f.br[0],y2:f.br[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.bl[0],y1:f.bl[1],x2:f.tl[0],y2:f.tl[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.tl[0],y1:f.tl[1],x2:f.tr[0],y2:f.tr[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.br[0],y1:f.br[1],x2:f.tr[0],y2:f.tr[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.br[0],y1:f.br[1],x2:h.br[0],y2:h.br[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.tr[0],y1:f.tr[1],x2:h.tr[0],y2:h.tr[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:h.br[0],y1:h.br[1],x2:h.tr[0],y2:h.tr[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.tl[0],y1:f.tl[1],x2:h.tl[0],y2:h.tl[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:h.tl[0],y1:h.tl[1],x2:h.tr[0],y2:h.tr[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f.bl[0],y1:f.bl[1],x2:h.tr[0],y2:h.tr[1],stroke:u("diagonal"),strokeWidth:e==="diagonal"?3:2}),c.jsx("circle",{cx:f.bl[0],cy:f.bl[1],r:"4",fill:u("diagonal")}),c.jsx("circle",{cx:h.tr[0],cy:h.tr[1],r:"4",fill:u("diagonal")}),c.jsx("text",{x:"90",y:"145",textAnchor:"middle",fill:d("edge"),fontSize:"14",fontWeight:e==="edge"?"bold":"normal",children:r}),c.jsx("text",{x:"120",y:"65",textAnchor:"middle",fill:d("diagonal"),fontSize:"14",fontWeight:e==="diagonal"?"bold":"normal",children:s})]})}function L0({labels:t,highlight:e}){const n=t??{},r=n.side||"a",s=n.diagonal||"d",i="#475569",o="#7c3aed",a="#334155",l=d=>e===d?o:i,u=d=>e===d?o:a;return c.jsxs("svg",{viewBox:"0 0 180 160",className:"w-auto h-full max-w-[180px]",children:[c.jsx("rect",{x:"30",y:"20",width:"120",height:"120",fill:"none",stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:"30",y1:"140",x2:"150",y2:"20",stroke:l("diagonal"),strokeWidth:e==="diagonal"?3:2}),c.jsx("path",{d:"M 45 140 L 45 125 L 30 125",fill:"none",stroke:"#94a3b8",strokeWidth:"1.5"}),c.jsx("text",{x:"90",y:"155",textAnchor:"middle",fill:u("side"),fontSize:"14",fontWeight:e==="side"?"bold":"normal",children:r}),c.jsx("text",{x:"80",y:"70",textAnchor:"middle",fill:u("diagonal"),fontSize:"14",fontWeight:e==="diagonal"?"bold":"normal",transform:"rotate(-45, 80, 70)",children:s})]})}function $0({labels:t,highlight:e}){const n=t??{},r=n.side||"a",s=n.height||"v",i="#475569",o="#7c3aed",a="#334155",l=g=>e===g?o:i,u=g=>e===g?o:a,d=[100,20],f=[30,140],h=[170,140],y=[100,140];return c.jsxs("svg",{viewBox:"0 0 200 170",className:"w-auto h-full max-w-[200px]",children:[c.jsx("line",{x1:f[0],y1:f[1],x2:h[0],y2:h[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:f[0],y1:f[1],x2:d[0],y2:d[1],stroke:l("side"),strokeWidth:e==="side"?3:2}),c.jsx("line",{x1:h[0],y1:h[1],x2:d[0],y2:d[1],stroke:i,strokeWidth:"2"}),c.jsx("line",{x1:d[0],y1:d[1],x2:y[0],y2:y[1],stroke:l("height"),strokeWidth:e==="height"?3:2,strokeDasharray:e==="height"?"none":"5 3"}),c.jsx("path",{d:"M 100 125 L 115 125 L 115 140",fill:"none",stroke:"#94a3b8",strokeWidth:"1.5"}),c.jsx("line",{x1:f[0],y1:"150",x2:y[0],y2:"150",stroke:"#94a3b8",strokeWidth:"1",strokeDasharray:"3 2"}),c.jsx("text",{x:"65",y:"165",textAnchor:"middle",fill:"#94a3b8",fontSize:"12",children:"a/2"}),c.jsx("text",{x:"50",y:"75",textAnchor:"middle",fill:u("side"),fontSize:"14",fontWeight:e==="side"?"bold":"normal",transform:"rotate(-60, 50, 75)",children:r}),c.jsx("text",{x:"115",y:"80",textAnchor:"start",fill:u("height"),fontSize:"14",fontWeight:e==="height"?"bold":"normal",children:s})]})}const z0={right_triangle:N0,ladder:R0,rectangle:A0,cube:I0,square:L0,equilateral_triangle:$0};function D0({diagram:t}){if(!t||!t.type)return null;const e=z0[t.type];return e?c.jsx("div",{className:"flex justify-center my-2",children:c.jsx("div",{className:"h-24 sm:h-32",children:c.jsx(e,{...t})})}):(console.warn(`Unknown diagram type: ${t.type}`),null)}function Li(t){return t.question.context||t.question.stem||""}function zh(t){return{strategy:t.solution.strategy||"",steps:t.solution.steps||[],hints:t.hints||[]}}function Ol({question:t,className:e,textClassName:n,mono:r}){const s=Li(t);return c.jsxs("div",{className:e,children:[t.diagram&&c.jsx(D0,{diagram:t.diagram}),c.jsx("p",{className:`${n||""} ${r?"font-mono":""}`,children:s})]})}const po={default:"bg-slate-200 text-slate-700 hover:bg-slate-300",toggle_off:"bg-slate-200 text-slate-400 hover:bg-slate-300",toggle_on:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200",hint:"bg-purple-100 text-purple-700 hover:bg-purple-200",primary:"bg-safe-blue text-white hover:bg-blue-600",secondary:"bg-slate-200 text-slate-400 hover:bg-slate-300",disabled:"opacity-50 cursor-not-allowed"},U0=`
  py-3 rounded-xl flex items-center justify-center
  transition-gentle active:scale-[0.98]
`.trim().replace(/\s+/g," "),M0="w-6 h-6",V0="grid grid-cols-5 gap-2",q0="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 safe-area-pb",Fu="max-w-2xl mx-auto px-4 py-2",B0={1:{id:"home",name:"Home",icon:f0,style:"default",title:"Zpt dom",required:!0},2:{id:"progress",name:"Progress",icon:Tl,style:"default",title:"Mj pokrok",required:!0},3:{id:"toggle",name:"Toggle",icon:hi,style:"toggle_off",title:"Typ lohy",required:!1},4:{id:"hint",name:"Hint",icon:is,style:"hint",title:"Npovda",required:!1},5:{id:"action",name:"Action",icon:null,style:"primary",title:null,required:!0}},Hu={submit:{id:"submit",icon:s0,title:"Odeslat",style:"primary"},continue:{id:"continue",icon:Fm,title:"Pokraovat",style:"primary"},skip:{id:"skip",icon:c0,title:"Peskoit",style:"secondary"},back:{id:"back",icon:Mm,title:"Zpt",style:"secondary"},restart:{id:"restart",icon:Bm,title:"Znovu",style:"primary"}};function X0(t,e=!1){const n=po[t]||po.default,r=e?po.disabled:"";return`${U0} ${n} ${r}`.trim()}function W0(t){return t?"toggle_on":"toggle_off"}function F0({position:t,onClick:e,disabled:n=!1,active:r=!1,action:s=null}){const i=B0[t];if(!i)return c.jsx("div",{});let o=i.icon,a=i.style,l=i.title;if(t===3&&(a=W0(r)),s&&Hu[s]){const u=Hu[s];o=u.icon,a=u.style,l=u.title}return o?c.jsx("button",{onClick:n?void 0:e,disabled:n,className:X0(a,n),title:l??void 0,children:c.jsx(o,{className:M0})}):c.jsx("div",{})}function tr({slots:t={},contained:e=!1}){const n=[1,2,3,4,5],r=c.jsx("div",{className:V0,children:n.map(s=>{const i=t[s];return i?c.jsx(F0,{position:s,onClick:i.onClick,disabled:i.disabled,active:i.active,action:i.action},s):c.jsx("div",{},s)})});return e?c.jsx("div",{className:Fu,children:r}):c.jsx("div",{className:q0,children:c.jsx("div",{className:Fu,children:r})})}function os({icon:t,title:e,progress:n,iconColor:r="text-safe-blue",progressColor:s="bg-safe-blue"}){const i=n?n.current/n.total*100:0;return c.jsxs("div",{className:"px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(t,{className:`w-5 h-5 ${r}`}),c.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:e})]}),n&&c.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[n.current,"/",n.total]})]}),n&&c.jsx("div",{className:"h-1.5 bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${s} rounded-full transition-all duration-300`,style:{width:`${i}%`}})})]})}const H0="Maps problem topics to taxonomy types and strategies for type recognition prompts",K0={equations:{type_id:"ALG-EQ",type_label:"Linern rovnice",strategy:"Izoluj x (peve na jednu stranu)",distractors_type:[{id:"ALG-EXPR",label:"prava vrazu"},{id:"NUM-ZLOM",label:"Zlomky"}],distractors_strategy:["Vytkej","Spolen jmenovatel"]},fractions:{type_id:"NUM-ZLOM",type_label:"Zlomky",strategy:"Spolen jmenovatel / nsobit pmo",distractors_type:[{id:"NUM-PROC",label:"Procenta"},{id:"ALG-EQ",label:"Rovnice"}],distractors_strategy:["Izoluj x"," (1 + X)"]},o_x_vice:{type_id:"WORD-OXVICE",type_label:"o X vce/mn",strategy:" (1  zlomek) - nsoben!",distractors_type:[{id:"NUM-PROC",label:"Procenta"},{id:"NUM-ZLOM",label:"Zlomky"}],distractors_strategy:["+ zlomek"," jmenovatelem"]},pythagorean:{type_id:"GEOM-PYTH",type_label:"Pythagorova vta",strategy:"c = a + b",distractors_type:[{id:"GEOM-OBSAH",label:"Obsah/obvod"},{id:"ALG-EQ",label:"Rovnice"}],distractors_strategy:["a + b","a  b"]},sequences:{type_id:"SEQ-PATTERN",type_label:"Posloupnosti",strategy:"Najdi vzorec pro n-t len",distractors_type:[{id:"ALG-EQ",label:"Rovnice"},{id:"NUM-ZLOM",label:"Zlomky"}],distractors_strategy:["Seti leny","Vynsob leny"]},binomial_squares:{type_id:"ALG-BINOM",type_label:"Umocovn (ab)",strategy:"(ab) = a  2ab + b",distractors_type:[{id:"ALG-EXPR",label:"prava vrazu"},{id:"ALG-EQ",label:"Rovnice"}],distractors_strategy:["a + b","a - b"]},unit_conversions:{type_id:"UNIT-CONV",type_label:"Pevody jednotek",strategy:"Umocni/odmocni pevodn koeficient",distractors_type:[{id:"NUM-ZLOM",label:"Zlomky"},{id:"NUM-PROC",label:"Procenta"}],distractors_strategy:["Nsob pmo","Dl pmo"]}},J0={description:H0,mappings:K0};function mo(t){let e=t.trim();return e=e.replace(/,/g,"."),e=e.replace(/\s+/g,""),e=e.toLowerCase(),e}function G0(t,e){if(!e)return{value:t,unit:null};const n=new RegExp(`(${e})$`,"i"),r=t.match(n);return r?{value:t.slice(0,-r[1].length).trim(),unit:r[1]}:{value:t,unit:null}}function yo(t){let e=t;return e=e.replace(//g,"*"),e=e.replace(//g,"*"),e=e.replace(//g,"/"),e=e.replace(/:/g,"/"),e=e.replace(//g,"**2"),e=e.replace(//g,"**3"),e=e.replace(/\^/g,"**"),e=e.replace(/\(/g,"Math.sqrt("),e=e.replace(/(\d+)/g,"Math.sqrt($1)"),e=e.replace(new RegExp("(?<!Math\\.)sqrt\\(","gi"),"Math.sqrt("),e=e.replace(/([\d.)])x/g,"$1*x"),e=e.replace(/x([\d(])/g,"x*$1"),e=e.replace(/\)([\d(])/g,")*$1"),e}function fi(t,e={}){try{let n=t;for(const[s,i]of Object.entries(e))n=n.replace(new RegExp(s,"g"),String(i));const r=Function('"use strict"; return ('+n+")")();return typeof r=="number"&&!isNaN(r)&&isFinite(r)?r:null}catch{return null}}function Y0(t,e){return e==null?!0:t.includes(String(e))}function Dh(t,e){return Math.abs(t-e)<1e-10}function Q0(t,e){const r=fi(t,{x:10}),s=fi(e,{x:10});return r===null||s===null?!1:Dh(r,s)}function gn(t,e={}){return{missing_variable:`Vyjdi jako vraz s x: ${e.expected||"?"}`,missing_unit_correct:`Sprvn! Nezapome na jednotku: ${e.unit||"?"}`,missing_unit:`Pozor na jednotky: ${e.unit||"?"}`,missing_original:"Vraz mus vychzet z pvodn hodnoty",wrong_value:null,parse_error:"Neplatn matematick vraz"}[t]||null}function Z0(t,e){const{question:n,answer:r}=e,s=r.value;let i=r.type;i||(i=typeof s=="string"&&s.toLowerCase().includes("x")?"symbolic":"numeric");const o=r.unit,a=n==null?void 0:n.originalValue;let l=mo(t);const{value:u,unit:d}=G0(l,o);l=u;const f=yo(l);if(i==="numeric"){if(a!=null&&!/^-?\d+\.?\d*$/.test(l)&&!Y0(l,a))return{isCorrect:!1,hint:gn("missing_original"),normalized:l};const h=fi(f);if(h===null)return{isCorrect:!1,hint:gn("parse_error"),normalized:l};const y=typeof s=="string"?fi(yo(mo(s))):s;if(y===null)return console.error("Invalid expected value in data:",s),{isCorrect:!1,hint:"Chyba v datech",normalized:l};const g=Dh(h,y);return o&&!d?{isCorrect:!1,hint:gn(g?"missing_unit_correct":"missing_unit",{unit:o}),normalized:String(h)}:{isCorrect:g,hint:g?null:gn("wrong_value"),normalized:String(h)}}else if(i==="symbolic"){if(!l.includes("x"))return{isCorrect:!1,hint:gn("missing_variable",{expected:s}),normalized:l};const h=mo(String(s)),y=yo(h),g=Q0(f,y);return{isCorrect:g,hint:g?null:gn("wrong_value"),normalized:l}}return{isCorrect:!1,hint:"Neznm typ odpovdi",normalized:l}}const Ku="tutor_attempts",vo="tutor_sessions",js="tutor_current_session";function go(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class ey{async getAttempts(){try{return JSON.parse(localStorage.getItem(Ku)||"[]")}catch{return[]}}async saveAttempt(e){const n={id:go(),user_id:"local",session_id:this.getCurrentSessionId()||go(),...e,created_at:new Date().toISOString()},r=await this.getAttempts();return r.push(n),localStorage.setItem(Ku,JSON.stringify(r)),n}async getAttemptsForQuestion(e){return(await this.getAttempts()).filter(r=>r.question_id===e)}async getAttemptsForTopic(e){return(await this.getAttempts()).filter(r=>r.topic===e)}async getRecentAttempts(e=7){const n=new Date;return n.setDate(n.getDate()-e),(await this.getAttempts()).filter(s=>new Date(s.created_at)>=n)}async getSessions(){try{return JSON.parse(localStorage.getItem(vo)||"[]")}catch{return[]}}async startSession(e){const n=go();sessionStorage.setItem(js,n);const r={id:n,user_id:"local",topic:e,started_at:new Date().toISOString(),ended_at:null,problems_count:0},s=await this.getSessions();return s.push(r),localStorage.setItem(vo,JSON.stringify(s)),n}async endSession(){const e=sessionStorage.getItem(js);if(!e)return;const n=await this.getSessions(),r=n.find(s=>s.id===e);if(r){r.ended_at=new Date().toISOString();const s=await this.getAttempts();r.problems_count=s.filter(i=>i.session_id===e).length,localStorage.setItem(vo,JSON.stringify(n))}sessionStorage.removeItem(js)}getCurrentSessionId(){return sessionStorage.getItem(js)}async getTopicStats(){const e=await this.getAttempts(),n=new Map;for(const s of e){const i=n.get(s.topic)||[];i.push(s),n.set(s.topic,i)}const r=[];for(const[s,i]of n){const o=i.filter(a=>a.is_correct).length;r.push({topic:s,total_attempts:i.length,correct_count:o,accuracy:i.length>0?o/i.length:0,avg_hints:i.reduce((a,l)=>a+l.hints_used,0)/i.length||0,avg_time_ms:i.reduce((a,l)=>a+l.time_spent_ms,0)/i.length||0})}return r}}const ty=new ey;function $i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ny(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const ry=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Nl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sy extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ju extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gu extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ba;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ba||(ba={}));class iy{constructor(e,{headers:n={},customFetch:r,region:s=ba.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=ry(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ny(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:f}=r;let h={},{region:y}=r;y||(y=this.region);const g=new URL(`${this.url}/${n}`);y&&y!=="any"&&(h["x-region"]=y,g.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let b=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:b}).catch(k=>{throw new sy(k)}),p=v.headers.get("x-relay-error");if(p&&p==="true")throw new Ju(v);if(!v.ok)throw new Gu(v);let m=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield v.json():m==="application/octet-stream"||m==="application/pdf"?_=yield v.blob():m==="text/event-stream"?_=v:m==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Gu||a instanceof Ju?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var oy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ay=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(n.method!=="HEAD"){var y;const v=await i.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const w=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new oy(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,f,h;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${g}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},ly=class extends ay{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Yu=new RegExp("[,()]");var jn=class extends ly{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},uy=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new jn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new jn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new jn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new jn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new jn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},cy=class Uh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new uy(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Uh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new jn({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class dy{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hy="2.89.0",fy=`realtime-js/${hy}`,Mh="1.0.0",py="2.0.0",Qu=Mh,ka=1e4,my=1e3,yy=100;var Ot;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ot||(Ot={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var Sa;(function(t){t.websocket="websocket"})(Sa||(Sa={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class vy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+f.length,y=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(y),w=0;g.setUint8(w++,this.KINDS.userBroadcastPush),g.setUint8(w++,l.length),g.setUint8(w++,a.length),g.setUint8(w++,o.length),g.setUint8(w++,u.length),g.setUint8(w++,f.length),g.setUint8(w++,n),Array.from(l,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(f,v=>g.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(y.byteLength+r.byteLength);return b.set(new Uint8Array(y),0),b.set(new Uint8Array(r),y.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),y=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Vh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(K||(K={}));const Zu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=gy(o,t,e,s),i),{}):{}},gy=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?qh(i,o):ja(o)},qh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return by(e,n)}switch(t){case K.bool:return wy(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return _y(e);case K.json:case K.jsonb:return xy(e);case K.timestamp:return ky(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return ja(e);default:return ja(e)}},ja=t=>t,wy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_y=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},by=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>qh(e,a))}return t},ky=t=>typeof t=="string"?t.replace(" ","T"):t,Bh=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wo{constructor(e,n,r={},s=ka){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ec;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ec||(ec={}));class Tr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Tr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),g=d.filter(b=>y.indexOf(b.presence_ref)<0),w=f.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...h)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tc||(tc={}));var Or;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Or||(Or={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Mn{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wo(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Tr(this),this.broadcastEndpointURL=Bh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Or.PRESENCE]&&this.bindings[Or.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(mt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,v=[];for(let p=0;p<b;p++){const m=w[p],{filter:{event:_,schema:k,table:S,filter:E}}=m,P=y&&y[p];if(P&&P.event===_&&Mn.isFilterValueEqual(P.schema,k)&&Mn.isFilterValueEqual(P.table,S)&&Mn.isFilterValueEqual(P.filter,E))v.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=ce.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(mt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ce.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ce.joined&&e===Or.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new wo(this,nt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=nt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,w,b;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var g,w,b,v,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,k=(g=y.filter)===null||g===void 0?void 0:g.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:w,table:b,commit_timestamp:v,type:p,errors:m}=g;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(g))}y.callback(h,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Mn.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zu(e.columns,e.old_record)),n}}const _o=()=>{},Es={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sy=[1e3,2e3,5e3,1e4],jy=1e4,Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cy{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ka,this.transport=null,this.heartbeatIntervalMs=Es.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_o,this.ref=0,this.reconnectTimer=null,this.vsn=Qu,this.logger=_o,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sa.websocket}`,this.httpEndpoint=Bh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ot.connecting:return en.Connecting;case Ot.open:return en.Open;case Ot.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Mn(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(my,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Es.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ot.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ot.open||this.conn.readyState===Ot.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ey],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:fy};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(nt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Es.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,d,f,h,y;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ka,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Es.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:_o,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Qu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>Sy[g-1]||jy,this.vsn){case Mh:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,w)=>w(JSON.stringify(g)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(g,w)=>w(JSON.parse(g));break;case py:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Kr=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Py(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Ty(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Oy(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=Py(t.baseUrl,r,s),l=await Ty(t.auth),u=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const y=f?h:void 0,g=y==null?void 0:y.error;throw new Kr((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:y})}return{status:u.status,headers:u.headers,data:h}}}}function Cs(t){return t.join("")}var Ny=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Cs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(t.namespace)}`}),!0}catch(e){if(e instanceof Kr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Kr&&n.status===409)return;throw n}}};function wn(t){return t.join("")}var Ry=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Kr&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Kr&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Ay=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Oy({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Ny(this.client,e),this.tableOps=new Ry(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},zi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Iy=class extends zi{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ea=class extends zi{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ly=()=>Response,Ca=t=>{if(Array.isArray(t))return t.map(n=>Ca(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ca(r)}),e},$y=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zy=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Jr(t){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(t)}function Dy(t,e){if(Jr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uy(t){var e=Dy(t,"string");return Jr(e)=="symbol"?e:e+""}function My(t,e,n){return(e=Uy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nc(Object(n),!0).forEach(function(r){My(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const xo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Vy=async(t,e,n)=>{t instanceof await Ly()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new Iy(xo(r),s,i))}).catch(r=>{e(new Ea(xo(r),r))}):e(new Ea(xo(t),t))},qy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:($y(r)?(s.headers=I({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),I(I({},s),n))};async function as(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,qy(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Vy(l,a,r))})}async function Gr(t,e,n,r){return as(t,"GET",e,n,r)}async function et(t,e,n,r,s){return as(t,"POST",e,r,s,n)}async function Pa(t,e,n,r,s){return as(t,"PUT",e,r,s,n)}async function By(t,e,n,r){return as(t,"HEAD",e,I(I({},n),{},{noResolveJson:!0}),r)}async function Al(t,e,n,r,s){return as(t,"DELETE",e,r,s,n)}var Xy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}}};let Xh;Xh=Symbol.toStringTag;var Wy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Xh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xy(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}}};const Fy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hy=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Rl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const o=I(I({},rc),r);let a=I(I({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=I(I({},a),r.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),f=await(t=="PUT"?Pa:et)(s.fetch,`${s.url}/object/${d}`,i,I({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=I({upsert:rc.upsert},r),d=I(I({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Pa(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Z(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=I({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await et(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new zi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await et(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await et(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await et(r.fetch,`${r.url}/object/sign/${s}`,I({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await et(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>I(I({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),o=()=>Gr(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Wy(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Ca(await Gr(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await By(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Z(r)&&r instanceof Ea){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await Al(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=I(I(I({},Fy),e),{},{prefix:t||""});return{data:await et(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=I({},t);return{data:await et(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Wh="2.89.0",Fh={"X-Client-Info":`storage-js/${Wh}`};var Ky=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=I(I({},Fh),e),this.fetch=Rl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Gr(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Gr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await et(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Pa(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await et(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Al(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Jy=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=I(I({},Fh),e),this.fetch=Rl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await et(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Gr(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Al(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!zy(t))throw new zi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Ay({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Il={"X-Client-Info":`storage-js/${Wh}`,"Content-Type":"application/json"};var Hh=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function De(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var bo=class extends Hh{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gy=class extends Hh{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ll=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qy=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new bo(sc(i),r,o))}).catch(()=>{const i=r+"";e(new bo(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new bo(s.statusText||`HTTP ${r} error`,r,i))}}else e(new Gy(sc(t),t))},Zy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Yy(r)?(s.headers=I({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,I(I({},s),n))};async function ev(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,Zy(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Qy(l,a,r))})}async function Ue(t,e,n,r,s){return ev(t,"POST",e,r,s,n)}var tv=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=I(I({},Il),e),this.fetch=Ll(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ue(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ue(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}},nv=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=I(I({},Il),e),this.fetch=Ll(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ue(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ue(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ue(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}},rv=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=I(I({},Il),e),this.fetch=Ll(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ue(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}},sv=class extends rv{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new iv(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},iv=class extends tv{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new ov(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},ov=class extends nv{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,I(I({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},av=class extends Ky{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Hy(this.url,this.headers,t,this.fetch)}get vectors(){return new sv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jy(this.url+"/iceberg",this.headers,this.fetch)}};const Kh="2.89.0",En=30*1e3,Ta=3,ko=Ta*En,lv="http://localhost:9999",uv="supabase.auth.token",cv={"X-Client-Info":`gotrue-js/${Kh}`},Oa="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hv=10*60*1e3;class Yr extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fv extends Yr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pv(t){return O(t)&&t.name==="AuthApiError"}class tn extends Yr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jt extends Yr{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class $e extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mv(t){return O(t)&&t.name==="AuthSessionMissingError"}class _n extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ts extends jt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yv(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class ic extends jt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Na extends jt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function So(t){return O(t)&&t.name==="AuthRetryableFetchError"}class oc extends jt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ra extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ac=` 	
\r=`.split(""),gv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ac.length;e+=1)t[ac[e].charCodeAt(0)]=-2;for(let e=0;e<pi.length;e+=1)t[pi[e].charCodeAt(0)]=e;return t})();function lc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pi[r]),e.queuedBits-=6}}function Gh(t,e,n){const r=gv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{xv(o,r,n)};for(let o=0;o<t.length;o+=1)Gh(t.charCodeAt(o),s,i);return e.join("")}function wv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _v(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}wv(r,e)}}function xv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Hn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function bv(t){const e=[];return _v(t,n=>e.push(n)),new Uint8Array(e)}function on(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>lc(s,n,r)),lc(null,n,r),e.join("")}function kv(t){return Math.round(Date.now()/1e3)+t}function Sv(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Yh=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function jv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Qh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ev=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ve=async(t,e)=>{await t.removeItem(e)};class Di{constructor(){this.promise=new Di.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Di.promiseConstructor=Promise;function jo(t){const e=t.split(".");if(e.length!==3)throw new Ra("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dv.test(e[r]))throw new Ra("JWT not in base64url format");return{header:JSON.parse(uc(e[0])),payload:JSON.parse(uc(e[1])),signature:Hn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Pv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Tv(t){return("0"+t.toString(16)).substr(-2)}function Ov(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Tv).join("")}async function Nv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Nv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xn(t,e,n=!1){const r=Ov();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cn(t,`${e}-code-verifier`,s);const i=await Rv(r);return[i,r===i?"plain":"s256"]}const Av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Iv(t){const e=t.headers.get(Oa);if(!e||!e.match(Av))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $v(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bn(t){if(!zv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dv(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function cc(t){return JSON.parse(JSON.stringify(t))}const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uv=[502,503,504];async function dc(t){var e;if(!Ev(t))throw new Na(Zt(t),0);if(Uv.includes(t.status))throw new Na(Zt(t),t.status);let n;try{n=await t.json()}catch(i){throw new tn(Zt(i),i)}let r;const s=Iv(t);if(s&&s.getTime()>=Jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oc(Zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $e}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oc(Zt(n),t.status,n.weak_password.reasons);throw new fv(Zt(n),t.status||500,r)}const Mv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Oa]||(i[Oa]=Jh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vv(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Vv(t,e,n,r,s,i){const o=Mv(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Na(Zt(l),0)}if(a.ok||await dc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await dc(l)}}function Qe(t){var e;let n=null;Xv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function hc(t){const e=Qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qv(t){return{data:t,error:null}}function Bv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=$i(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fc(t){return t}function Xv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Co=["global","local","others"];class Wv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Co[0]){if(Co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Co.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:At})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=$i(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Bv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fc});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){bn(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bn(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:At})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){bn(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:At})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bn(e.userId);try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bn(e.userId),bn(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fc});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function pc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const kn={debug:!!(globalThis&&Yh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fv extends Zh{}async function Hv(t,e,n){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Kv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ef(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Jv(t){return parseInt(t,16)}function Gv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Yv(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=ef(t.address),g=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${y}

${w}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}v+=p}return`${b}
${v}`}class le extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class mi extends le{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Qv({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(tf(o)){if(i.rp.id!==o)return new le({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Zv({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(tf(r)){if(n.rpId!==r)return new le({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class eg{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tg=new eg;function ng(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=$i(t,["challenge","user","excludeCredentials"]),i=Hn(e).buffer,o=Object.assign(Object.assign({},n),{id:Hn(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Hn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function rg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=$i(t,["challenge","allowCredentials"]),s=Hn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Hn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function sg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:on(new Uint8Array(t.response.attestationObject)),clientDataJSON:on(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ig(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:on(new Uint8Array(s.authenticatorData)),clientDataJSON:on(new Uint8Array(s.clientDataJSON)),signature:on(new Uint8Array(s.signature)),userHandle:s.userHandle?on(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mc(){var t,e;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function og(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mi("Browser returned unexpected credential type",e)}:{data:null,error:new mi("Empty credential response",e)}}catch(e){return{data:null,error:Qv({error:e,options:t})}}}async function ag(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mi("Browser returned unexpected credential type",e)}:{data:null,error:new mi("Empty credential response",e)}}catch(e){return{data:null,error:Zv({error:e,options:t})}}}const lg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ug={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=yi(a,o):r[i]=yi(o)}else r[i]=o}return r}function cg(t,e){return yi(lg,t,e||{})}function dg(t,e){return yi(ug,t,e||{})}class hg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??tg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=cg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await og({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=dg(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await ag(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new tn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Yr("rpId is required for WebAuthn authentication")};try{if(!mc())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new tn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Yr("rpId is required for WebAuthn registration")};try{if(!mc())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new tn("Unexpected error in register",o)}}}}Kv();const fg={url:lv,storageKey:uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yc(t,e,n){return await n()}const Sn={};class Qr{get jwks(){var e,n;return(n=(e=Sn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Sn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},fg),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Qr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ge()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qh(i.fetch),this.lock=i.lock||yc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ge()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Hv:this.lock=yc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pc(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kh}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ge()&&(n=jv(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ge()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new tn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await xn(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:g},xform:Qe})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qe})}else throw new Ps("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hc})}else throw new Ps("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new _n;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,d,f,h;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:w,wallet:b,statement:v,options:p}=e;let m;if(ge())if(typeof b=="object")m=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")m=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=b}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),k=await m.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=ef(k[0]);let E=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const $=await m.request({method:"eth_chainId"});E=Jv($)}const P={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=Yv(P),g=await m.request({method:"personal_sign",params:[Gv(y),S]})}try{const{data:w,error:b}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qe});if(b)throw b;if(!w||!w.session||!w.user){const v=new _n;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,f,h,y;let g,w;if("message"in e)g=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:p,options:m}=e;let _;if(ge())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const k=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:b,error:v}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:on(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qe});if(v)throw v;if(!b||!b.session||!b.user){const p=new _n;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(O(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new vv;const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qe});if(await ve(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new _n;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new _n;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xn(this.storage,this.storageKey));const{error:f}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ps("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await xn(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:qv});return!((i=u.data)===null||i===void 0)&&i.url&&ge()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $e;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ps("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ko:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Gt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Eo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Dv(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(n){if(O(n))return mv(n)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new $e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await xn(this.storage,this.storageKey));const{data:u,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $e;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=jo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ge())throw new Ts("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ts(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ic("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ts("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ic("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ts("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const y=h-d;y*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(pv(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Sv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xn(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ge()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,f=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qe}),{data:h,error:y}=f;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _n}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Pv(async s=>(s>0&&await Cv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&So(i)&&Date.now()+o-r<En})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ge()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Eo()}else if(s&&!s.user&&!s.user){const o=await Gt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ve(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,s)):s.user=Eo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ko;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ko}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),So(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Di;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),O(i)){const o={data:null,error:i};return So(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=cc(s);await Cn(this.storage,this.storageKey,i)}else{const s=cc(n);await Cn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${En}ms, refresh threshold is ${Ta} ticks`),s<=Ta&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await xn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sg(e.webauthn.credential_response):ig(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ng(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=jo(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+hv>s)return r;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:g}=await this.getSession();if(g||!y.session)return this._returnResult({data:null,error:g});r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=jo(r);n!=null&&n.allowExpired||Lv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=$v(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,bv(`${a}.${l}`)))throw new Ra("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}Qr.nextInstanceID={};const pg=Qr,mg="2.89.0";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const yg={"X-Client-Info":`supabase-js-${wr}/${mg}`},vg={headers:yg},gg={schema:"public"},wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_g={};function Zr(t){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(t)}function xg(t,e){if(Zr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bg(t){var e=xg(t,"string");return Zr(e)=="symbol"?e:e+""}function kg(t,e,n){return(e=bg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vc(Object(n),!0).forEach(function(r){kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Sg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jg=()=>Headers,Eg=(t,e,n)=>{const r=Sg(n),s=jg();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,re(re({},o),{},{headers:u}))}};function Cg(t){return t.endsWith("/")?t:t+"/"}function Pg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:re(re({},l),s),auth:re(re({},u),i),realtime:re(re({},d),o),storage:{},global:re(re(re({},f),a),{},{headers:re(re({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Tg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Og=class extends pg{constructor(t){super(t)}},Ng=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=Tg(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:gg,realtime:_g,auth:re(re({},wg),{},{storageKey:o}),global:vg},l=Pg(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Eg(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(re({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cy(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new av(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new iy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Og({url:this.authUrl.href,headers:re(re({},h),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Cy(this.realtimeUrl.href,re(re({},t),{},{params:re(re({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Rg=(t,e,n)=>new Ng(t,e,n);function Ag(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ag()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ig="https://abqtfngdvpkfurrodumv.supabase.co",nf="sb_publishable_5msNBlTmddQ9XdxW2ogSYg_CfqsCZXP",Ct="anezka";function rf(){return!!nf}let Po=null;function Lg(){return rf()?(Po||(Po=Rg(Ig,nf)),Po):null}class $g{constructor(){this.currentSessionId=null}getClient(){const e=Lg();if(!e)throw new Error("Supabase not configured");return e}async getAttempts(){const e=this.getClient(),{data:n,error:r}=await e.from("attempts").select("*").eq("user_id",Ct).order("created_at",{ascending:!1});if(r)throw r;return n||[]}async saveAttempt(e){const n=this.getClient(),r={user_id:Ct,session_id:this.currentSessionId,...e,created_at:new Date().toISOString()},{data:s,error:i}=await n.from("attempts").insert(r).select().single();if(i)throw i;return s}async getAttemptsForQuestion(e){const n=this.getClient(),{data:r,error:s}=await n.from("attempts").select("*").eq("user_id",Ct).eq("question_id",e).order("created_at",{ascending:!1});if(s)throw s;return r||[]}async getAttemptsForTopic(e){const n=this.getClient(),{data:r,error:s}=await n.from("attempts").select("*").eq("user_id",Ct).eq("topic",e).order("created_at",{ascending:!1});if(s)throw s;return r||[]}async getRecentAttempts(e=7){const n=this.getClient(),r=new Date;r.setDate(r.getDate()-e);const{data:s,error:i}=await n.from("attempts").select("*").eq("user_id",Ct).gte("created_at",r.toISOString()).order("created_at",{ascending:!1});if(i)throw i;return s||[]}async getSessions(){const e=this.getClient(),{data:n,error:r}=await e.from("sessions").select("*").eq("user_id",Ct).order("started_at",{ascending:!1});if(r)throw r;return n||[]}async startSession(e){const n=this.getClient(),r={user_id:Ct,topic:e,started_at:new Date().toISOString(),ended_at:null,problems_count:0},{data:s,error:i}=await n.from("sessions").insert(r).select().single();if(i)throw i;return this.currentSessionId=s.id,s.id}async endSession(){if(!this.currentSessionId)return;const e=this.getClient(),{count:n}=await e.from("attempts").select("*",{count:"exact",head:!0}).eq("session_id",this.currentSessionId);await e.from("sessions").update({ended_at:new Date().toISOString(),problems_count:n||0}).eq("id",this.currentSessionId),this.currentSessionId=null}getCurrentSessionId(){return this.currentSessionId}async getTopicStats(){const e=this.getClient(),{data:n,error:r}=await e.from("attempts").select("topic, is_correct, hints_used, time_spent_ms").eq("user_id",Ct);if(r)throw r;if(!n||n.length===0)return[];const s=new Map;for(const o of n){const a=s.get(o.topic)||[];a.push(o),s.set(o.topic,a)}const i=[];for(const[o,a]of s){const l=a.filter(u=>u.is_correct).length;i.push({topic:o,total_attempts:a.length,correct_count:l,accuracy:a.length>0?l/a.length:0,avg_hints:a.reduce((u,d)=>u+d.hints_used,0)/a.length||0,avg_time_ms:a.reduce((u,d)=>u+d.time_spent_ms,0)/a.length||0})}return i}}const zg=new $g;function Ui(){return rf()?zg:ty}function vi(...t){return Ui().saveAttempt(...t)}function Dg(){return Ui().getAttempts()}function gi(t){return Ui().startSession(t)}function $l(){return Ui().endSession()}const Ug={o_x_vice:"O X vce/mn",equations:"Rovnice",fractions:"Zlomky",pythagorean:"Pythagorova vta",sequences:"Posloupnosti",percents:"Procenta",geometry:"Geometrie"},Mg=J0;function Vg(t){return typeof t=="number"?t.toLocaleString("cs-CZ"):t}function qg({problem:t,onAnswer:e,progress:n,onExit:r,onViewProgress:s,typePromptEnabled:i,onToggleTypePrompt:o,skipStrategyPrompt:a,onStrategyAnswered:l}){var at;const[u,d]=x.useState(""),[f,h]=x.useState([]),[y,g]=x.useState(!1),[w,b]=x.useState(null),[v,p]=x.useState(0),m=Mg.mappings[t.topic]||null,_=i&&m&&!a,[k,S]=x.useState(_?"strategy":"done"),[E,P]=x.useState(null);x.useEffect(()=>{_?(S("strategy"),P(null)):S("done")},[t.id,_]);const $=t.solution.steps.length>0?t.solution.steps:t.hints,[N,M]=x.useState(!0);x.useEffect(()=>{const q=()=>{const R="ontouchstart"in window||navigator.maxTouchPoints>0,X=window.innerWidth<768;M(R&&X)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const[V,ie]=x.useState(Date.now());x.useEffect(()=>{ie(Date.now())},[t.id]);const me=()=>{if(!t.modes.numeric)return;if(Z0(u,{question:{originalValue:null},answer:{value:t.modes.numeric.answer,unit:t.modes.numeric.unit||null}}).isCorrect)b("correct"),vi({question_id:t.id,question_stem:L,correct_answer:String(t.modes.numeric.answer),topic:t.topic,difficulty:t.difficulty,user_answer:u,is_correct:!0,mode:"numeric",hints_used:f.length,hints_shown:f.map(R=>$[R]),time_spent_ms:Date.now()-V}),setTimeout(()=>{e({correct:!0,hintsUsed:f.length,timeSpent:Date.now()-V}),Oe()},1500);else{b("tryAgain");const R=v+1;p(R),R>=3&&!y&&f.length<$.length?setTimeout(()=>{b(null),C()},1500):setTimeout(()=>b(null),2e3)}},Oe=()=>{d(""),h([]),g(!1),b(null),p(0),ie(Date.now()),i&&m&&(S("strategy"),P(null))},H=(q,R)=>{P(R),l&&l(t.topic),setTimeout(()=>S("done"),300)},ae=()=>m?[{value:m.strategy,isCorrect:!0},...m.distractors_strategy.map(q=>({value:q,isCorrect:!1}))].sort(()=>Math.random()-.5):[],C=()=>{if(y||$.length===0)return;const q=f.length;if(q<$.length){const R=[...f,q];h(R),R.length>=$.length&&g(!0)}},z=()=>{e({correct:!1,hintsUsed:f.length,timeSpent:Date.now()-V,usedFullSolution:!0}),Oe()},L=Li(t),D=((at=t.modes.numeric)==null?void 0:at.unit)||null,F=t.keyboard.variable,yn=Ug[t.topic]||t.topic;return c.jsxs("div",{className:"h-screen h-[100dvh] bg-slate-50 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"bg-white border-b border-slate-200 flex-shrink-0",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsx(os,{icon:Ym,title:yn,progress:n?{current:n.current,total:n.total}:void 0})})}),c.jsx("div",{className:"max-w-2xl mx-auto w-full",children:c.jsx(Ol,{question:t,className:"bg-white rounded-2xl shadow-sm p-5 mb-4 mx-4 mt-4",textClassName:"text-lg text-slate-800 leading-relaxed"})}),k==="strategy"&&m&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 pb-20 max-w-2xl mx-auto w-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2 rounded-lg bg-indigo-50 text-indigo-700",children:[c.jsx(hi,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:m.type_label})]}),c.jsx("h3",{className:"text-lg font-medium text-indigo-700 mb-4",children:"Jak je sprvn strategie?"}),c.jsx("div",{className:"space-y-3",children:ae().map((q,R)=>c.jsx("button",{onClick:()=>H(q.value,q.isCorrect),className:`w-full p-4 rounded-xl text-left transition-all duration-200
                    bg-white border-2 border-slate-200 text-slate-700 md:hover:border-indigo-300
                    active:scale-[0.98]`,children:c.jsx("span",{className:"font-mono",children:q.value})},R))})]}),c.jsx(tr,{slots:{1:{onClick:r},2:{onClick:s},5:{action:"skip",onClick:()=>S("done")}}})]}),k==="done"&&c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col overflow-auto px-4 pb-64 max-w-2xl mx-auto w-full",children:[i&&m&&E!==null&&c.jsx("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-4 mb-4 flex-shrink-0",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(hi,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5"}),c.jsx("div",{className:"text-sm",children:c.jsxs("p",{className:"text-indigo-800",children:[c.jsx("span",{className:"font-medium",children:"Strategie:"})," ",m.strategy,c.jsx("span",{className:`ml-2 ${E?"text-green-600":"text-amber-600"}`,children:E?"":""})]})})]})}),f.length>0&&c.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 mb-4 transition-gentle flex-shrink-0",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(is,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-2",children:[f.map((q,R)=>c.jsxs("p",{className:`text-purple-800 ${R===f.length-1?"font-medium":"text-purple-600"}`,children:[R+1,". ",$[q]]},R)),!y&&c.jsxs("p",{className:"text-purple-400 text-sm mt-2",children:["(",f.length,"/",$.length," krok)"]})]})]})}),y&&t.modes.numeric&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-4",children:c.jsxs("p",{className:"text-green-800 font-medium",children:["Sprvn odpov: ",Vg(t.modes.numeric.answer),D?` ${D}`:""]})}),!y&&c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[N?c.jsx("div",{className:`w-full p-4 text-xl rounded-xl border-2 border-slate-200
                  bg-white min-h-[56px] flex items-center`,children:u||c.jsx("span",{className:"text-slate-400",children:"Tvoje odpov..."})}):c.jsx("input",{type:"text",value:u,onChange:q=>d(q.target.value),onKeyDown:q=>{q.key==="Enter"&&u.trim()&&me()},placeholder:"Tvoje odpov...",className:`w-full p-4 text-xl rounded-xl border-2 border-slate-200
                  bg-white min-h-[56px] focus:border-safe-blue focus:outline-none`,autoFocus:!0}),D&&c.jsxs("span",{className:"text-slate-500 text-sm mt-1 block",children:["Odpovz v: ",D]})]}),w&&c.jsx("div",{className:`mb-4 p-4 rounded-xl text-center transition-gentle
              ${w==="correct"?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:w==="correct"?c.jsx("span",{className:"font-medium",children:"Pesn tak! "}):c.jsx("span",{children:"Zkus jin pstup"})})]})]}),k==="done"&&c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 safe-area-pb",children:c.jsxs("div",{className:"max-w-2xl mx-auto px-4 pt-2 pb-2",children:[N&&!y&&(()=>{const q=F||D,R=ft=>{d(ft===""?ye=>ye.slice(0,-1):ft===","?ye=>ye+".":ft===""?ye=>ye+"(":ft===""?ye=>ye+"/":ft===""?ye=>ye+"*":ft===""?ye=>ye+"-":ye=>ye+ft)},X=(ft,ye)=>{const or="h-11 rounded-xl text-base font-medium transition-gentle active:scale-95";return ft===""?`${or} bg-red-50 text-red-600`:ye===1?`${or} bg-slate-100 text-slate-800`:ye===2?`${or} bg-purple-100 text-purple-700`:ye===3?`${or} bg-teal-100 text-teal-700`:or};return c.jsxs("div",{className:`grid gap-1 mb-2 ${q?"grid-cols-6":"grid-cols-5"}`,children:[c.jsx("button",{type:"button",onClick:()=>R("7"),className:X("7",1),children:"7"}),c.jsx("button",{type:"button",onClick:()=>R("8"),className:X("8",1),children:"8"}),c.jsx("button",{type:"button",onClick:()=>R("9"),className:X("9",1),children:"9"}),c.jsx("button",{type:"button",onClick:()=>R(""),className:X("",2),children:""}),c.jsx("button",{type:"button",onClick:()=>R("^"),className:X("^",2),children:"^"}),q&&(D?c.jsx("button",{type:"button",onClick:()=>R(D),className:X(D,3),children:D}):c.jsx("div",{})),c.jsx("button",{type:"button",onClick:()=>R("4"),className:X("4",1),children:"4"}),c.jsx("button",{type:"button",onClick:()=>R("5"),className:X("5",1),children:"5"}),c.jsx("button",{type:"button",onClick:()=>R("6"),className:X("6",1),children:"6"}),c.jsx("button",{type:"button",onClick:()=>R(""),className:X("",2),children:""}),c.jsx("button",{type:"button",onClick:()=>R(""),className:X("",2),children:""}),q&&(F?c.jsx("button",{type:"button",onClick:()=>R(F),className:X(F,3),children:F}):c.jsx("div",{})),c.jsx("button",{type:"button",onClick:()=>R("1"),className:X("1",1),children:"1"}),c.jsx("button",{type:"button",onClick:()=>R("2"),className:X("2",1),children:"2"}),c.jsx("button",{type:"button",onClick:()=>R("3"),className:X("3",1),children:"3"}),c.jsx("button",{type:"button",onClick:()=>R(""),className:X("",2),children:""}),c.jsx("button",{type:"button",onClick:()=>R("+"),className:X("+",2),children:"+"}),q&&c.jsx("div",{}),c.jsx("button",{type:"button",onClick:()=>R("0"),className:X("0",1),children:"0"}),c.jsx("button",{type:"button",onClick:()=>R(","),className:X(",",1),children:","}),c.jsx("button",{type:"button",onClick:()=>R(""),className:X("",1),children:""}),c.jsx("button",{type:"button",onClick:()=>R("("),className:X("(",2),children:"("}),c.jsx("button",{type:"button",onClick:()=>R(")"),className:X(")",2),children:")"}),q&&c.jsx("div",{})]})})(),!N&&!y&&c.jsx("div",{className:"flex gap-2 mb-2",children:[...F?[{symbol:F,display:F}]:[],{symbol:"(",display:"("},{symbol:"^",display:"^"},{symbol:"(",display:"("},{symbol:")",display:")"},...D?[{symbol:D,display:D}]:[]].map(({symbol:q,display:R})=>c.jsx("button",{type:"button",onClick:()=>d(X=>X+q),className:`px-4 py-2 rounded-lg bg-purple-100 text-purple-700
                      font-mono text-lg hover:bg-purple-200 transition-gentle`,children:R},q))}),c.jsx(tr,{contained:!0,slots:{1:{onClick:r},2:{onClick:s},3:{onClick:o,active:i},4:{onClick:C,disabled:y},5:{action:y?"continue":"submit",onClick:y?z:me,disabled:!y&&!u.trim()}}})]})})]})}const Bg=ir;function Xg({attempts:t,totalProblems:e,topic:n,sessionMetrics:r,onNewSession:s,onViewProgress:i,onHome:o}){var w;const a=t.length,l=t.filter(b=>b.hintsUsed>0).length,u=t.filter(b=>b.hintsUsed>0&&b.correct).length,d=n==="mixed"?"Mix veho":n&&((w=Bg.topics[n])==null?void 0:w.name_cs)||n,h=(()=>{try{const v=JSON.parse(localStorage.getItem("tutor_progress")||"[]").filter(k=>k.topic===n),p=v.length>=2?v[v.length-2]:null;if(!p)return null;const m=p.problemsExplored||0,_=a-m;return _>0?`+${_} vce ne minule!`:_===0&&m>0?"Stejn jako minule - stabiln!":null}catch{return null}})(),g=(()=>{try{const b=JSON.parse(localStorage.getItem("tutor_progress")||"[]"),v=b.reduce((p,m)=>p+(m.problemsExplored||0),0);return{sessions:b.length,problems:v}}catch{return{sessions:0,problems:0}}})();return c.jsxs("div",{className:"h-screen h-[100dvh] bg-slate-50 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto flex items-center justify-center px-4 py-6 pb-20",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 sm:p-8 max-w-sm w-full text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx($h,{className:"w-12 h-12 sm:w-16 sm:h-16 text-amber-500"})}),c.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-800 mb-2",children:"Skvl prozkoumvn!"}),c.jsxs("p",{className:"text-slate-600 mb-6",children:["Dnes jsi prozkoumala ",a," ",a===1?"lohu":a<5?"lohy":"loh",d&&c.jsxs("span",{className:"text-slate-400",children:[" z tmatu ",d]})]}),c.jsxs("div",{className:"bg-safe-blue/10 rounded-xl p-4 mb-4",children:[c.jsx("div",{className:"text-4xl font-bold text-safe-blue",children:a}),c.jsx("div",{className:"text-sm text-blue-700",children:"loh prozkoumno"}),h&&c.jsx("div",{className:"text-sm text-green-600 mt-2 font-medium",children:h})]}),l>0&&c.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-medium text-purple-800",children:"Npovdy ti pomohly"})]}),c.jsx("div",{className:"text-sm text-purple-600",children:u>0?`${u} ses dky nim nauila sprvn postup`:`${l} jsi je pouila k uen`})]}),g.problems>0&&c.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[c.jsxs("div",{className:"text-lg font-medium text-slate-700",children:[g.problems," loh celkem"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:["za ",g.sessions," cvien"]})]})]})}),c.jsx(tr,{slots:{1:{onClick:o||s},2:{onClick:i},5:{action:"continue",onClick:s}}})]})}const gc=ir;function Wg(){try{const t=JSON.parse(localStorage.getItem("tutor_progress")||"[]"),e=new Set;for(const n of t)for(const r of n.attempts||[])r.correct&&(r.hintsUsed||0)===0&&e.add(r.problemId);return e}catch{return new Set}}function Fg({onSelectTopic:t,lastSession:e,onViewProgress:n,onStartLightning:r,onStartTypeDrill:s}){const i=Object.values(gc.topics),o=Wg(),a=gc.questions.filter(u=>u.modes.numeric),l=i.reduce((u,d)=>{const f=a.filter(h=>h.topic===d.id);return u[d.id]={total:f.length,mastered:f.filter(h=>o.has(h.id)).length,remaining:f.filter(h=>!o.has(h.id)).length},u},{});return c.jsxs("div",{className:"min-h-screen bg-slate-50 px-3 sm:px-4 py-4 sm:py-6 flex flex-col",children:[e&&c.jsx("div",{className:"bg-white rounded-xl p-4 mb-6 shadow-sm",children:c.jsxs("p",{className:"text-slate-600 text-sm flex items-center gap-2",children:[c.jsx(Lh,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{children:["Naposledy jsi prozkoumala ",e.problemsExplored," loh",c.jsxs("span",{className:"text-slate-400 ml-1",children:["(",new Date(e.date).toLocaleDateString("cs-CZ"),")"]})]})]})}),c.jsxs("div",{className:"mb-4 sm:mb-6",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-800 mb-1 sm:mb-2",children:"Co dnes prozkoumme?"}),c.jsx("p",{className:"text-slate-500 text-sm sm:text-base",children:"Vyber si tma, kter t zajm"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 mb-4",children:[c.jsxs("button",{onClick:n,className:`bg-purple-50 rounded-xl p-3 sm:p-5 text-left
            transition-gentle active:scale-[0.98] border-2 border-purple-200
            hover:bg-purple-100 focus:border-purple-400 focus:outline-none`,children:[c.jsxs("h2",{className:"text-base sm:text-lg font-medium text-purple-700 mb-0 sm:mb-1 flex items-center gap-2",children:[c.jsx(Tl,{className:"w-5 h-5"}),"Mj pokrok"]}),c.jsx("p",{className:"hidden sm:block text-sm text-purple-500",children:"Zvod sama se sebou"})]}),c.jsxs("button",{onClick:()=>t("mixed"),className:`bg-safe-blue/10 rounded-xl p-3 sm:p-5 text-left
            transition-gentle active:scale-[0.98] border-2 border-safe-blue/20
            hover:bg-safe-blue/20 focus:border-safe-blue focus:outline-none`,children:[c.jsxs("h2",{className:"text-base sm:text-lg font-medium text-safe-blue mb-0 sm:mb-1 flex items-center gap-2",children:[c.jsx(x0,{className:"w-5 h-5"}),"Mix veho"]}),c.jsx("p",{className:"hidden sm:block text-sm text-slate-500",children:"Nhodn vbr"})]}),c.jsxs("button",{onClick:r,className:`bg-amber-50 rounded-xl p-3 sm:p-5 text-left
            transition-gentle active:scale-[0.98] border-2 border-amber-200
            hover:bg-amber-100 focus:border-amber-400 focus:outline-none`,children:[c.jsxs("h2",{className:"text-base sm:text-lg font-medium text-amber-700 mb-0 sm:mb-1 flex items-center gap-2",children:[c.jsx(Ih,{className:"w-5 h-5"}),"Bleskov kolo"]}),c.jsx("p",{className:"hidden sm:block text-sm text-amber-600",children:"o X vce/mn"})]}),c.jsxs("button",{onClick:s,className:`bg-indigo-50 rounded-xl p-3 sm:p-5 text-left
            transition-gentle active:scale-[0.98] border-2 border-indigo-200
            hover:bg-indigo-100 focus:border-indigo-400 focus:outline-none`,children:[c.jsxs("h2",{className:"text-base sm:text-lg font-medium text-indigo-700 mb-0 sm:mb-1 flex items-center gap-2",children:[c.jsx(Pl,{className:"w-5 h-5"}),"Rozpoznej typ"]}),c.jsx("p",{className:"hidden sm:block text-sm text-indigo-600",children:"Typ + strategie"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 flex-1",children:[i.map(u=>c.jsxs("button",{onClick:()=>t(u.id),className:`bg-white rounded-xl p-3 sm:p-5 shadow-sm text-left relative
              transition-gentle active:scale-[0.98] border-2 border-transparent
              md:hover:border-safe-blue/20 focus:outline-none`,children:[(u.is_strength||u.is_critical)&&c.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[u.is_strength&&c.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full",children:"sla"}),u.is_critical&&c.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full",children:"ast"})]}),c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-1 pr-14",children:u.name_cs}),c.jsx("p",{className:"text-sm text-slate-500",children:l[u.id].remaining>0?c.jsxs(c.Fragment,{children:[l[u.id].remaining," novch loh",l[u.id].mastered>0&&c.jsxs("span",{className:"text-green-600 ml-1",children:[" ",l[u.id].mastered," zvldnuto"]})]}):c.jsxs("span",{className:"text-green-600",children:[" Ve zvldnuto! (",l[u.id].total," loh)"]})}),u.is_critical&&c.jsxs("p",{className:"hidden sm:flex text-sm text-blue-600 mt-2 items-center gap-1",children:[c.jsx(is,{className:"w-4 h-4"}),"ast na CERMATu"]})]},u.id)),i.length%2===1&&c.jsx("div",{})]})]})}function Mi({header:t,children:e,bottomBar:n,contentClassName:r="",maxWidth:s=!0,bgColor:i="bg-slate-50"}){return c.jsxs("div",{className:`h-screen h-[100dvh] ${i} flex flex-col overflow-hidden`,children:[t&&c.jsx("div",{className:"bg-white border-b border-slate-200 flex-shrink-0",children:c.jsx("div",{className:s?"max-w-2xl mx-auto":"",children:t})}),c.jsx("main",{className:`flex-1 min-h-0 overflow-y-auto ${s?"max-w-2xl mx-auto w-full":""} pb-20 ${r}`,children:e}),n&&c.jsx(tr,{slots:n})]})}function Hg({problem:t,onContinue:e,onHome:n,onViewProgress:r}){const[s,i]=x.useState(0),o=Li(t),a=o.includes("vce")||o.includes("zven")||o.includes("pidno")||o.includes("zdraila"),l={polovin:{fraction:"1/2",blocks:2,label:"polovina"},tetin:{fraction:"1/3",blocks:3,label:"tetina"},tvrtin:{fraction:"1/4",blocks:4,label:"tvrtina"},ptin:{fraction:"1/5",blocks:5,label:"ptina"}};let u={fraction:"1/2",blocks:2,label:"polovina"};for(const[g,w]of Object.entries(l))if(o.toLowerCase().includes(g)){u=w;break}const d=Array(u.blocks).fill("original"),f=[{title:"Pvodn hodnota",description:"Zanme s celou hodnotou",showOriginal:!0,showChange:!1,showResult:!1},{title:`Co je ${u.label}?`,description:`${u.label} = jeden dl z ${u.blocks}`,showOriginal:!0,showChange:!1,showResult:!1,highlight:0},{title:a?`"O ${u.label} vce"`:`"O ${u.label} mn"`,description:a?`Pidme ${u.label} navc`:`Odebereme ${u.label}`,showOriginal:!0,showChange:!0,showResult:!1},{title:"Vsledek",description:a?`Pvodn + ${u.label} = ${u.blocks+1}/${u.blocks} pvodnho`:`Pvodn - ${u.label} = ${u.blocks-1}/${u.blocks} pvodnho`,showOriginal:!0,showChange:!0,showResult:!0}],h=f[s],y=s===f.length-1;return c.jsxs(Mi,{header:c.jsx(os,{icon:is,title:"Vizuln npovda",progress:{current:s+1,total:f.length},iconColor:"text-purple-600",progressColor:"bg-purple-500"}),bottomBar:{1:{onClick:n||e},2:{onClick:r},4:s>0?{action:"back",onClick:()=>i(s-1)}:void 0,5:{action:"continue",onClick:y?e:()=>i(s+1)}},contentClassName:"px-4 py-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:h.title}),c.jsx("p",{className:"text-slate-600 mt-1",children:h.description})]}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 w-full max-w-sm",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-xs text-slate-400 mb-2 uppercase tracking-wide",children:"Pvodn"}),c.jsx("div",{className:"flex gap-1",children:d.map((g,w)=>c.jsx("div",{className:`flex-1 h-12 rounded-lg transition-all duration-300
                    ${h.highlight===w?"bg-purple-500 ring-2 ring-purple-300":"bg-safe-blue"}
                    ${h.showOriginal?"":"opacity-30"}
                  `},w))})]}),(h.showChange||s>=2)&&c.jsxs("div",{className:"mb-4 transition-all duration-300",children:[c.jsx("p",{className:"text-xs text-slate-400 mb-2 uppercase tracking-wide",children:a?"Pidno":"Odebrno"}),c.jsx("div",{className:"flex gap-1",children:c.jsx("div",{className:`h-12 rounded-lg transition-all duration-300
                    ${a?"bg-green-500":"bg-red-400"}
                    ${h.showChange?"opacity-100":"opacity-0"}
                  `,style:{width:`${100/u.blocks}%`}})})]}),h.showResult&&c.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[c.jsx("p",{className:"text-xs text-slate-400 mb-2 uppercase tracking-wide",children:"Vsledek"}),c.jsx("div",{className:"flex gap-1",children:a?c.jsxs(c.Fragment,{children:[d.map((g,w)=>c.jsx("div",{className:"flex-1 h-12 rounded-lg bg-safe-blue"},w)),c.jsx("div",{className:"h-12 rounded-lg bg-green-500",style:{width:`${100/(u.blocks+1)}%`}})]}):d.slice(0,-1).map((g,w)=>c.jsx("div",{className:"flex-1 h-12 rounded-lg bg-safe-blue"},w))}),c.jsx("p",{className:"text-center text-lg font-medium text-slate-700 mt-4",children:a?`${u.blocks+1}/${u.blocks}  pvodn`:`${u.blocks-1}/${u.blocks}  pvodn`})]})]}),y&&c.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-xl p-4 w-full max-w-sm",children:c.jsxs("p",{className:"text-amber-800 text-sm",children:[c.jsx("strong",{children:"Klov:"}),' "',a?"O X vce":"O X mn",'" = pvodn ',a?"+":"-"," X z pvodnho"]})})]}),c.jsx("div",{className:"flex justify-center gap-2 mt-6",children:f.map((g,w)=>c.jsx("div",{className:`w-2 h-2 rounded-full transition-colors
              ${w===s?"bg-safe-blue":"bg-slate-300"}
            `},w))})]})}const Kg=ir;function Jg({onBack:t}){const[e,n]=x.useState([]),[r,s]=x.useState(!0);x.useEffect(()=>{(async()=>{const d=await Dg();n(d),s(!1)})()},[]);const i=x.useMemo(()=>{if(e.length===0)return 0;const u=new Date;u.setHours(0,0,0,0);const d=new Set;e.forEach(y=>{const g=new Date(y.created_at);g.setHours(0,0,0,0),d.add(g.toISOString())});let f=0;const h=new Date(u);for(;;){const y=h.toISOString();if(d.has(y))f++,h.setDate(h.getDate()-1);else if(f===0){if(h.setDate(h.getDate()-1),!d.has(h.toISOString()))break}else break}return f},[e]),o=x.useMemo(()=>{const u=new Date,d=new Date(u);d.setDate(u.getDate()-u.getDay()),d.setHours(0,0,0,0);const f=new Date(d);f.setDate(f.getDate()-7);const h=e.filter(g=>new Date(g.created_at)>=d),y=e.filter(g=>{const w=new Date(g.created_at);return w>=f&&w<d});return{thisWeek:h.length,lastWeek:y.length,difference:h.length-y.length,total:e.length}},[e]),a=x.useMemo(()=>{const u=new Map;return e.forEach(f=>{const h=u.get(f.topic)||[];h.push(f),u.set(f.topic,h)}),Array.from(u.entries()).map(([f,h])=>{const y=Gg(h),g=h.filter(w=>w.hints_used>0&&w.is_correct).length;return{topic:f,count:h.length,trend:y,hintsHelped:g}}).sort((f,h)=>h.count-f.count)},[e]),l=u=>{var d;return((d=Kg.topics[u])==null?void 0:d.name_cs)||u};return r?c.jsx("div",{className:"h-screen h-[100dvh] bg-slate-50 flex items-center justify-center",children:c.jsx("div",{className:"text-slate-400",children:"Natm..."})}):c.jsxs(Mi,{header:c.jsx(os,{icon:Tl,title:"Mj pokrok",iconColor:"text-purple-600",progressColor:"bg-purple-500"}),bottomBar:{1:{onClick:t}},contentClassName:"px-4 py-6",children:[c.jsx("p",{className:"text-slate-500 text-sm mb-6 -mt-4",children:"Zvod sama se sebou"}),i>0&&c.jsx(Yg,{streak:i}),c.jsx(Qg,{stats:o}),a.length>0&&c.jsx(Zg,{topics:a,getTopicName:l}),e.length>0&&c.jsx(e1,{attempts:e}),e.length===0&&c.jsx(t1,{})]})}function Gg(t){if(t.length<3)return"exploring";const e=[...t].sort((o,a)=>new Date(a.created_at).getTime()-new Date(o.created_at).getTime()),n=e.slice(0,5),r=e.slice(5,10);if(r.length<2)return"exploring";const s=n.filter(o=>o.is_correct).length/n.length,i=r.filter(o=>o.is_correct).length/r.length;return s>i+.15?"improving":s<i-.15?"exploring":"stable"}function Yg({streak:t}){return c.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 rounded-2xl p-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-3xl",children:""}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xl font-bold text-amber-800",children:[t," ",t===1?"den":t<5?"dny":"dn"," v ad!"]}),c.jsx("div",{className:"text-sm text-amber-700",children:"Skvl prce, pokrauj!"})]})]})})}function Qg({stats:t}){const e=t.lastWeek>0;return c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[e&&t.difference!==0&&c.jsx("div",{className:`text-sm font-medium mb-1 ${t.difference>0?"text-green-600":"text-slate-400"}`,children:t.difference>0?`+${t.difference} `:`${t.difference}`}),c.jsx("div",{className:"text-3xl font-bold text-safe-blue",children:t.thisWeek}),c.jsx("div",{className:"text-sm text-slate-500",children:"tento tden"})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[c.jsx("div",{className:"text-3xl font-bold text-purple-600",children:t.total}),c.jsx("div",{className:"text-sm text-slate-500",children:"celkem prozkoumno"})]})]})}function Zg({topics:t,getTopicName:e}){const n=Math.max(...t.map(s=>s.count)),r=s=>{switch(s){case"improving":return{text:"Zlepuje se",icon:"",color:"text-green-600"};case"stable":return{text:"Stabiln",icon:"",color:"text-blue-600"};case"exploring":return{text:"Objevuje",icon:"",color:"text-purple-600"};default:return{text:"",icon:"",color:""}}};return c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-sm font-medium text-slate-600 mb-3",children:"Co prozkoumv"}),c.jsx("div",{className:"space-y-3",children:t.map(s=>{const i=r(s.trend),o=s.count/n*100;return c.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("div",{className:"font-medium text-slate-800",children:e(s.topic)}),c.jsxs("div",{className:`text-sm font-medium ${i.color}`,children:[i.icon," ",i.text]})]}),c.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden mb-2",children:c.jsx("div",{className:"h-full bg-safe-blue rounded-full transition-all",style:{width:`${o}%`}})}),c.jsxs("div",{className:"text-xs text-slate-500",children:[s.count," prozkoumno"]})]},s.topic)})})]})}function e1({attempts:t}){const e=t.filter(r=>r.hints_used>0&&r.is_correct).length;return t.filter(r=>r.hints_used>0).length===0?null:c.jsx("div",{className:"bg-purple-50 rounded-2xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-purple-800",children:"Npovdy ti pomohly"}),c.jsxs("div",{className:"text-sm text-purple-600",children:[e," ses dky nim nauila sprvn postup"]})]})]})})}function t1(){return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h2",{className:"text-lg font-medium text-slate-700 mb-2",children:"Zani objevovat!"}),c.jsxs("p",{className:"text-slate-500",children:["Vyber si tma a prozkoumej prvn lohy.",c.jsx("br",{}),"Tvj pokrok se bude zobrazovat tady."]})]})}function n1({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}const r1=x.forwardRef(n1),wc=r1;function s1({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const i1=x.forwardRef(s1),o1=i1;function a1({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const l1=x.forwardRef(a1),sf=l1;function u1({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"}),x.createElement("path",{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"}))}const c1=x.forwardRef(u1),d1=c1;function of({streak:t,threshold:e=3,className:n=""}){return t<e?null:c.jsxs("div",{className:`flex items-center justify-center gap-1 ${n}`,children:[c.jsx(sf,{className:"w-5 h-5 text-orange-500"}),c.jsx("span",{className:"text-orange-600 font-bold",children:t})]})}function h1({question:t,onAnswer:e,streak:n}){const r=t.meta.type_id||"",s=r==="type_recognition",i=r==="problem_type";return c.jsxs("div",{className:"p-4",children:[c.jsx(of,{streak:n,className:"mb-3"}),s&&c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-3",children:[c.jsx(hi,{className:"w-4 h-4 text-indigo-500"}),c.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:"Rozpoznej vzorec"})]}),i&&c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-3",children:[c.jsx(g0,{className:"w-4 h-4 text-emerald-500"}),c.jsx("span",{className:"text-emerald-600 text-sm font-medium",children:"Rozpoznej typ lohy"})]}),c.jsx(Ol,{question:t,className:"bg-white rounded-2xl shadow-sm p-5 mb-4",textClassName:"text-lg text-center text-slate-800 font-medium",mono:s}),c.jsx("div",{className:"space-y-2",children:t.shuffledAnswers.map((o,a)=>c.jsx("button",{onClick:()=>e(o),className:`w-full p-3 rounded-xl bg-white border-2 border-slate-200
              text-base font-medium text-slate-700
              transition-gentle active:scale-[0.98] active:bg-amber-50
              focus:outline-none ${s?"font-mono":""}`,children:o},`${t.id}-${a}`))},t.id)]})}function f1({question:t,selectedAnswer:e,isCorrect:n,streak:r}){const i=(t.meta.type_id||"")==="type_recognition",{strategy:o,steps:a}=zh(t);return n?c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:c.jsx(o1,{className:"w-10 h-10 text-green-600"})}),c.jsx("p",{className:`text-2xl font-bold text-green-700 mb-2 ${i?"font-mono":""}`,children:t.displayCorrect}),c.jsx(of,{streak:r})]}):c.jsxs("div",{className:"flex-1 flex flex-col items-center p-4 pb-24 overflow-y-auto",children:[c.jsx(Ol,{question:t,className:"bg-white rounded-2xl shadow-sm p-5 w-full max-w-sm mb-4",textClassName:"text-lg text-center text-slate-800 font-medium",mono:i}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 w-full max-w-sm mb-4",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Tvoje odpov"}),c.jsx("p",{className:`text-xl text-slate-400 line-through ${i?"font-mono":""}`,children:e})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Sprvn"}),c.jsx("p",{className:`text-2xl font-bold text-green-600 ${i?"font-mono":""}`,children:t.displayCorrect})]})]}),c.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 w-full max-w-sm",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(d1,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-purple-800 font-medium mb-1",children:o}),a.map((l,u)=>c.jsx("p",{className:"text-purple-600 text-sm",children:l},u))]})]})})]})}const p1={trophy:$h,bolt:Ih,academic:Pl},m1={trophy:"text-amber-500",bolt:"text-amber-500",academic:"text-indigo-600"},y1={trophy:"",bolt:"",academic:"bg-indigo-100 rounded-full p-3"};function af({icon:t,title:e,subtitle:n,totalExplored:r,comparisonMessage:s,streak:i,hintsHelped:o,totalStats:a,encouragement:l,onExit:u,onRestart:d,onViewProgress:f}){const h=p1[t],y=m1[t],g=y1[t];return c.jsxs("div",{className:"h-screen h-[100dvh] bg-slate-50 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto flex items-center justify-center px-4 py-6 pb-20",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 sm:p-8 max-w-sm w-full text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:g,children:c.jsx(h,{className:`w-12 h-12 sm:w-16 sm:h-16 ${y}`})})}),c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 mb-2",children:e}),n&&c.jsx("p",{className:"text-slate-600 mb-6",children:n}),c.jsxs("div",{className:"bg-safe-blue/10 rounded-xl p-4 mb-4",children:[c.jsx("div",{className:"text-4xl font-bold text-safe-blue",children:r}),c.jsx("div",{className:"text-sm text-blue-700",children:"loh prozkoumno"}),s&&c.jsx("div",{className:"text-sm text-green-600 mt-2 font-medium",children:s})]}),i!==void 0&&i>0&&c.jsxs("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(sf,{className:"w-6 h-6 text-orange-500"}),c.jsxs("span",{className:"text-xl font-bold text-amber-800",children:[i," v ad!"]})]}),c.jsx("div",{className:"text-sm text-amber-700 mt-1",children:"Nejdel srie"})]}),o!==void 0&&o>0&&c.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-medium text-purple-800",children:"Npovdy ti pomohly"})]}),c.jsxs("div",{className:"text-sm text-purple-600",children:[o," ses dky nim nauila sprvn postup"]})]}),a&&a.problems>0&&c.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"text-lg font-medium text-slate-700",children:[a.problems," loh celkem"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:["za ",a.sessions," cvien"]})]}),l&&c.jsx("div",{className:"bg-green-50 rounded-xl p-4",children:c.jsx("p",{className:"text-green-700",children:l})})]})}),c.jsx(tr,{slots:{1:{onClick:u},2:{onClick:f},5:{action:"restart",onClick:d}}})]})}function v1({stats:t,onRestart:e,onExit:n,onViewProgress:r}){const s=t.total,i=t.bestStreak,o=()=>i>=5?"Skvl srie! Tohle tma ti jde.":s>=10?"Vborn! Hodn jsi toho prozkoumala.":"Kad pokus t posouv dl!";return c.jsx(af,{icon:"bolt",title:"Hotovo!",totalExplored:s,streak:i,encouragement:o(),onExit:n,onRestart:e,onViewProgress:r})}const g1=ir,w1=10;function _1(t){return typeof t=="number"?t.toLocaleString("cs-CZ"):t}function x1(t,e){return[t,...e].sort(()=>Math.random()-.5)}function b1(t){const e=t.modes.numeric;if(!e)throw new Error(`Question ${t.id} has no numeric mode`);const n=_1(e.answer);return{...t,displayCorrect:n,shuffledAnswers:x1(n,e.distractors||[])}}function k1({onExit:t,onViewProgress:e}){const[n,r]=x.useState("playing"),[s,i]=x.useState(()=>(gi("lightning"),E())),[o,a]=x.useState(0),[l,u]=x.useState(null),[d,f]=x.useState(null),[h,y]=x.useState([]),[g,w]=x.useState(0),[b,v]=x.useState(0),[p,m]=x.useState(()=>Date.now()),_=M=>{const V=s[o],ie=M===V.displayCorrect,me=Date.now()-p;if(u(M),f(ie),ie){const Oe=g+1;w(Oe),Oe>b&&v(Oe)}else w(0);vi({question_id:V.id,question_stem:V.question.context||V.question.stem||"",correct_answer:V.displayCorrect,topic:V.topic,difficulty:V.difficulty,user_answer:M,is_correct:ie,mode:"lightning",hints_used:0,hints_shown:[],time_spent_ms:me}),y(Oe=>[...Oe,{questionId:V.id,selectedAnswer:M,correct:ie,timeMs:me}]),r("feedback"),ie&&setTimeout(()=>{k()},800)},k=()=>{o+1>=s.length?($l(),r("summary")):(a(M=>M+1),u(null),f(null),r("playing"),m(Date.now()))},S=()=>{k()};function E(){return[...g1.questions.filter(ie=>{var me;return ie.modes.numeric&&(((me=ie.modes.numeric.distractors)==null?void 0:me.length)||0)>=2}).map(b1)].sort(()=>Math.random()-.5).slice(0,w1)}const P=()=>{gi("lightning"),i(E()),a(0),u(null),f(null),y([]),w(0),v(0),r("playing"),m(Date.now())},$=()=>{const M=h.filter(me=>me.correct).length,V=h.reduce((me,Oe)=>me+Oe.timeMs,0),ie=h.length>0?Math.round(V/h.length):0;return{correct:M,total:h.length,avgTimeMs:ie,bestStreak:b}};if(s.length===0)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx(wc,{className:"w-12 h-12 text-amber-500 animate-pulse"})});const N=s[o];return n==="summary"?c.jsx(v1,{stats:$(),onRestart:P,onExit:t,onViewProgress:e}):c.jsxs(Mi,{header:c.jsx(os,{icon:wc,title:"Bleskov kolo",progress:{current:o+1,total:s.length},iconColor:"text-amber-500",progressColor:"bg-amber-500"}),bottomBar:{1:{onClick:t},2:{onClick:e},5:n==="feedback"&&!d?{action:"continue",onClick:S}:void 0},children:[n==="playing"&&c.jsx(h1,{question:N,onAnswer:_,streak:g}),n==="feedback"&&l!==null&&d!==null&&c.jsx(f1,{question:N,selectedAnswer:l,isCorrect:d,streak:g})]})}const Aa={option:`w-full p-4 rounded-xl text-left transition-gentle active:scale-[0.98]
    bg-white border-2 border-slate-200 text-slate-700
    disabled:opacity-50`,optionSelected:"bg-indigo-100 border-2 border-indigo-400 text-indigo-800",optionCompact:`w-full p-3 rounded-xl text-left transition-gentle active:scale-[0.98]
    bg-white border-2 border-slate-200 text-base font-medium text-slate-700
    focus:outline-none disabled:opacity-50`},_c={success:"bg-green-50 text-green-700",warning:"bg-amber-50 text-amber-700",info:"bg-indigo-50 text-indigo-700"};function S1(t){return t?`w-full p-4 rounded-xl text-left transition-gentle active:scale-[0.98]
      ${Aa.optionSelected} disabled:opacity-50`:Aa.option}function lf({options:t,questionId:e,onSelect:n,mode:r="immediate",delay:s=300,compact:i=!1,mono:o=!1,disabled:a=!1,className:l=""}){const[u,d]=x.useState(null),f=y=>{a||u!==null||(r==="immediate"?n(y):(d(y.id),setTimeout(()=>{n(y),d(null)},s)))},h=y=>i?Aa.optionCompact:S1(u===y.id);return c.jsx("div",{className:`space-y-3 ${l}`,children:t.map((y,g)=>c.jsx("button",{onClick:()=>f(y),disabled:a||u!==null,className:h(y),children:c.jsx("span",{className:o?"font-mono":"font-medium",children:y.label})},`${e}-${y.id}-${g}`))})}function j1({question:t,onAnswer:e}){const n=x.useMemo(()=>{const s=t.meta.type_id||"",i=t.meta.type_label||"";return[{id:s,label:i,isCorrect:!0},...t.typeDistractors.map(o=>({id:o.id,label:o.label,isCorrect:!1}))].sort(()=>Math.random()-.5)},[t.id]),r=s=>{e(s.id,s.isCorrect)};return c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-700 mb-4",children:"Jak je to typ lohy?"}),c.jsx(lf,{options:n,questionId:t.id,onSelect:r,mode:"delayed"})]})}function E1({question:t,typeWasCorrect:e,onAnswer:n}){const r=t.solution.strategy||"",s=t.meta.type_label||"",i=x.useMemo(()=>[{id:r,label:r,isCorrect:!0},...t.strategyDistractors.map(a=>({id:a,label:a,isCorrect:!1}))].sort(()=>Math.random()-.5),[t.id]),o=a=>{n(a.label,a.isCorrect)};return c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:`flex items-center gap-2 mb-4 px-3 py-2 rounded-lg ${e?_c.success:_c.warning}`,children:[e?c.jsx(Lh,{className:"w-5 h-5"}):c.jsx(a0,{className:"w-5 h-5"}),c.jsxs("span",{className:"text-sm",children:["Typ: ",s,e?"":" (sprvn odpov)"]})]}),c.jsx("h3",{className:"text-lg font-medium text-slate-700 mb-4",children:"Jak je sprvn strategie?"}),c.jsx(lf,{options:i,questionId:t.id,onSelect:o,mode:"delayed",mono:!0})]})}function C1({results:t,questions:e,onExit:n,onViewProgress:r,onRestart:s}){const i=t.length,o=()=>i>=8?"Skvl prozkoumvn typ loh!":i>=5?"Dobr prce! U se rozpoznvat typy.":"Kad typ, kter pozn, t posouv dl!";return c.jsx(af,{icon:"academic",title:"Hotovo!",subtitle:"Trnink rozpoznvn typ",totalExplored:i,encouragement:o(),onExit:n,onRestart:s,onViewProgress:r})}const P1=ir;function T1(t){return{"WORD-OXVICE":[{id:"NUM-PROC",label:"Procenta"},{id:"ALG-EQ",label:"Rovnice"}],"ALG-EQ":[{id:"ALG-EXPR",label:"prava vrazu"},{id:"NUM-ZLOM",label:"Zlomky"}],"NUM-ZLOM":[{id:"NUM-PROC",label:"Procenta"},{id:"ALG-EQ",label:"Rovnice"}],"GEOM-PYTH":[{id:"GEOM-OBSAH",label:"Obsah/obvod"},{id:"ALG-EQ",label:"Rovnice"}],"PYTH-PTYPE":[{id:"GEOM-OBSAH",label:"Obsah/obvod"},{id:"NUM-PROC",label:"Procenta"},{id:"ALG-EQ",label:"Rovnice"}]}[t||""]||[{id:"NUM-PROC",label:"Procenta"},{id:"ALG-EQ",label:"Rovnice"}]}function O1(t){return{o_x_vice:["+ zlomek"," zlomek"],equations:["Vytkej","Rozlo"],fractions:["Nsob pmo","Pevra"],pythagorean:["a + b","a  b"]}[t]||["Jin strategie"]}function N1(t){return{...t,typeDistractors:T1(t.meta.type_id),strategyDistractors:O1(t.topic)}}function R1({onExit:t,onViewProgress:e}){const[n,r]=x.useState([]),[s,i]=x.useState(0),[o,a]=x.useState("type"),[l,u]=x.useState([]),[d,f]=x.useState(null),[h,y]=x.useState(Date.now()),g=()=>(gi("typedrill"),[...P1.questions.filter(V=>V.modes.type_recognition&&(V.question.context||V.question.stem)).map(N1)].sort(()=>Math.random()-.5).slice(0,10));x.useEffect(()=>{r(g()),y(Date.now())},[]);const w=()=>{r(g()),i(0),a("type"),u([]),f(null),y(Date.now())},b=n[s],v=(N,M)=>{f({questionId:b.id,typeCorrect:M,typeAnswer:N,strategyCorrect:!1,strategyAnswer:null,timeSpent:Date.now()-h}),a("strategy")},p=(N,M)=>{const V={...d,strategyCorrect:M,strategyAnswer:N,timeSpent:Date.now()-h};vi({question_id:b.id,question_stem:b.question.context||"",correct_answer:b.meta.type_label||"",topic:b.topic,difficulty:b.difficulty,user_answer:`type:${d.typeAnswer||"skipped"}|strategy:${N}`,is_correct:d.typeCorrect&&M,mode:"type_recognition",hints_used:0,hints_shown:[],time_spent_ms:Date.now()-h}),f(V),u([...l,V]),a("feedback")},m=()=>{s<n.length-1?(i(s+1),a("type"),f(null),y(Date.now())):($l(),a("summary"))},_=()=>{const N={questionId:b.id,typeCorrect:!1,typeAnswer:null,strategyCorrect:!1,strategyAnswer:null,timeSpent:Date.now()-h,skipped:!0};vi({question_id:b.id,question_stem:b.question.context||"",correct_answer:b.meta.type_label||"",topic:b.topic,difficulty:b.difficulty,user_answer:"skipped",is_correct:!1,mode:"type_recognition",hints_used:0,hints_shown:[],time_spent_ms:Date.now()-h}),u([...l,N]),m()};if(x.useEffect(()=>{if(o==="feedback"&&(d!=null&&d.typeCorrect)&&(d!=null&&d.strategyCorrect)){const N=setTimeout(m,1200);return()=>clearTimeout(N)}},[o,d]),n.length===0)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx("div",{className:"text-slate-500",children:"Natm..."})});if(o==="summary")return c.jsx(C1,{results:l,questions:n,onExit:t,onViewProgress:e,onRestart:w});const k=Li(b),{strategy:S,hints:E}=zh(b),P=b.meta.type_label||"",$=E[0]||"";return c.jsxs(Mi,{header:c.jsx(os,{icon:Pl,title:"Rozpoznej typ",progress:{current:s+1,total:n.length},iconColor:"text-indigo-600",progressColor:"bg-indigo-500"}),bottomBar:{1:{onClick:t},2:{onClick:e},5:{action:o==="feedback"?"continue":"skip",onClick:o==="feedback"?m:_}},contentClassName:"px-4 py-6",children:[c.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:c.jsx("p",{className:"text-lg text-slate-800 leading-relaxed",children:k})}),o==="type"&&c.jsx(j1,{question:b,onAnswer:v}),o==="strategy"&&d&&c.jsx(E1,{question:b,typeWasCorrect:d.typeCorrect,onAnswer:p}),o==="feedback"&&d&&c.jsx("div",{className:"flex-1 flex flex-col",children:c.jsx("div",{className:`rounded-xl p-4 ${d.typeCorrect&&d.strategyCorrect?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:d.typeCorrect?"text-green-600":"text-amber-600",children:d.typeCorrect?"":""}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Typ: "}),c.jsx("span",{className:d.typeCorrect?"text-green-700":"text-amber-700",children:P})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:d.strategyCorrect?"text-green-600":"text-amber-600",children:d.strategyCorrect?"":""}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Strategie: "}),c.jsx("span",{className:d.strategyCorrect?"text-green-700":"text-amber-700",children:S})]})]}),c.jsx("div",{className:"pt-2 border-t border-slate-200 mt-2",children:c.jsx("p",{className:"text-slate-600 text-sm",children:$})})]})})})]})}const A1=ir;function To(){try{const t=JSON.parse(localStorage.getItem("tutor_progress")||"[]");return t.length>0?t[t.length-1]:null}catch{return null}}function I1(){try{const t=JSON.parse(localStorage.getItem("tutor_progress")||"[]"),e=new Set;for(const n of t)for(const r of n.attempts||[])r.correct&&(r.hintsUsed||0)===0&&e.add(r.problemId);return e}catch{return new Set}}function L1(){return A1.questions.filter(t=>t.modes.numeric)}function $1(t){const n=I1(),r=L1(),s=u=>{const d=u.filter(f=>!n.has(f.id));return d.length>=6?d:u};if(t==="mixed"){const u=s(r.filter(y=>y.topic==="equations")),d=s(r.filter(y=>y.topic==="o_x_vice")),f=[...u].sort(()=>Math.random()-.5),h=[...d].sort(()=>Math.random()-.5);return[f[0],f[1],f[2],h[0],f[3],f[4]].filter(Boolean)}const i=r.filter(u=>u.topic===t),o=i.filter(u=>!n.has(u.id)),l=[...o.length>0?o:i].sort(()=>Math.random()-.5);return l.slice(0,Math.min(6,l.length))}function z1(){const[t,e]=x.useState("topic_select"),[n,r]=x.useState(null),[s,i]=x.useState([]),[o,a]=x.useState(0),[l,u]=x.useState([]),[d,f]=x.useState(null),[h,y]=x.useState(!1),[g,w]=x.useState(new Set),[b,v]=x.useState(()=>{try{return localStorage.getItem("tutor_type_prompt")==="true"}catch{return!1}}),[p,m]=x.useState(null),_=()=>{const H=!b;v(H);try{localStorage.setItem("tutor_type_prompt",String(H))}catch(ae){console.error("Failed to save type prompt setting:",ae)}};x.useEffect(()=>{f(To())},[]);const k=s[o],S=()=>!k||k.topic!=="o_x_vice"||g.has(k.id)?!1:s.slice(0,o+1).filter(ae=>ae.topic==="o_x_vice").length===1,E=H=>{r(H),i($1(H)),a(0),u([]),m(null),gi(H),e("session")},P=H=>{if(!k)return;const ae={problemId:k.id,topic:k.topic,correct:H.correct,timestamp:new Date().toISOString(),hintsUsed:H.hintsUsed||0,timeSpent:H.timeSpent||0},C=[...l,ae];u(C),o<s.length-1?(a(o+1),y(!1)):($(C),e("summary"))},$=H=>{try{const ae=JSON.parse(localStorage.getItem("tutor_progress")||"[]"),C={totalHintsUsed:H.reduce((L,D)=>L+(D.hintsUsed||0),0),problemsWithoutHints:H.filter(L=>(L.hintsUsed||0)===0).length,totalTimeSpent:H.reduce((L,D)=>L+(D.timeSpent||0),0)},z={date:new Date().toISOString(),topic:n||"",problemsExplored:s.length,sessionMetrics:C,attempts:H};ae.push(z),localStorage.setItem("tutor_progress",JSON.stringify(ae)),$l()}catch(ae){console.error("Failed to save progress:",ae)}},N=()=>{k&&w(new Set([...g,k.id])),y(!1)},M=()=>{f(To()),e("topic_select"),r(null),i([]),a(0),u([]),y(!1),w(new Set)},V=()=>{e("progress")},ie=()=>{e("lightning")},me=()=>{e("typedrill")};if(t==="lightning")return c.jsx(k1,{onExit:M,onViewProgress:V});if(t==="typedrill")return c.jsx(R1,{onExit:M,onViewProgress:V});if(t==="progress")return c.jsx(Jg,{onBack:()=>{f(To()),e("topic_select")}});if(t==="topic_select")return c.jsx(Fg,{onSelectTopic:E,lastSession:d,onViewProgress:V,onStartLightning:ie,onStartTypeDrill:me});if(t==="summary"){const H={totalHintsUsed:l.reduce((ae,C)=>ae+(C.hintsUsed||0),0),problemsWithoutHints:l.filter(ae=>(ae.hintsUsed||0)===0).length};return c.jsx(Xg,{attempts:l,totalProblems:s.length,topic:n,sessionMetrics:H,onNewSession:M,onViewProgress:V})}if(S()&&!h&&k&&!g.has(k.id))return c.jsxs("div",{className:"h-screen h-[100dvh] bg-slate-50 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto flex items-center justify-center px-4 py-6 pb-20",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 max-w-sm w-full text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(is,{className:"w-12 h-12 text-purple-500"})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:'Tma: "O X vce/mn"'}),c.jsx("p",{className:"text-slate-600 mb-6",children:"Chce nejdv vidt vizuln vysvtlen, jak tyto lohy funguj?"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{w(new Set([...g,k.id]))},className:`flex-1 py-3 px-4 rounded-xl bg-slate-200 text-slate-700
                  font-medium transition-gentle active:scale-[0.98]`,children:"Zkusm to"}),c.jsx("button",{onClick:()=>y(!0),className:`flex-1 py-3 px-4 rounded-xl bg-safe-blue text-white
                  font-medium transition-gentle active:scale-[0.98]`,children:"Uka mi"})]})]})}),c.jsx(tr,{slots:{1:{onClick:M},2:{onClick:V}}})]});if(h&&k)return c.jsx(Hg,{problem:k,onContinue:N,onHome:M,onViewProgress:V});const Oe=p===(k==null?void 0:k.topic);return k?c.jsx(qg,{problem:k,onAnswer:P,progress:{current:o+1,total:s.length},onExit:M,onViewProgress:V,typePromptEnabled:b,onToggleTypePrompt:_,skipStrategyPrompt:Oe,onStrategyAnswered:H=>m(H)}):null}const uf=document.getElementById("root");if(!uf)throw new Error("Root element not found");Ah(uf).render(c.jsx(x.StrictMode,{children:c.jsx(z1,{})}));
